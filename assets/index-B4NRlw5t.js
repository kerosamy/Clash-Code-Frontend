(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function oE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var og={exports:{}},ic={};var gv;function cE(){if(gv)return ic;gv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:a}}return ic.Fragment=e,ic.jsx=t,ic.jsxs=t,ic}var Ov;function uE(){return Ov||(Ov=1,og.exports=cE()),og.exports}var p=uE(),cg={exports:{}},$e={};var xv;function fE(){if(xv)return $e;xv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function y(_){return _===null||typeof _!="object"?null:(_=x&&_[x]||_["@@iterator"],typeof _=="function"?_:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function C(_,X,te){this.props=_,this.context=X,this.refs=w,this.updater=te||v}C.prototype.isReactComponent={},C.prototype.setState=function(_,X){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,X,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function R(){}R.prototype=C.prototype;function E(_,X,te){this.props=_,this.context=X,this.refs=w,this.updater=te||v}var j=E.prototype=new R;j.constructor=E,S(j,C.prototype),j.isPureReactComponent=!0;var Q=Array.isArray;function M(){}var k={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function D(_,X,te){var ce=te.ref;return{$$typeof:n,type:_,key:X,ref:ce!==void 0?ce:null,props:te}}function L(_,X){return D(_.type,X,_.props)}function V(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function z(_){var X={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(te){return X[te]})}var I=/\/+/g;function H(_,X){return typeof _=="object"&&_!==null&&_.key!=null?z(""+_.key):X.toString(36)}function F(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(M,M):(_.status="pending",_.then(function(X){_.status==="pending"&&(_.status="fulfilled",_.value=X)},function(X){_.status==="pending"&&(_.status="rejected",_.reason=X)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function P(_,X,te,ce,me){var be=typeof _;(be==="undefined"||be==="boolean")&&(_=null);var Ce=!1;if(_===null)Ce=!0;else switch(be){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(_.$$typeof){case n:case e:Ce=!0;break;case m:return Ce=_._init,P(Ce(_._payload),X,te,ce,me)}}if(Ce)return me=me(_),Ce=ce===""?"."+H(_,0):ce,Q(me)?(te="",Ce!=null&&(te=Ce.replace(I,"$&/")+"/"),P(me,X,te,"",function(it){return it})):me!=null&&(V(me)&&(me=L(me,te+(me.key==null||_&&_.key===me.key?"":(""+me.key).replace(I,"$&/")+"/")+Ce)),X.push(me)),1;Ce=0;var tt=ce===""?".":ce+":";if(Q(_))for(var Xe=0;Xe<_.length;Xe++)ce=_[Xe],be=tt+H(ce,Xe),Ce+=P(ce,X,te,be,me);else if(Xe=y(_),typeof Xe=="function")for(_=Xe.call(_),Xe=0;!(ce=_.next()).done;)ce=ce.value,be=tt+H(ce,Xe++),Ce+=P(ce,X,te,be,me);else if(be==="object"){if(typeof _.then=="function")return P(F(_),X,te,ce,me);throw X=String(_),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function Z(_,X,te){if(_==null)return _;var ce=[],me=0;return P(_,ce,"","",function(be){return X.call(te,be,me++)}),ce}function K(_){if(_._status===-1){var X=_._result;X=X(),X.then(function(te){(_._status===0||_._status===-1)&&(_._status=1,_._result=te)},function(te){(_._status===0||_._status===-1)&&(_._status=2,_._result=te)}),_._status===-1&&(_._status=0,_._result=X)}if(_._status===1)return _._result.default;throw _._result}var ie=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},le={map:Z,forEach:function(_,X,te){Z(_,function(){X.apply(this,arguments)},te)},count:function(_){var X=0;return Z(_,function(){X++}),X},toArray:function(_){return Z(_,function(X){return X})||[]},only:function(_){if(!V(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return $e.Activity=g,$e.Children=le,$e.Component=C,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=E,$e.StrictMode=i,$e.Suspense=f,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,$e.__COMPILER_RUNTIME={__proto__:null,c:function(_){return k.H.useMemoCache(_)}},$e.cache=function(_){return function(){return _.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(_,X,te){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ce=S({},_.props),me=_.key;if(X!=null)for(be in X.key!==void 0&&(me=""+X.key),X)!$.call(X,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&X.ref===void 0||(ce[be]=X[be]);var be=arguments.length-2;if(be===1)ce.children=te;else if(1<be){for(var Ce=Array(be),tt=0;tt<be;tt++)Ce[tt]=arguments[tt+2];ce.children=Ce}return D(_.type,me,ce)},$e.createContext=function(_){return _={$$typeof:o,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:a,_context:_},_},$e.createElement=function(_,X,te){var ce,me={},be=null;if(X!=null)for(ce in X.key!==void 0&&(be=""+X.key),X)$.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=X[ce]);var Ce=arguments.length-2;if(Ce===1)me.children=te;else if(1<Ce){for(var tt=Array(Ce),Xe=0;Xe<Ce;Xe++)tt[Xe]=arguments[Xe+2];me.children=tt}if(_&&_.defaultProps)for(ce in Ce=_.defaultProps,Ce)me[ce]===void 0&&(me[ce]=Ce[ce]);return D(_,be,me)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(_){return{$$typeof:c,render:_}},$e.isValidElement=V,$e.lazy=function(_){return{$$typeof:m,_payload:{_status:-1,_result:_},_init:K}},$e.memo=function(_,X){return{$$typeof:h,type:_,compare:X===void 0?null:X}},$e.startTransition=function(_){var X=k.T,te={};k.T=te;try{var ce=_(),me=k.S;me!==null&&me(te,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(M,ie)}catch(be){ie(be)}finally{X!==null&&te.types!==null&&(X.types=te.types),k.T=X}},$e.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},$e.use=function(_){return k.H.use(_)},$e.useActionState=function(_,X,te){return k.H.useActionState(_,X,te)},$e.useCallback=function(_,X){return k.H.useCallback(_,X)},$e.useContext=function(_){return k.H.useContext(_)},$e.useDebugValue=function(){},$e.useDeferredValue=function(_,X){return k.H.useDeferredValue(_,X)},$e.useEffect=function(_,X){return k.H.useEffect(_,X)},$e.useEffectEvent=function(_){return k.H.useEffectEvent(_)},$e.useId=function(){return k.H.useId()},$e.useImperativeHandle=function(_,X,te){return k.H.useImperativeHandle(_,X,te)},$e.useInsertionEffect=function(_,X){return k.H.useInsertionEffect(_,X)},$e.useLayoutEffect=function(_,X){return k.H.useLayoutEffect(_,X)},$e.useMemo=function(_,X){return k.H.useMemo(_,X)},$e.useOptimistic=function(_,X){return k.H.useOptimistic(_,X)},$e.useReducer=function(_,X,te){return k.H.useReducer(_,X,te)},$e.useRef=function(_){return k.H.useRef(_)},$e.useState=function(_){return k.H.useState(_)},$e.useSyncExternalStore=function(_,X,te){return k.H.useSyncExternalStore(_,X,te)},$e.useTransition=function(){return k.H.useTransition()},$e.version="19.2.0",$e}var bv;function Cd(){return bv||(bv=1,cg.exports=fE()),cg.exports}var T=Cd();const fn=oE(T);var ug={exports:{}},sc={},fg={exports:{}},hg={};var yv;function hE(){return yv||(yv=1,(function(n){function e(P,Z){var K=P.length;P.push(Z);e:for(;0<K;){var ie=K-1>>>1,le=P[ie];if(0<s(le,Z))P[ie]=Z,P[K]=le,K=ie;else break e}}function t(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var Z=P[0],K=P.pop();if(K!==Z){P[0]=K;e:for(var ie=0,le=P.length,_=le>>>1;ie<_;){var X=2*(ie+1)-1,te=P[X],ce=X+1,me=P[ce];if(0>s(te,K))ce<le&&0>s(me,te)?(P[ie]=me,P[ce]=K,ie=ce):(P[ie]=te,P[X]=K,ie=X);else if(ce<le&&0>s(me,K))P[ie]=me,P[ce]=K,ie=ce;else break e}}return Z}function s(P,Z){var K=P.sortIndex-Z.sortIndex;return K!==0?K:P.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],h=[],m=1,g=null,x=3,y=!1,v=!1,S=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function j(P){for(var Z=t(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=P)i(h),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=t(h)}}function Q(P){if(S=!1,j(P),!v)if(t(f)!==null)v=!0,M||(M=!0,z());else{var Z=t(h);Z!==null&&F(Q,Z.startTime-P)}}var M=!1,k=-1,$=5,D=-1;function L(){return w?!0:!(n.unstable_now()-D<$)}function V(){if(w=!1,M){var P=n.unstable_now();D=P;var Z=!0;try{e:{v=!1,S&&(S=!1,R(k),k=-1),y=!0;var K=x;try{t:{for(j(P),g=t(f);g!==null&&!(g.expirationTime>P&&L());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,x=g.priorityLevel;var le=ie(g.expirationTime<=P);if(P=n.unstable_now(),typeof le=="function"){g.callback=le,j(P),Z=!0;break t}g===t(f)&&i(f),j(P)}else i(f);g=t(f)}if(g!==null)Z=!0;else{var _=t(h);_!==null&&F(Q,_.startTime-P),Z=!1}}break e}finally{g=null,x=K,y=!1}Z=void 0}}finally{Z?z():M=!1}}}var z;if(typeof E=="function")z=function(){E(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=V,z=function(){H.postMessage(null)}}else z=function(){C(V,0)};function F(P,Z){k=C(function(){P(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(P){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var K=x;x=Z;try{return P()}finally{x=K}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=x;x=P;try{return Z()}finally{x=K}},n.unstable_scheduleCallback=function(P,Z,K){var ie=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,P){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,P={id:m++,callback:Z,priorityLevel:P,startTime:K,expirationTime:le,sortIndex:-1},K>ie?(P.sortIndex=K,e(h,P),t(f)===null&&P===t(h)&&(S?(R(k),k=-1):S=!0,F(Q,K-ie))):(P.sortIndex=le,e(f,P),v||y||(v=!0,M||(M=!0,z()))),P},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(P){var Z=x;return function(){var K=x;x=Z;try{return P.apply(this,arguments)}finally{x=K}}}})(hg)),hg}var vv;function dE(){return vv||(vv=1,fg.exports=hE()),fg.exports}var dg={exports:{}},Cn={};var Sv;function mE(){if(Sv)return Cn;Sv=1;var n=Cd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,m)},Cn.flushSync=function(f){var h=o.T,m=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=h,i.p=m,i.d.f()}},Cn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},Cn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Cn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:y}):m==="script"&&i.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Cn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},Cn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);i.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Cn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},Cn.requestFormReset=function(f){i.d.r(f)},Cn.unstable_batchedUpdates=function(f,h){return f(h)},Cn.useFormState=function(f,h,m){return o.H.useFormState(f,h,m)},Cn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Cn.version="19.2.0",Cn}var wv;function Zw(){if(wv)return dg.exports;wv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=mE(),dg.exports}var Av;function pE(){if(Av)return sc;Av=1;var n=dE(),e=Cd(),t=Zw();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var l=r,u=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(u=l.return),r=l.return;while(r)}return l.tag===3?u:null}function o(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function c(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function h(r){var l=r.alternate;if(!l){if(l=a(r),l===null)throw Error(i(188));return l!==r?null:r}for(var u=r,d=l;;){var O=u.return;if(O===null)break;var b=O.alternate;if(b===null){if(d=O.return,d!==null){u=d;continue}break}if(O.child===b.child){for(b=O.child;b;){if(b===u)return f(O),r;if(b===d)return f(O),l;b=b.sibling}throw Error(i(188))}if(u.return!==d.return)u=O,d=b;else{for(var A=!1,N=O.child;N;){if(N===u){A=!0,u=O,d=b;break}if(N===d){A=!0,d=O,u=b;break}N=N.sibling}if(!A){for(N=b.child;N;){if(N===u){A=!0,u=b,d=O;break}if(N===d){A=!0,d=b,u=O;break}N=N.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:l}function m(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=m(r),l!==null)return l;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),E=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function H(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case Q:return"Suspense";case M:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case E:return r.displayName||"Context";case R:return(r._context.displayName||"Context")+".Consumer";case j:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return l=r.displayName||null,l!==null?l:H(r.type)||"Memo";case $:l=r._payload,r=r._init;try{return H(r(l))}catch{}}return null}var F=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ie=[],le=-1;function _(r){return{current:r}}function X(r){0>le||(r.current=ie[le],ie[le]=null,le--)}function te(r,l){le++,ie[le]=r.current,r.current=l}var ce=_(null),me=_(null),be=_(null),Ce=_(null);function tt(r,l){switch(te(be,l),te(me,r),te(ce,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?zy(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=zy(l),r=By(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}X(ce),te(ce,r)}function Xe(){X(ce),X(me),X(be)}function it(r){r.memoizedState!==null&&te(Ce,r);var l=ce.current,u=By(l,r.type);l!==u&&(te(me,r),te(ce,u))}function Ye(r){me.current===r&&(X(ce),X(me)),Ce.current===r&&(X(Ce),Jo._currentValue=K)}var Mt,dn;function Bt(r){if(Mt===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Mt=l&&l[1]||"",dn=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+r+dn}var Qt=!1;function Nn(r,l){if(!r||Qt)return"";Qt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var ne=ae}Reflect.construct(r,[],he)}else{try{he.call()}catch(ae){ne=ae}r.call(he.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),A=b[0],N=b[1];if(A&&N){var U=A.split(`
`),ee=N.split(`
`);for(O=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;O<ee.length&&!ee[O].includes("DetermineComponentFrameRoot");)O++;if(d===U.length||O===ee.length)for(d=U.length-1,O=ee.length-1;1<=d&&0<=O&&U[d]!==ee[O];)O--;for(;1<=d&&0<=O;d--,O--)if(U[d]!==ee[O]){if(d!==1||O!==1)do if(d--,O--,0>O||U[d]!==ee[O]){var oe=`
`+U[d].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=d&&0<=O);break}}}finally{Qt=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Bt(u):""}function pt(r,l){switch(r.tag){case 26:case 27:case 5:return Bt(r.type);case 16:return Bt("Lazy");case 13:return r.child!==l&&l!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return Nn(r.type,!1);case 11:return Nn(r.type.render,!1);case 1:return Nn(r.type,!0);case 31:return Bt("Activity");default:return""}}function qt(r){try{var l="",u=null;do l+=pt(r,u),u=r,r=r.return;while(r);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ai=Object.prototype.hasOwnProperty,Ci=n.unstable_scheduleCallback,ki=n.unstable_cancelCallback,bs=n.unstable_shouldYield,wn=n.unstable_requestPaint,St=n.unstable_now,Ys=n.unstable_getCurrentPriorityLevel,ys=n.unstable_ImmediatePriority,en=n.unstable_UserBlockingPriority,Zt=n.unstable_NormalPriority,Hi=n.unstable_LowPriority,Gi=n.unstable_IdlePriority,vs=n.log,ha=n.unstable_setDisableYieldValue,Pt=null,Nt=null;function An(r){if(typeof vs=="function"&&ha(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Pt,r)}catch{}}var jt=Math.clz32?Math.clz32:Fi,Ss=Math.log,Wi=Math.LN2;function Fi(r){return r>>>=0,r===0?32:31-(Ss(r)/Wi|0)|0}var Ti=256,Ei=262144,li=4194304;function mn(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ki(r,l,u){var d=r.pendingLanes;if(d===0)return 0;var O=0,b=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var N=d&134217727;return N!==0?(d=N&~b,d!==0?O=mn(d):(A&=N,A!==0?O=mn(A):u||(u=N&~r,u!==0&&(O=mn(u))))):(N=d&~b,N!==0?O=mn(N):A!==0?O=mn(A):u||(u=d&~r,u!==0&&(O=mn(u)))),O===0?0:l!==0&&l!==O&&(l&b)===0&&(b=O&-O,u=l&-l,b>=u||b===32&&(u&4194048)!==0)?l:O}function Ri(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function Ji(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(){var r=li;return li<<=1,(li&62914560)===0&&(li=4194304),r}function oi(r){for(var l=[],u=0;31>u;u++)l.push(r);return l}function Bn(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function da(r,l,u,d,O,b){var A=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var N=r.entanglements,U=r.expirationTimes,ee=r.hiddenUpdates;for(u=A&~u;0<u;){var oe=31-jt(u),he=1<<oe;N[oe]=0,U[oe]=-1;var ne=ee[oe];if(ne!==null)for(ee[oe]=null,oe=0;oe<ne.length;oe++){var ae=ne[oe];ae!==null&&(ae.lane&=-536870913)}u&=~he}d!==0&&B(r,d,0),b!==0&&O===0&&r.tag!==0&&(r.suspendedLanes|=b&~(A&~l))}function B(r,l,u){r.pendingLanes|=l,r.suspendedLanes&=~l;var d=31-jt(l);r.entangledLanes|=l,r.entanglements[d]=r.entanglements[d]|1073741824|u&261930}function G(r,l){var u=r.entangledLanes|=l;for(r=r.entanglements;u;){var d=31-jt(u),O=1<<d;O&l|r[d]&l&&(r[d]|=l),u&=~O}}function se(r,l){var u=l&-l;return u=(u&42)!==0?1:de(u),(u&(r.suspendedLanes|l))!==0?0:u}function de(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function pe(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Se(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:cv(r.type))}function Te(r,l){var u=Z.p;try{return Z.p=r,l()}finally{Z.p=u}}var we=Math.random().toString(36).slice(2),xe="__reactFiber$"+we,Ae="__reactProps$"+we,Ee="__reactContainer$"+we,Ne="__reactEvents$"+we,Ke="__reactListeners$"+we,wt="__reactHandles$"+we,_t="__reactResources$"+we,Tt="__reactMarker$"+we;function ot(r){delete r[xe],delete r[Ae],delete r[Ne],delete r[Ke],delete r[wt]}function st(r){var l=r[xe];if(l)return l;for(var u=r.parentNode;u;){if(l=u[Ee]||u[xe]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(r=qy(r);r!==null;){if(u=r[xe])return u;r=qy(r)}return l}r=u,u=r.parentNode}return null}function Zn(r){if(r=r[xe]||r[Ee]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function ts(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function jn(r){var l=r[_t];return l||(l=r[_t]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ct(r){r[Tt]=!0}var Fa=new Set,gr={};function Mn(r,l){ns(r,l),ns(r+"Capture",l)}function ns(r,l){for(gr[r]=l,r=0;r<l.length;r++)Fa.add(l[r])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),He={},tn={};function Or(r){return Ai.call(tn,r)?!0:Ai.call(He,r)?!1:Ka.test(r)?tn[r]=!0:(He[r]=!0,!1)}function Qi(r,l,u){if(Or(l))if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+u)}}function gt(r,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+u)}}function Un(r,l,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(l,u,""+d)}}function Pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qu(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function tT(r,l,u){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var O=d.get,b=d.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return O.call(this)},set:function(A){u=""+A,b.call(this,A)}}),Object.defineProperty(r,l,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function tm(r){if(!r._valueTracker){var l=Qu(r)?"checked":"value";r._valueTracker=tT(r,l,""+r[l])}}function j1(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var u=l.getValue(),d="";return r&&(d=Qu(r)?r.checked?"true":"false":r.value),r=d,r!==u?(l.setValue(r),!0):!1}function Nu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var nT=/[\n"\\]/g;function Ni(r){return r.replace(nT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function nm(r,l,u,d,O,b,A,N){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),l!=null?A==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Pn(l)):r.value!==""+Pn(l)&&(r.value=""+Pn(l)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),l!=null?im(r,A,Pn(l)):u!=null?im(r,A,Pn(u)):d!=null&&r.removeAttribute("value"),O==null&&b!=null&&(r.defaultChecked=!!b),O!=null&&(r.checked=O&&typeof O!="function"&&typeof O!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Pn(N):r.removeAttribute("name")}function M1(r,l,u,d,O,b,A,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),l!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){tm(r);return}u=u!=null?""+Pn(u):"",l=l!=null?""+Pn(l):u,N||l===r.value||(r.value=l),r.defaultValue=l}d=d??O,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=N?r.checked:!!d,r.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A),tm(r)}function im(r,l,u){l==="number"&&Nu(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Ja(r,l,u,d){if(r=r.options,l){l={};for(var O=0;O<u.length;O++)l["$"+u[O]]=!0;for(u=0;u<r.length;u++)O=l.hasOwnProperty("$"+r[u].value),r[u].selected!==O&&(r[u].selected=O),O&&d&&(r[u].defaultSelected=!0)}else{for(u=""+Pn(u),l=null,O=0;O<r.length;O++){if(r[O].value===u){r[O].selected=!0,d&&(r[O].defaultSelected=!0);return}l!==null||r[O].disabled||(l=r[O])}l!==null&&(l.selected=!0)}}function P1(r,l,u){if(l!=null&&(l=""+Pn(l),l!==r.value&&(r.value=l),u==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=u!=null?""+Pn(u):""}function _1(r,l,u,d){if(l==null){if(d!=null){if(u!=null)throw Error(i(92));if(F(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),l=u}u=Pn(l),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d),tm(r)}function el(r,l){if(l){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=l;return}}r.textContent=l}var iT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D1(r,l,u){var d=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":d?r.setProperty(l,u):typeof u!="number"||u===0||iT.has(l)?l==="float"?r.cssFloat=u:r[l]=(""+u).trim():r[l]=u+"px"}function $1(r,l,u){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var O in l)d=l[O],l.hasOwnProperty(O)&&u[O]!==d&&D1(r,O,d)}else for(var b in l)l.hasOwnProperty(b)&&D1(r,b,l[b])}function sm(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ju(r){return rT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Vs(){}var rm=null;function am(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var tl=null,nl=null;function L1(r){var l=Zn(r);if(l&&(r=l.stateNode)){var u=r[Ae]||null;e:switch(r=l.stateNode,l.type){case"input":if(nm(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ni(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var d=u[l];if(d!==r&&d.form===r.form){var O=d[Ae]||null;if(!O)throw Error(i(90));nm(d,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(l=0;l<u.length;l++)d=u[l],d.form===r.form&&j1(d)}break e;case"textarea":P1(r,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Ja(r,!!u.multiple,l,!1)}}}var lm=!1;function z1(r,l,u){if(lm)return r(l,u);lm=!0;try{var d=r(l);return d}finally{if(lm=!1,(tl!==null||nl!==null)&&(yf(),tl&&(l=tl,r=nl,nl=tl=null,L1(l),r)))for(l=0;l<r.length;l++)L1(r[l])}}function go(r,l){var u=r.stateNode;if(u===null)return null;var d=u[Ae]||null;if(d===null)return null;u=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,l,typeof u));return u}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),om=!1;if(qs)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){om=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{om=!1}var xr=null,cm=null,Mu=null;function B1(){if(Mu)return Mu;var r,l=cm,u=l.length,d,O="value"in xr?xr.value:xr.textContent,b=O.length;for(r=0;r<u&&l[r]===O[r];r++);var A=u-r;for(d=1;d<=A&&l[u-d]===O[b-d];d++);return Mu=O.slice(r,1<d?1-d:void 0)}function Pu(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function _u(){return!0}function Z1(){return!1}function Xn(r){function l(u,d,O,b,A){this._reactName=u,this._targetInst=O,this.type=d,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(u=r[N],this[N]=u?u(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?_u:Z1,this.isPropagationStopped=Z1,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),l}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Xn(ma),xo=g({},ma,{view:0,detail:0}),aT=Xn(xo),um,fm,bo,$u=g({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==bo&&(bo&&r.type==="mousemove"?(um=r.screenX-bo.screenX,fm=r.screenY-bo.screenY):fm=um=0,bo=r),um)},movementY:function(r){return"movementY"in r?r.movementY:fm}}),U1=Xn($u),lT=g({},$u,{dataTransfer:0}),oT=Xn(lT),cT=g({},xo,{relatedTarget:0}),hm=Xn(cT),uT=g({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),fT=Xn(uT),hT=g({},ma,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),dT=Xn(hT),mT=g({},ma,{data:0}),X1=Xn(mT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xT(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=OT[r])?!!l[r]:!1}function dm(){return xT}var bT=g({},xo,{key:function(r){if(r.key){var l=pT[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Pu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dm,charCode:function(r){return r.type==="keypress"?Pu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yT=Xn(bT),vT=g({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I1=Xn(vT),ST=g({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dm}),wT=Xn(ST),AT=g({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),CT=Xn(AT),kT=g({},$u,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),TT=Xn(kT),ET=g({},ma,{newState:0,oldState:0}),RT=Xn(ET),QT=[9,13,27,32],mm=qs&&"CompositionEvent"in window,yo=null;qs&&"documentMode"in document&&(yo=document.documentMode);var NT=qs&&"TextEvent"in window&&!yo,Y1=qs&&(!mm||yo&&8<yo&&11>=yo),V1=" ",q1=!1;function H1(r,l){switch(r){case"keyup":return QT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G1(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var il=!1;function jT(r,l){switch(r){case"compositionend":return G1(l);case"keypress":return l.which!==32?null:(q1=!0,V1);case"textInput":return r=l.data,r===V1&&q1?null:r;default:return null}}function MT(r,l){if(il)return r==="compositionend"||!mm&&H1(r,l)?(r=B1(),Mu=cm=xr=null,il=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Y1&&l.locale!=="ko"?null:l.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W1(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!PT[r.type]:l==="textarea"}function F1(r,l,u,d){tl?nl?nl.push(d):nl=[d]:tl=d,l=Tf(l,"onChange"),0<l.length&&(u=new Du("onChange","change",null,u,d),r.push({event:u,listeners:l}))}var vo=null,So=null;function _T(r){My(r,0)}function Lu(r){var l=ts(r);if(j1(l))return r}function K1(r,l){if(r==="change")return l}var J1=!1;if(qs){var pm;if(qs){var gm="oninput"in document;if(!gm){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),gm=typeof ex.oninput=="function"}pm=gm}else pm=!1;J1=pm&&(!document.documentMode||9<document.documentMode)}function tx(){vo&&(vo.detachEvent("onpropertychange",nx),So=vo=null)}function nx(r){if(r.propertyName==="value"&&Lu(So)){var l=[];F1(l,So,r,am(r)),z1(_T,l)}}function DT(r,l,u){r==="focusin"?(tx(),vo=l,So=u,vo.attachEvent("onpropertychange",nx)):r==="focusout"&&tx()}function $T(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lu(So)}function LT(r,l){if(r==="click")return Lu(l)}function zT(r,l){if(r==="input"||r==="change")return Lu(l)}function BT(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var ci=typeof Object.is=="function"?Object.is:BT;function wo(r,l){if(ci(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var u=Object.keys(r),d=Object.keys(l);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var O=u[d];if(!Ai.call(l,O)||!ci(r[O],l[O]))return!1}return!0}function ix(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sx(r,l){var u=ix(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=l&&d>=l)return{node:u,offset:l-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ix(u)}}function rx(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?rx(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function ax(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Nu(r.document);l instanceof r.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)r=l.contentWindow;else break;l=Nu(r.document)}return l}function Om(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var ZT=qs&&"documentMode"in document&&11>=document.documentMode,sl=null,xm=null,Ao=null,bm=!1;function lx(r,l,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bm||sl==null||sl!==Nu(d)||(d=sl,"selectionStart"in d&&Om(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ao&&wo(Ao,d)||(Ao=d,d=Tf(xm,"onSelect"),0<d.length&&(l=new Du("onSelect","select",null,l,u),r.push({event:l,listeners:d}),l.target=sl)))}function pa(r,l){var u={};return u[r.toLowerCase()]=l.toLowerCase(),u["Webkit"+r]="webkit"+l,u["Moz"+r]="moz"+l,u}var rl={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},ym={},ox={};qs&&(ox=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function ga(r){if(ym[r])return ym[r];if(!rl[r])return r;var l=rl[r],u;for(u in l)if(l.hasOwnProperty(u)&&u in ox)return ym[r]=l[u];return r}var cx=ga("animationend"),ux=ga("animationiteration"),fx=ga("animationstart"),UT=ga("transitionrun"),XT=ga("transitionstart"),IT=ga("transitioncancel"),hx=ga("transitionend"),dx=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function is(r,l){dx.set(r,l),Mn(l,[r])}var zu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ji=[],al=0,Sm=0;function Bu(){for(var r=al,l=Sm=al=0;l<r;){var u=ji[l];ji[l++]=null;var d=ji[l];ji[l++]=null;var O=ji[l];ji[l++]=null;var b=ji[l];if(ji[l++]=null,d!==null&&O!==null){var A=d.pending;A===null?O.next=O:(O.next=A.next,A.next=O),d.pending=O}b!==0&&mx(u,O,b)}}function Zu(r,l,u,d){ji[al++]=r,ji[al++]=l,ji[al++]=u,ji[al++]=d,Sm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function wm(r,l,u,d){return Zu(r,l,u,d),Uu(r)}function Oa(r,l){return Zu(r,null,null,l),Uu(r)}function mx(r,l,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var O=!1,b=r.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(O=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,O&&l!==null&&(O=31-jt(u),r=b.hiddenUpdates,d=r[O],d===null?r[O]=[l]:d.push(l),l.lane=u|536870912),b):null}function Uu(r){if(50<Vo)throw Vo=0,jp=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var ll={};function YT(r,l,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(r,l,u,d){return new YT(r,l,u,d)}function Am(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hs(r,l){var u=r.alternate;return u===null?(u=ui(r.tag,l,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=l,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,l=r.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function px(r,l){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,l=u.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Xu(r,l,u,d,O,b){var A=0;if(d=r,typeof r=="function")Am(r)&&(A=1);else if(typeof r=="string")A=W4(r,u,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=ui(31,u,l,O),r.elementType=D,r.lanes=b,r;case S:return xa(u.children,O,b,l);case w:A=8,O|=24;break;case C:return r=ui(12,u,l,O|2),r.elementType=C,r.lanes=b,r;case Q:return r=ui(13,u,l,O),r.elementType=Q,r.lanes=b,r;case M:return r=ui(19,u,l,O),r.elementType=M,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:A=10;break e;case R:A=9;break e;case j:A=11;break e;case k:A=14;break e;case $:A=16,d=null;break e}A=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return l=ui(A,u,l,O),l.elementType=r,l.type=d,l.lanes=b,l}function xa(r,l,u,d){return r=ui(7,r,d,l),r.lanes=u,r}function Cm(r,l,u){return r=ui(6,r,null,l),r.lanes=u,r}function gx(r){var l=ui(18,null,null,0);return l.stateNode=r,l}function km(r,l,u){return l=ui(4,r.children!==null?r.children:[],r.key,l),l.lanes=u,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var Ox=new WeakMap;function Mi(r,l){if(typeof r=="object"&&r!==null){var u=Ox.get(r);return u!==void 0?u:(l={value:r,source:l,stack:qt(l)},Ox.set(r,l),l)}return{value:r,source:l,stack:qt(l)}}var ol=[],cl=0,Iu=null,Co=0,Pi=[],_i=0,br=null,ws=1,As="";function Gs(r,l){ol[cl++]=Co,ol[cl++]=Iu,Iu=r,Co=l}function xx(r,l,u){Pi[_i++]=ws,Pi[_i++]=As,Pi[_i++]=br,br=r;var d=ws;r=As;var O=32-jt(d)-1;d&=~(1<<O),u+=1;var b=32-jt(l)+O;if(30<b){var A=O-O%5;b=(d&(1<<A)-1).toString(32),d>>=A,O-=A,ws=1<<32-jt(l)+O|u<<O|d,As=b+r}else ws=1<<b|u<<O|d,As=r}function Tm(r){r.return!==null&&(Gs(r,1),xx(r,1,0))}function Em(r){for(;r===Iu;)Iu=ol[--cl],ol[cl]=null,Co=ol[--cl],ol[cl]=null;for(;r===br;)br=Pi[--_i],Pi[_i]=null,As=Pi[--_i],Pi[_i]=null,ws=Pi[--_i],Pi[_i]=null}function bx(r,l){Pi[_i++]=ws,Pi[_i++]=As,Pi[_i++]=br,ws=l.id,As=l.overflow,br=r}var pn=null,Ct=null,Je=!1,yr=null,Di=!1,Rm=Error(i(519));function vr(r){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(Mi(l,r)),Rm}function yx(r){var l=r.stateNode,u=r.type,d=r.memoizedProps;switch(l[xe]=r,l[Ae]=d,u){case"dialog":qe("cancel",l),qe("close",l);break;case"iframe":case"object":case"embed":qe("load",l);break;case"video":case"audio":for(u=0;u<Ho.length;u++)qe(Ho[u],l);break;case"source":qe("error",l);break;case"img":case"image":case"link":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"input":qe("invalid",l),M1(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":qe("invalid",l);break;case"textarea":qe("invalid",l),_1(l,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||d.suppressHydrationWarning===!0||$y(l.textContent,u)?(d.popover!=null&&(qe("beforetoggle",l),qe("toggle",l)),d.onScroll!=null&&qe("scroll",l),d.onScrollEnd!=null&&qe("scrollend",l),d.onClick!=null&&(l.onclick=Vs),l=!0):l=!1,l||vr(r,!0)}function vx(r){for(pn=r.return;pn;)switch(pn.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:pn=pn.return}}function ul(r){if(r!==pn)return!1;if(!Je)return vx(r),Je=!0,!1;var l=r.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||qp(r.type,r.memoizedProps)),u=!u),u&&Ct&&vr(r),vx(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ct=Vy(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ct=Vy(r)}else l===27?(l=Ct,_r(r.type)?(r=Kp,Kp=null,Ct=r):Ct=l):Ct=pn?Li(r.stateNode.nextSibling):null;return!0}function ba(){Ct=pn=null,Je=!1}function Qm(){var r=yr;return r!==null&&(qn===null?qn=r:qn.push.apply(qn,r),yr=null),r}function ko(r){yr===null?yr=[r]:yr.push(r)}var Nm=_(null),ya=null,Ws=null;function Sr(r,l,u){te(Nm,l._currentValue),l._currentValue=u}function Fs(r){r._currentValue=Nm.current,X(Nm)}function jm(r,l,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),r===u)break;r=r.return}}function Mm(r,l,u,d){var O=r.child;for(O!==null&&(O.return=r);O!==null;){var b=O.dependencies;if(b!==null){var A=O.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=O;for(var U=0;U<l.length;U++)if(N.context===l[U]){b.lanes|=u,N=b.alternate,N!==null&&(N.lanes|=u),jm(b.return,u,r),d||(A=null);break e}b=N.next}}else if(O.tag===18){if(A=O.return,A===null)throw Error(i(341));A.lanes|=u,b=A.alternate,b!==null&&(b.lanes|=u),jm(A,u,r),A=null}else A=O.child;if(A!==null)A.return=O;else for(A=O;A!==null;){if(A===r){A=null;break}if(O=A.sibling,O!==null){O.return=A.return,A=O;break}A=A.return}O=A}}function fl(r,l,u,d){r=null;for(var O=l,b=!1;O!==null;){if(!b){if((O.flags&524288)!==0)b=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var A=O.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var N=O.type;ci(O.pendingProps.value,A.value)||(r!==null?r.push(N):r=[N])}}else if(O===Ce.current){if(A=O.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(r!==null?r.push(Jo):r=[Jo])}O=O.return}r!==null&&Mm(l,r,u,d),l.flags|=262144}function Yu(r){for(r=r.firstContext;r!==null;){if(!ci(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function va(r){ya=r,Ws=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gn(r){return Sx(ya,r)}function Vu(r,l){return ya===null&&va(r),Sx(r,l)}function Sx(r,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Ws===null){if(r===null)throw Error(i(308));Ws=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Ws=Ws.next=l;return u}var VT=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){l.aborted=!0,r.forEach(function(u){return u()})}},qT=n.unstable_scheduleCallback,HT=n.unstable_NormalPriority,Ht={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pm(){return{controller:new VT,data:new Map,refCount:0}}function To(r){r.refCount--,r.refCount===0&&qT(HT,function(){r.controller.abort()})}var Eo=null,_m=0,hl=0,dl=null;function GT(r,l){if(Eo===null){var u=Eo=[];_m=0,hl=Lp(),dl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return _m++,l.then(wx,wx),l}function wx(){if(--_m===0&&Eo!==null){dl!==null&&(dl.status="fulfilled");var r=Eo;Eo=null,hl=0,dl=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function WT(r,l){var u=[],d={status:"pending",value:null,reason:null,then:function(O){u.push(O)}};return r.then(function(){d.status="fulfilled",d.value=l;for(var O=0;O<u.length;O++)(0,u[O])(l)},function(O){for(d.status="rejected",d.reason=O,O=0;O<u.length;O++)(0,u[O])(void 0)}),d}var Ax=P.S;P.S=function(r,l){ly=St(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&GT(r,l),Ax!==null&&Ax(r,l)};var Sa=_(null);function Dm(){var r=Sa.current;return r!==null?r:Ot.pooledCache}function qu(r,l){l===null?te(Sa,Sa.current):te(Sa,l.pool)}function Cx(){var r=Dm();return r===null?null:{parent:Ht._currentValue,pool:r}}var ml=Error(i(460)),$m=Error(i(474)),Hu=Error(i(542)),Gu={then:function(){}};function kx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Tx(r,l,u){switch(u=r[u],u===void 0?r.push(l):u!==l&&(l.then(Vs,Vs),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Rx(r),r;default:if(typeof l.status=="string")l.then(Vs,Vs);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(d){if(l.status==="pending"){var O=l;O.status="fulfilled",O.value=d}},function(d){if(l.status==="pending"){var O=l;O.status="rejected",O.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Rx(r),r}throw Aa=l,ml}}function wa(r){try{var l=r._init;return l(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Aa=u,ml):u}}var Aa=null;function Ex(){if(Aa===null)throw Error(i(459));var r=Aa;return Aa=null,r}function Rx(r){if(r===ml||r===Hu)throw Error(i(483))}var pl=null,Ro=0;function Wu(r){var l=Ro;return Ro+=1,pl===null&&(pl=[]),Tx(pl,r,l)}function Qo(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Fu(r,l){throw l.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Qx(r){function l(W,Y){if(r){var J=W.deletions;J===null?(W.deletions=[Y],W.flags|=16):J.push(Y)}}function u(W,Y){if(!r)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function d(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function O(W,Y){return W=Hs(W,Y),W.index=0,W.sibling=null,W}function b(W,Y,J){return W.index=J,r?(J=W.alternate,J!==null?(J=J.index,J<Y?(W.flags|=67108866,Y):J):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function A(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function N(W,Y,J,ue){return Y===null||Y.tag!==6?(Y=Cm(J,W.mode,ue),Y.return=W,Y):(Y=O(Y,J),Y.return=W,Y)}function U(W,Y,J,ue){var Pe=J.type;return Pe===S?oe(W,Y,J.props.children,ue,J.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===$&&wa(Pe)===Y.type)?(Y=O(Y,J.props),Qo(Y,J),Y.return=W,Y):(Y=Xu(J.type,J.key,J.props,null,W.mode,ue),Qo(Y,J),Y.return=W,Y)}function ee(W,Y,J,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=km(J,W.mode,ue),Y.return=W,Y):(Y=O(Y,J.children||[]),Y.return=W,Y)}function oe(W,Y,J,ue,Pe){return Y===null||Y.tag!==7?(Y=xa(J,W.mode,ue,Pe),Y.return=W,Y):(Y=O(Y,J),Y.return=W,Y)}function he(W,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Cm(""+Y,W.mode,J),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case y:return J=Xu(Y.type,Y.key,Y.props,null,W.mode,J),Qo(J,Y),J.return=W,J;case v:return Y=km(Y,W.mode,J),Y.return=W,Y;case $:return Y=wa(Y),he(W,Y,J)}if(F(Y)||z(Y))return Y=xa(Y,W.mode,J,null),Y.return=W,Y;if(typeof Y.then=="function")return he(W,Wu(Y),J);if(Y.$$typeof===E)return he(W,Vu(W,Y),J);Fu(W,Y)}return null}function ne(W,Y,J,ue){var Pe=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pe!==null?null:N(W,Y,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Pe?U(W,Y,J,ue):null;case v:return J.key===Pe?ee(W,Y,J,ue):null;case $:return J=wa(J),ne(W,Y,J,ue)}if(F(J)||z(J))return Pe!==null?null:oe(W,Y,J,ue,null);if(typeof J.then=="function")return ne(W,Y,Wu(J),ue);if(J.$$typeof===E)return ne(W,Y,Vu(W,J),ue);Fu(W,J)}return null}function ae(W,Y,J,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(J)||null,N(Y,W,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return W=W.get(ue.key===null?J:ue.key)||null,U(Y,W,ue,Pe);case v:return W=W.get(ue.key===null?J:ue.key)||null,ee(Y,W,ue,Pe);case $:return ue=wa(ue),ae(W,Y,J,ue,Pe)}if(F(ue)||z(ue))return W=W.get(J)||null,oe(Y,W,ue,Pe,null);if(typeof ue.then=="function")return ae(W,Y,J,Wu(ue),Pe);if(ue.$$typeof===E)return ae(W,Y,J,Vu(Y,ue),Pe);Fu(Y,ue)}return null}function ke(W,Y,J,ue){for(var Pe=null,rt=null,Re=Y,Be=Y=0,We=null;Re!==null&&Be<J.length;Be++){Re.index>Be?(We=Re,Re=null):We=Re.sibling;var at=ne(W,Re,J[Be],ue);if(at===null){Re===null&&(Re=We);break}r&&Re&&at.alternate===null&&l(W,Re),Y=b(at,Y,Be),rt===null?Pe=at:rt.sibling=at,rt=at,Re=We}if(Be===J.length)return u(W,Re),Je&&Gs(W,Be),Pe;if(Re===null){for(;Be<J.length;Be++)Re=he(W,J[Be],ue),Re!==null&&(Y=b(Re,Y,Be),rt===null?Pe=Re:rt.sibling=Re,rt=Re);return Je&&Gs(W,Be),Pe}for(Re=d(Re);Be<J.length;Be++)We=ae(Re,W,Be,J[Be],ue),We!==null&&(r&&We.alternate!==null&&Re.delete(We.key===null?Be:We.key),Y=b(We,Y,Be),rt===null?Pe=We:rt.sibling=We,rt=We);return r&&Re.forEach(function(Br){return l(W,Br)}),Je&&Gs(W,Be),Pe}function _e(W,Y,J,ue){if(J==null)throw Error(i(151));for(var Pe=null,rt=null,Re=Y,Be=Y=0,We=null,at=J.next();Re!==null&&!at.done;Be++,at=J.next()){Re.index>Be?(We=Re,Re=null):We=Re.sibling;var Br=ne(W,Re,at.value,ue);if(Br===null){Re===null&&(Re=We);break}r&&Re&&Br.alternate===null&&l(W,Re),Y=b(Br,Y,Be),rt===null?Pe=Br:rt.sibling=Br,rt=Br,Re=We}if(at.done)return u(W,Re),Je&&Gs(W,Be),Pe;if(Re===null){for(;!at.done;Be++,at=J.next())at=he(W,at.value,ue),at!==null&&(Y=b(at,Y,Be),rt===null?Pe=at:rt.sibling=at,rt=at);return Je&&Gs(W,Be),Pe}for(Re=d(Re);!at.done;Be++,at=J.next())at=ae(Re,W,Be,at.value,ue),at!==null&&(r&&at.alternate!==null&&Re.delete(at.key===null?Be:at.key),Y=b(at,Y,Be),rt===null?Pe=at:rt.sibling=at,rt=at);return r&&Re.forEach(function(lE){return l(W,lE)}),Je&&Gs(W,Be),Pe}function mt(W,Y,J,ue){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Pe=J.key;Y!==null;){if(Y.key===Pe){if(Pe=J.type,Pe===S){if(Y.tag===7){u(W,Y.sibling),ue=O(Y,J.props.children),ue.return=W,W=ue;break e}}else if(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===$&&wa(Pe)===Y.type){u(W,Y.sibling),ue=O(Y,J.props),Qo(ue,J),ue.return=W,W=ue;break e}u(W,Y);break}else l(W,Y);Y=Y.sibling}J.type===S?(ue=xa(J.props.children,W.mode,ue,J.key),ue.return=W,W=ue):(ue=Xu(J.type,J.key,J.props,null,W.mode,ue),Qo(ue,J),ue.return=W,W=ue)}return A(W);case v:e:{for(Pe=J.key;Y!==null;){if(Y.key===Pe)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){u(W,Y.sibling),ue=O(Y,J.children||[]),ue.return=W,W=ue;break e}else{u(W,Y);break}else l(W,Y);Y=Y.sibling}ue=km(J,W.mode,ue),ue.return=W,W=ue}return A(W);case $:return J=wa(J),mt(W,Y,J,ue)}if(F(J))return ke(W,Y,J,ue);if(z(J)){if(Pe=z(J),typeof Pe!="function")throw Error(i(150));return J=Pe.call(J),_e(W,Y,J,ue)}if(typeof J.then=="function")return mt(W,Y,Wu(J),ue);if(J.$$typeof===E)return mt(W,Y,Vu(W,J),ue);Fu(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(u(W,Y.sibling),ue=O(Y,J),ue.return=W,W=ue):(u(W,Y),ue=Cm(J,W.mode,ue),ue.return=W,W=ue),A(W)):u(W,Y)}return function(W,Y,J,ue){try{Ro=0;var Pe=mt(W,Y,J,ue);return pl=null,Pe}catch(Re){if(Re===ml||Re===Hu)throw Re;var rt=ui(29,Re,null,W.mode);return rt.lanes=ue,rt.return=W,rt}finally{}}}var Ca=Qx(!0),Nx=Qx(!1),wr=!1;function Lm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zm(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ar(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Cr(r,l,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(lt&2)!==0){var O=d.pending;return O===null?l.next=l:(l.next=O.next,O.next=l),d.pending=l,l=Uu(r),mx(r,null,u),l}return Zu(r,d,l,u),Uu(r)}function No(r,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var d=l.lanes;d&=r.pendingLanes,u|=d,l.lanes=u,G(r,u)}}function Bm(r,l){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var O=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?O=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?O=b=l:b=b.next=l}else O=b=l;u={baseState:d.baseState,firstBaseUpdate:O,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=l:r.next=l,u.lastBaseUpdate=l}var Zm=!1;function jo(){if(Zm){var r=dl;if(r!==null)throw r}}function Mo(r,l,u,d){Zm=!1;var O=r.updateQueue;wr=!1;var b=O.firstBaseUpdate,A=O.lastBaseUpdate,N=O.shared.pending;if(N!==null){O.shared.pending=null;var U=N,ee=U.next;U.next=null,A===null?b=ee:A.next=ee,A=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,N=oe.lastBaseUpdate,N!==A&&(N===null?oe.firstBaseUpdate=ee:N.next=ee,oe.lastBaseUpdate=U))}if(b!==null){var he=O.baseState;A=0,oe=ee=U=null,N=b;do{var ne=N.lane&-536870913,ae=ne!==N.lane;if(ae?(Ge&ne)===ne:(d&ne)===ne){ne!==0&&ne===hl&&(Zm=!0),oe!==null&&(oe=oe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ke=r,_e=N;ne=l;var mt=u;switch(_e.tag){case 1:if(ke=_e.payload,typeof ke=="function"){he=ke.call(mt,he,ne);break e}he=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=_e.payload,ne=typeof ke=="function"?ke.call(mt,he,ne):ke,ne==null)break e;he=g({},he,ne);break e;case 2:wr=!0}}ne=N.callback,ne!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=O.callbacks,ae===null?O.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:N.tag,payload:N.payload,callback:N.callback,next:null},oe===null?(ee=oe=ae,U=he):oe=oe.next=ae,A|=ne;if(N=N.next,N===null){if(N=O.shared.pending,N===null)break;ae=N,N=ae.next,ae.next=null,O.lastBaseUpdate=ae,O.shared.pending=null}}while(!0);oe===null&&(U=he),O.baseState=U,O.firstBaseUpdate=ee,O.lastBaseUpdate=oe,b===null&&(O.shared.lanes=0),Qr|=A,r.lanes=A,r.memoizedState=he}}function jx(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function Mx(r,l){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)jx(u[r],l)}var gl=_(null),Ku=_(0);function Px(r,l){r=ar,te(Ku,r),te(gl,l),ar=r|l.baseLanes}function Um(){te(Ku,ar),te(gl,gl.current)}function Xm(){ar=Ku.current,X(gl),X(Ku)}var fi=_(null),$i=null;function kr(r){var l=r.alternate;te(Ut,Ut.current&1),te(fi,r),$i===null&&(l===null||gl.current!==null||l.memoizedState!==null)&&($i=r)}function Im(r){te(Ut,Ut.current),te(fi,r),$i===null&&($i=r)}function _x(r){r.tag===22?(te(Ut,Ut.current),te(fi,r),$i===null&&($i=r)):Tr()}function Tr(){te(Ut,Ut.current),te(fi,fi.current)}function hi(r){X(fi),$i===r&&($i=null),X(Ut)}var Ut=_(0);function Ju(r){for(var l=r;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Wp(u)||Fp(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ks=0,Le=null,ht=null,Gt=null,ef=!1,Ol=!1,ka=!1,tf=0,Po=0,xl=null,FT=0;function Dt(){throw Error(i(321))}function Ym(r,l){if(l===null)return!1;for(var u=0;u<l.length&&u<r.length;u++)if(!ci(r[u],l[u]))return!1;return!0}function Vm(r,l,u,d,O,b){return Ks=b,Le=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,P.H=r===null||r.memoizedState===null?xb:lp,ka=!1,b=u(d,O),ka=!1,Ol&&(b=$x(l,u,d,O)),Dx(r),b}function Dx(r){P.H=$o;var l=ht!==null&&ht.next!==null;if(Ks=0,Gt=ht=Le=null,ef=!1,Po=0,xl=null,l)throw Error(i(300));r===null||Wt||(r=r.dependencies,r!==null&&Yu(r)&&(Wt=!0))}function $x(r,l,u,d){Le=r;var O=0;do{if(Ol&&(xl=null),Po=0,Ol=!1,25<=O)throw Error(i(301));if(O+=1,Gt=ht=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}P.H=bb,b=l(u,d)}while(Ol);return b}function KT(){var r=P.H,l=r.useState()[0];return l=typeof l.then=="function"?_o(l):l,r=r.useState()[0],(ht!==null?ht.memoizedState:null)!==r&&(Le.flags|=1024),l}function qm(){var r=tf!==0;return tf=0,r}function Hm(r,l,u){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~u}function Gm(r){if(ef){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ef=!1}Ks=0,Gt=ht=Le=null,Ol=!1,Po=tf=0,xl=null}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Le.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function Xt(){if(ht===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ht.next;var l=Gt===null?Le.memoizedState:Gt.next;if(l!==null)Gt=l,ht=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ht=r,r={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Gt===null?Le.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(r){var l=Po;return Po+=1,xl===null&&(xl=[]),r=Tx(xl,r,l),l=Le,(Gt===null?l.memoizedState:Gt.next)===null&&(l=l.alternate,P.H=l===null||l.memoizedState===null?xb:lp),r}function sf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return _o(r);if(r.$$typeof===E)return gn(r)}throw Error(i(438,String(r)))}function Wm(r){var l=null,u=Le.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(O){return O.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=nf(),Le.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(r),d=0;d<r;d++)u[d]=L;return l.index++,u}function Js(r,l){return typeof l=="function"?l(r):l}function rf(r){var l=Xt();return Fm(l,ht,r)}function Fm(r,l,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var O=r.baseQueue,b=d.pending;if(b!==null){if(O!==null){var A=O.next;O.next=b.next,b.next=A}l.baseQueue=O=b,d.pending=null}if(b=r.baseState,O===null)r.memoizedState=b;else{l=O.next;var N=A=null,U=null,ee=l,oe=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(Ge&he)===he:(Ks&he)===he){var ne=ee.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===hl&&(oe=!0);else if((Ks&ne)===ne){ee=ee.next,ne===hl&&(oe=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(N=U=he,A=b):U=U.next=he,Le.lanes|=ne,Qr|=ne;he=ee.action,ka&&u(b,he),b=ee.hasEagerState?ee.eagerState:u(b,he)}else ne={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(N=U=ne,A=b):U=U.next=ne,Le.lanes|=he,Qr|=he;ee=ee.next}while(ee!==null&&ee!==l);if(U===null?A=b:U.next=N,!ci(b,r.memoizedState)&&(Wt=!0,oe&&(u=dl,u!==null)))throw u;r.memoizedState=b,r.baseState=A,r.baseQueue=U,d.lastRenderedState=b}return O===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Km(r){var l=Xt(),u=l.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,O=u.pending,b=l.memoizedState;if(O!==null){u.pending=null;var A=O=O.next;do b=r(b,A.action),A=A.next;while(A!==O);ci(b,l.memoizedState)||(Wt=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),u.lastRenderedState=b}return[b,d]}function Lx(r,l,u){var d=Le,O=Xt(),b=Je;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=l();var A=!ci((ht||O).memoizedState,u);if(A&&(O.memoizedState=u,Wt=!0),O=O.queue,tp(Zx.bind(null,d,O,r),[r]),O.getSnapshot!==l||A||Gt!==null&&Gt.memoizedState.tag&1){if(d.flags|=2048,bl(9,{destroy:void 0},Bx.bind(null,d,O,u,l),null),Ot===null)throw Error(i(349));b||(Ks&127)!==0||zx(d,l,u)}return u}function zx(r,l,u){r.flags|=16384,r={getSnapshot:l,value:u},l=Le.updateQueue,l===null?(l=nf(),Le.updateQueue=l,l.stores=[r]):(u=l.stores,u===null?l.stores=[r]:u.push(r))}function Bx(r,l,u,d){l.value=u,l.getSnapshot=d,Ux(l)&&Xx(r)}function Zx(r,l,u){return u(function(){Ux(l)&&Xx(r)})}function Ux(r){var l=r.getSnapshot;r=r.value;try{var u=l();return!ci(r,u)}catch{return!0}}function Xx(r){var l=Oa(r,2);l!==null&&Hn(l,r,2)}function Jm(r){var l=_n();if(typeof r=="function"){var u=r;if(r=u(),ka){An(!0);try{u()}finally{An(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:r},l}function Ix(r,l,u,d){return r.baseState=u,Fm(r,ht,typeof d=="function"?d:Js)}function JT(r,l,u,d,O){if(of(r))throw Error(i(485));if(r=l.action,r!==null){var b={payload:O,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};P.T!==null?u(!0):b.isTransition=!1,d(b),u=l.pending,u===null?(b.next=l.pending=b,Yx(l,b)):(b.next=u.next,l.pending=u.next=b)}}function Yx(r,l){var u=l.action,d=l.payload,O=r.state;if(l.isTransition){var b=P.T,A={};P.T=A;try{var N=u(O,d),U=P.S;U!==null&&U(A,N),Vx(r,l,N)}catch(ee){ep(r,l,ee)}finally{b!==null&&A.types!==null&&(b.types=A.types),P.T=b}}else try{b=u(O,d),Vx(r,l,b)}catch(ee){ep(r,l,ee)}}function Vx(r,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){qx(r,l,d)},function(d){return ep(r,l,d)}):qx(r,l,u)}function qx(r,l,u){l.status="fulfilled",l.value=u,Hx(l),r.state=u,l=r.pending,l!==null&&(u=l.next,u===l?r.pending=null:(u=u.next,l.next=u,Yx(r,u)))}function ep(r,l,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=u,Hx(l),l=l.next;while(l!==d)}r.action=null}function Hx(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function Gx(r,l){return l}function Wx(r,l){if(Je){var u=Ot.formState;if(u!==null){e:{var d=Le;if(Je){if(Ct){t:{for(var O=Ct,b=Di;O.nodeType!==8;){if(!b){O=null;break t}if(O=Li(O.nextSibling),O===null){O=null;break t}}b=O.data,O=b==="F!"||b==="F"?O:null}if(O){Ct=Li(O.nextSibling),d=O.data==="F!";break e}}vr(d)}d=!1}d&&(l=u[0])}}return u=_n(),u.memoizedState=u.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gx,lastRenderedState:l},u.queue=d,u=pb.bind(null,Le,d),d.dispatch=u,d=Jm(!1),b=ap.bind(null,Le,!1,d.queue),d=_n(),O={state:l,dispatch:null,action:r,pending:null},d.queue=O,u=JT.bind(null,Le,O,b,u),O.dispatch=u,d.memoizedState=r,[l,u,!1]}function Fx(r){var l=Xt();return Kx(l,ht,r)}function Kx(r,l,u){if(l=Fm(r,l,Gx)[0],r=rf(Js)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=_o(l)}catch(A){throw A===ml?Hu:A}else d=l;l=Xt();var O=l.queue,b=O.dispatch;return u!==l.memoizedState&&(Le.flags|=2048,bl(9,{destroy:void 0},e4.bind(null,O,u),null)),[d,b,r]}function e4(r,l){r.action=l}function Jx(r){var l=Xt(),u=ht;if(u!==null)return Kx(l,u,r);Xt(),l=l.memoizedState,u=Xt();var d=u.queue.dispatch;return u.memoizedState=r,[l,d,!1]}function bl(r,l,u,d){return r={tag:r,create:u,deps:d,inst:l,next:null},l=Le.updateQueue,l===null&&(l=nf(),Le.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,l.lastEffect=r),r}function eb(){return Xt().memoizedState}function af(r,l,u,d){var O=_n();Le.flags|=r,O.memoizedState=bl(1|l,{destroy:void 0},u,d===void 0?null:d)}function lf(r,l,u,d){var O=Xt();d=d===void 0?null:d;var b=O.memoizedState.inst;ht!==null&&d!==null&&Ym(d,ht.memoizedState.deps)?O.memoizedState=bl(l,b,u,d):(Le.flags|=r,O.memoizedState=bl(1|l,b,u,d))}function tb(r,l){af(8390656,8,r,l)}function tp(r,l){lf(2048,8,r,l)}function t4(r){Le.flags|=4;var l=Le.updateQueue;if(l===null)l=nf(),Le.updateQueue=l,l.events=[r];else{var u=l.events;u===null?l.events=[r]:u.push(r)}}function nb(r){var l=Xt().memoizedState;return t4({ref:l,nextImpl:r}),function(){if((lt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function ib(r,l){return lf(4,2,r,l)}function sb(r,l){return lf(4,4,r,l)}function rb(r,l){if(typeof l=="function"){r=r();var u=l(r);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function ab(r,l,u){u=u!=null?u.concat([r]):null,lf(4,4,rb.bind(null,l,r),u)}function np(){}function lb(r,l){var u=Xt();l=l===void 0?null:l;var d=u.memoizedState;return l!==null&&Ym(l,d[1])?d[0]:(u.memoizedState=[r,l],r)}function ob(r,l){var u=Xt();l=l===void 0?null:l;var d=u.memoizedState;if(l!==null&&Ym(l,d[1]))return d[0];if(d=r(),ka){An(!0);try{r()}finally{An(!1)}}return u.memoizedState=[d,l],d}function ip(r,l,u){return u===void 0||(Ks&1073741824)!==0&&(Ge&261930)===0?r.memoizedState=l:(r.memoizedState=u,r=cy(),Le.lanes|=r,Qr|=r,u)}function cb(r,l,u,d){return ci(u,l)?u:gl.current!==null?(r=ip(r,u,d),ci(r,l)||(Wt=!0),r):(Ks&42)===0||(Ks&1073741824)!==0&&(Ge&261930)===0?(Wt=!0,r.memoizedState=u):(r=cy(),Le.lanes|=r,Qr|=r,l)}function ub(r,l,u,d,O){var b=Z.p;Z.p=b!==0&&8>b?b:8;var A=P.T,N={};P.T=N,ap(r,!1,l,u);try{var U=O(),ee=P.S;if(ee!==null&&ee(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=WT(U,d);Do(r,l,oe,pi(r))}else Do(r,l,d,pi(r))}catch(he){Do(r,l,{then:function(){},status:"rejected",reason:he},pi())}finally{Z.p=b,A!==null&&N.types!==null&&(A.types=N.types),P.T=A}}function n4(){}function sp(r,l,u,d){if(r.tag!==5)throw Error(i(476));var O=fb(r).queue;ub(r,O,l,K,u===null?n4:function(){return hb(r),u(d)})}function fb(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:K},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:u},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function hb(r){var l=fb(r);l.next===null&&(l=r.alternate.memoizedState),Do(r,l.next.queue,{},pi())}function rp(){return gn(Jo)}function db(){return Xt().memoizedState}function mb(){return Xt().memoizedState}function i4(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var u=pi();r=Ar(u);var d=Cr(l,r,u);d!==null&&(Hn(d,l,u),No(d,l,u)),l={cache:Pm()},r.payload=l;return}l=l.return}}function s4(r,l,u){var d=pi();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},of(r)?gb(l,u):(u=wm(r,l,u,d),u!==null&&(Hn(u,r,d),Ob(u,l,d)))}function pb(r,l,u){var d=pi();Do(r,l,u,d)}function Do(r,l,u,d){var O={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(of(r))gb(l,O);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var A=l.lastRenderedState,N=b(A,u);if(O.hasEagerState=!0,O.eagerState=N,ci(N,A))return Zu(r,l,O,0),Ot===null&&Bu(),!1}catch{}finally{}if(u=wm(r,l,O,d),u!==null)return Hn(u,r,d),Ob(u,l,d),!0}return!1}function ap(r,l,u,d){if(d={lane:2,revertLane:Lp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},of(r)){if(l)throw Error(i(479))}else l=wm(r,u,d,2),l!==null&&Hn(l,r,2)}function of(r){var l=r.alternate;return r===Le||l!==null&&l===Le}function gb(r,l){Ol=ef=!0;var u=r.pending;u===null?l.next=l:(l.next=u.next,u.next=l),r.pending=l}function Ob(r,l,u){if((u&4194048)!==0){var d=l.lanes;d&=r.pendingLanes,u|=d,l.lanes=u,G(r,u)}}var $o={readContext:gn,use:sf,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};$o.useEffectEvent=Dt;var xb={readContext:gn,use:sf,useCallback:function(r,l){return _n().memoizedState=[r,l===void 0?null:l],r},useContext:gn,useEffect:tb,useImperativeHandle:function(r,l,u){u=u!=null?u.concat([r]):null,af(4194308,4,rb.bind(null,l,r),u)},useLayoutEffect:function(r,l){return af(4194308,4,r,l)},useInsertionEffect:function(r,l){af(4,2,r,l)},useMemo:function(r,l){var u=_n();l=l===void 0?null:l;var d=r();if(ka){An(!0);try{r()}finally{An(!1)}}return u.memoizedState=[d,l],d},useReducer:function(r,l,u){var d=_n();if(u!==void 0){var O=u(l);if(ka){An(!0);try{u(l)}finally{An(!1)}}}else O=l;return d.memoizedState=d.baseState=O,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:O},d.queue=r,r=r.dispatch=s4.bind(null,Le,r),[d.memoizedState,r]},useRef:function(r){var l=_n();return r={current:r},l.memoizedState=r},useState:function(r){r=Jm(r);var l=r.queue,u=pb.bind(null,Le,l);return l.dispatch=u,[r.memoizedState,u]},useDebugValue:np,useDeferredValue:function(r,l){var u=_n();return ip(u,r,l)},useTransition:function(){var r=Jm(!1);return r=ub.bind(null,Le,r.queue,!0,!1),_n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,u){var d=Le,O=_n();if(Je){if(u===void 0)throw Error(i(407));u=u()}else{if(u=l(),Ot===null)throw Error(i(349));(Ge&127)!==0||zx(d,l,u)}O.memoizedState=u;var b={value:u,getSnapshot:l};return O.queue=b,tb(Zx.bind(null,d,b,r),[r]),d.flags|=2048,bl(9,{destroy:void 0},Bx.bind(null,d,b,u,l),null),u},useId:function(){var r=_n(),l=Ot.identifierPrefix;if(Je){var u=As,d=ws;u=(d&~(1<<32-jt(d)-1)).toString(32)+u,l="_"+l+"R_"+u,u=tf++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=FT++,l="_"+l+"r_"+u.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:rp,useFormState:Wx,useActionState:Wx,useOptimistic:function(r){var l=_n();l.memoizedState=l.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=ap.bind(null,Le,!0,u),u.dispatch=l,[r,l]},useMemoCache:Wm,useCacheRefresh:function(){return _n().memoizedState=i4.bind(null,Le)},useEffectEvent:function(r){var l=_n(),u={impl:r};return l.memoizedState=u,function(){if((lt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},lp={readContext:gn,use:sf,useCallback:lb,useContext:gn,useEffect:tp,useImperativeHandle:ab,useInsertionEffect:ib,useLayoutEffect:sb,useMemo:ob,useReducer:rf,useRef:eb,useState:function(){return rf(Js)},useDebugValue:np,useDeferredValue:function(r,l){var u=Xt();return cb(u,ht.memoizedState,r,l)},useTransition:function(){var r=rf(Js)[0],l=Xt().memoizedState;return[typeof r=="boolean"?r:_o(r),l]},useSyncExternalStore:Lx,useId:db,useHostTransitionStatus:rp,useFormState:Fx,useActionState:Fx,useOptimistic:function(r,l){var u=Xt();return Ix(u,ht,r,l)},useMemoCache:Wm,useCacheRefresh:mb};lp.useEffectEvent=nb;var bb={readContext:gn,use:sf,useCallback:lb,useContext:gn,useEffect:tp,useImperativeHandle:ab,useInsertionEffect:ib,useLayoutEffect:sb,useMemo:ob,useReducer:Km,useRef:eb,useState:function(){return Km(Js)},useDebugValue:np,useDeferredValue:function(r,l){var u=Xt();return ht===null?ip(u,r,l):cb(u,ht.memoizedState,r,l)},useTransition:function(){var r=Km(Js)[0],l=Xt().memoizedState;return[typeof r=="boolean"?r:_o(r),l]},useSyncExternalStore:Lx,useId:db,useHostTransitionStatus:rp,useFormState:Jx,useActionState:Jx,useOptimistic:function(r,l){var u=Xt();return ht!==null?Ix(u,ht,r,l):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Wm,useCacheRefresh:mb};bb.useEffectEvent=nb;function op(r,l,u,d){l=r.memoizedState,u=u(d,l),u=u==null?l:g({},l,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var cp={enqueueSetState:function(r,l,u){r=r._reactInternals;var d=pi(),O=Ar(d);O.payload=l,u!=null&&(O.callback=u),l=Cr(r,O,d),l!==null&&(Hn(l,r,d),No(l,r,d))},enqueueReplaceState:function(r,l,u){r=r._reactInternals;var d=pi(),O=Ar(d);O.tag=1,O.payload=l,u!=null&&(O.callback=u),l=Cr(r,O,d),l!==null&&(Hn(l,r,d),No(l,r,d))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var u=pi(),d=Ar(u);d.tag=2,l!=null&&(d.callback=l),l=Cr(r,d,u),l!==null&&(Hn(l,r,u),No(l,r,u))}};function yb(r,l,u,d,O,b,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,A):l.prototype&&l.prototype.isPureReactComponent?!wo(u,d)||!wo(O,b):!0}function vb(r,l,u,d){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,d),l.state!==r&&cp.enqueueReplaceState(l,l.state,null)}function Ta(r,l){var u=l;if("ref"in l){u={};for(var d in l)d!=="ref"&&(u[d]=l[d])}if(r=r.defaultProps){u===l&&(u=g({},u));for(var O in r)u[O]===void 0&&(u[O]=r[O])}return u}function Sb(r){zu(r)}function wb(r){console.error(r)}function Ab(r){zu(r)}function cf(r,l){try{var u=r.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function Cb(r,l,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function up(r,l,u){return u=Ar(u),u.tag=3,u.payload={element:null},u.callback=function(){cf(r,l)},u}function kb(r){return r=Ar(r),r.tag=3,r}function Tb(r,l,u,d){var O=u.type.getDerivedStateFromError;if(typeof O=="function"){var b=d.value;r.payload=function(){return O(b)},r.callback=function(){Cb(l,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){Cb(l,u,d),typeof O!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function r4(r,l,u,d,O){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=u.alternate,l!==null&&fl(l,u,O,!0),u=fi.current,u!==null){switch(u.tag){case 31:case 13:return $i===null?vf():u.alternate===null&&$t===0&&($t=3),u.flags&=-257,u.flags|=65536,u.lanes=O,d===Gu?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([d]):l.add(d),_p(r,d,O)),!1;case 22:return u.flags|=65536,d===Gu?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([d]):u.add(d)),_p(r,d,O)),!1}throw Error(i(435,u.tag))}return _p(r,d,O),vf(),!1}if(Je)return l=fi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=O,d!==Rm&&(r=Error(i(422),{cause:d}),ko(Mi(r,u)))):(d!==Rm&&(l=Error(i(423),{cause:d}),ko(Mi(l,u))),r=r.current.alternate,r.flags|=65536,O&=-O,r.lanes|=O,d=Mi(d,u),O=up(r.stateNode,d,O),Bm(r,O),$t!==4&&($t=2)),!1;var b=Error(i(520),{cause:d});if(b=Mi(b,u),Yo===null?Yo=[b]:Yo.push(b),$t!==4&&($t=2),l===null)return!0;d=Mi(d,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,r=O&-O,u.lanes|=r,r=up(u.stateNode,d,r),Bm(u,r),!1;case 1:if(l=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Nr===null||!Nr.has(b))))return u.flags|=65536,O&=-O,u.lanes|=O,O=kb(O),Tb(O,r,u,d),Bm(u,O),!1}u=u.return}while(u!==null);return!1}var fp=Error(i(461)),Wt=!1;function On(r,l,u,d){l.child=r===null?Nx(l,null,u,d):Ca(l,r.child,u,d)}function Eb(r,l,u,d,O){u=u.render;var b=l.ref;if("ref"in d){var A={};for(var N in d)N!=="ref"&&(A[N]=d[N])}else A=d;return va(l),d=Vm(r,l,u,A,b,O),N=qm(),r!==null&&!Wt?(Hm(r,l,O),er(r,l,O)):(Je&&N&&Tm(l),l.flags|=1,On(r,l,d,O),l.child)}function Rb(r,l,u,d,O){if(r===null){var b=u.type;return typeof b=="function"&&!Am(b)&&b.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=b,Qb(r,l,b,d,O)):(r=Xu(u.type,null,d,l,l.mode,O),r.ref=l.ref,r.return=l,l.child=r)}if(b=r.child,!bp(r,O)){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:wo,u(A,d)&&r.ref===l.ref)return er(r,l,O)}return l.flags|=1,r=Hs(b,d),r.ref=l.ref,r.return=l,l.child=r}function Qb(r,l,u,d,O){if(r!==null){var b=r.memoizedProps;if(wo(b,d)&&r.ref===l.ref)if(Wt=!1,l.pendingProps=d=b,bp(r,O))(r.flags&131072)!==0&&(Wt=!0);else return l.lanes=r.lanes,er(r,l,O)}return hp(r,l,u,d,O)}function Nb(r,l,u,d){var O=d.children,b=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,r!==null){for(d=l.child=r.child,O=0;d!==null;)O=O|d.lanes|d.childLanes,d=d.sibling;d=O&~b}else d=0,l.child=null;return jb(r,l,b,u,d)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&qu(l,b!==null?b.cachePool:null),b!==null?Px(l,b):Um(),_x(l);else return d=l.lanes=536870912,jb(r,l,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(qu(l,b.cachePool),Px(l,b),Tr(),l.memoizedState=null):(r!==null&&qu(l,null),Um(),Tr());return On(r,l,O,u),l.child}function Lo(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function jb(r,l,u,d,O){var b=Dm();return b=b===null?null:{parent:Ht._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},r!==null&&qu(l,null),Um(),_x(l),r!==null&&fl(r,l,d,!0),l.childLanes=O,null}function uf(r,l){return l=hf({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function Mb(r,l,u){return Ca(l,r.child,null,u),r=uf(l,l.pendingProps),r.flags|=2,hi(l),l.memoizedState=null,r}function a4(r,l,u){var d=l.pendingProps,O=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(Je){if(d.mode==="hidden")return r=uf(l,d),l.lanes=536870912,Lo(null,r);if(Im(l),(r=Ct)?(r=Yy(r,Di),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:br!==null?{id:ws,overflow:As}:null,retryLane:536870912,hydrationErrors:null},u=gx(r),u.return=l,l.child=u,pn=l,Ct=null)):r=null,r===null)throw vr(l);return l.lanes=536870912,null}return uf(l,d)}var b=r.memoizedState;if(b!==null){var A=b.dehydrated;if(Im(l),O)if(l.flags&256)l.flags&=-257,l=Mb(r,l,u);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(i(558));else if(Wt||fl(r,l,u,!1),O=(u&r.childLanes)!==0,Wt||O){if(d=Ot,d!==null&&(A=se(d,u),A!==0&&A!==b.retryLane))throw b.retryLane=A,Oa(r,A),Hn(d,r,A),fp;vf(),l=Mb(r,l,u)}else r=b.treeContext,Ct=Li(A.nextSibling),pn=l,Je=!0,yr=null,Di=!1,r!==null&&bx(l,r),l=uf(l,d),l.flags|=4096;return l}return r=Hs(r.child,{mode:d.mode,children:d.children}),r.ref=l.ref,l.child=r,r.return=l,r}function ff(r,l){var u=l.ref;if(u===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(l.flags|=4194816)}}function hp(r,l,u,d,O){return va(l),u=Vm(r,l,u,d,void 0,O),d=qm(),r!==null&&!Wt?(Hm(r,l,O),er(r,l,O)):(Je&&d&&Tm(l),l.flags|=1,On(r,l,u,O),l.child)}function Pb(r,l,u,d,O,b){return va(l),l.updateQueue=null,u=$x(l,d,u,O),Dx(r),d=qm(),r!==null&&!Wt?(Hm(r,l,b),er(r,l,b)):(Je&&d&&Tm(l),l.flags|=1,On(r,l,u,b),l.child)}function _b(r,l,u,d,O){if(va(l),l.stateNode===null){var b=ll,A=u.contextType;typeof A=="object"&&A!==null&&(b=gn(A)),b=new u(d,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=cp,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=d,b.state=l.memoizedState,b.refs={},Lm(l),A=u.contextType,b.context=typeof A=="object"&&A!==null?gn(A):ll,b.state=l.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(op(l,u,A,d),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&cp.enqueueReplaceState(b,b.state,null),Mo(l,d,b,O),jo(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(r===null){b=l.stateNode;var N=l.memoizedProps,U=Ta(u,N);b.props=U;var ee=b.context,oe=u.contextType;A=ll,typeof oe=="object"&&oe!==null&&(A=gn(oe));var he=u.getDerivedStateFromProps;oe=typeof he=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||ee!==A)&&vb(l,b,d,A),wr=!1;var ne=l.memoizedState;b.state=ne,Mo(l,d,b,O),jo(),ee=l.memoizedState,N||ne!==ee||wr?(typeof he=="function"&&(op(l,u,he,d),ee=l.memoizedState),(U=wr||yb(l,u,U,d,ne,ee,A))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=ee),b.props=d,b.state=ee,b.context=A,d=U):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{b=l.stateNode,zm(r,l),A=l.memoizedProps,oe=Ta(u,A),b.props=oe,he=l.pendingProps,ne=b.context,ee=u.contextType,U=ll,typeof ee=="object"&&ee!==null&&(U=gn(ee)),N=u.getDerivedStateFromProps,(ee=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==he||ne!==U)&&vb(l,b,d,U),wr=!1,ne=l.memoizedState,b.state=ne,Mo(l,d,b,O),jo();var ae=l.memoizedState;A!==he||ne!==ae||wr||r!==null&&r.dependencies!==null&&Yu(r.dependencies)?(typeof N=="function"&&(op(l,u,N,d),ae=l.memoizedState),(oe=wr||yb(l,u,oe,d,ne,ae,U)||r!==null&&r.dependencies!==null&&Yu(r.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ae,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ae,U)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ae),b.props=d,b.state=ae,b.context=U,d=oe):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(l.flags|=1024),d=!1)}return b=d,ff(r,l),d=(l.flags&128)!==0,b||d?(b=l.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,r!==null&&d?(l.child=Ca(l,r.child,null,O),l.child=Ca(l,null,u,O)):On(r,l,u,O),l.memoizedState=b.state,r=l.child):r=er(r,l,O),r}function Db(r,l,u,d){return ba(),l.flags|=256,On(r,l,u,d),l.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(r){return{baseLanes:r,cachePool:Cx()}}function pp(r,l,u){return r=r!==null?r.childLanes&~u:0,l&&(r|=mi),r}function $b(r,l,u){var d=l.pendingProps,O=!1,b=(l.flags&128)!==0,A;if((A=b)||(A=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),A&&(O=!0,l.flags&=-129),A=(l.flags&32)!==0,l.flags&=-33,r===null){if(Je){if(O?kr(l):Tr(),(r=Ct)?(r=Yy(r,Di),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:br!==null?{id:ws,overflow:As}:null,retryLane:536870912,hydrationErrors:null},u=gx(r),u.return=l,l.child=u,pn=l,Ct=null)):r=null,r===null)throw vr(l);return Fp(r)?l.lanes=32:l.lanes=536870912,null}var N=d.children;return d=d.fallback,O?(Tr(),O=l.mode,N=hf({mode:"hidden",children:N},O),d=xa(d,O,u,null),N.return=l,d.return=l,N.sibling=d,l.child=N,d=l.child,d.memoizedState=mp(u),d.childLanes=pp(r,A,u),l.memoizedState=dp,Lo(null,d)):(kr(l),gp(l,N))}var U=r.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(b)l.flags&256?(kr(l),l.flags&=-257,l=Op(r,l,u)):l.memoizedState!==null?(Tr(),l.child=r.child,l.flags|=128,l=null):(Tr(),N=d.fallback,O=l.mode,d=hf({mode:"visible",children:d.children},O),N=xa(N,O,u,null),N.flags|=2,d.return=l,N.return=l,d.sibling=N,l.child=d,Ca(l,r.child,null,u),d=l.child,d.memoizedState=mp(u),d.childLanes=pp(r,A,u),l.memoizedState=dp,l=Lo(null,d));else if(kr(l),Fp(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var ee=A.dgst;A=ee,d=Error(i(419)),d.stack="",d.digest=A,ko({value:d,source:null,stack:null}),l=Op(r,l,u)}else if(Wt||fl(r,l,u,!1),A=(u&r.childLanes)!==0,Wt||A){if(A=Ot,A!==null&&(d=se(A,u),d!==0&&d!==U.retryLane))throw U.retryLane=d,Oa(r,d),Hn(A,r,d),fp;Wp(N)||vf(),l=Op(r,l,u)}else Wp(N)?(l.flags|=192,l.child=r.child,l=null):(r=U.treeContext,Ct=Li(N.nextSibling),pn=l,Je=!0,yr=null,Di=!1,r!==null&&bx(l,r),l=gp(l,d.children),l.flags|=4096);return l}return O?(Tr(),N=d.fallback,O=l.mode,U=r.child,ee=U.sibling,d=Hs(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,ee!==null?N=Hs(ee,N):(N=xa(N,O,u,null),N.flags|=2),N.return=l,d.return=l,d.sibling=N,l.child=d,Lo(null,d),d=l.child,N=r.child.memoizedState,N===null?N=mp(u):(O=N.cachePool,O!==null?(U=Ht._currentValue,O=O.parent!==U?{parent:U,pool:U}:O):O=Cx(),N={baseLanes:N.baseLanes|u,cachePool:O}),d.memoizedState=N,d.childLanes=pp(r,A,u),l.memoizedState=dp,Lo(r.child,d)):(kr(l),u=r.child,r=u.sibling,u=Hs(u,{mode:"visible",children:d.children}),u.return=l,u.sibling=null,r!==null&&(A=l.deletions,A===null?(l.deletions=[r],l.flags|=16):A.push(r)),l.child=u,l.memoizedState=null,u)}function gp(r,l){return l=hf({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function hf(r,l){return r=ui(22,r,null,l),r.lanes=0,r}function Op(r,l,u){return Ca(l,r.child,null,u),r=gp(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function Lb(r,l,u){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l),jm(r.return,l,u)}function xp(r,l,u,d,O,b){var A=r.memoizedState;A===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:O,treeForkCount:b}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=u,A.tailMode=O,A.treeForkCount=b)}function zb(r,l,u){var d=l.pendingProps,O=d.revealOrder,b=d.tail;d=d.children;var A=Ut.current,N=(A&2)!==0;if(N?(A=A&1|2,l.flags|=128):A&=1,te(Ut,A),On(r,l,d,u),d=Je?Co:0,!N&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Lb(r,u,l);else if(r.tag===19)Lb(r,u,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(O){case"forwards":for(u=l.child,O=null;u!==null;)r=u.alternate,r!==null&&Ju(r)===null&&(O=u),u=u.sibling;u=O,u===null?(O=l.child,l.child=null):(O=u.sibling,u.sibling=null),xp(l,!1,O,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,O=l.child,l.child=null;O!==null;){if(r=O.alternate,r!==null&&Ju(r)===null){l.child=O;break}r=O.sibling,O.sibling=u,u=O,O=r}xp(l,!0,u,null,b,d);break;case"together":xp(l,!1,null,null,void 0,d);break;default:l.memoizedState=null}return l.child}function er(r,l,u){if(r!==null&&(l.dependencies=r.dependencies),Qr|=l.lanes,(u&l.childLanes)===0)if(r!==null){if(fl(r,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,u=Hs(r,r.pendingProps),l.child=u,u.return=l;r.sibling!==null;)r=r.sibling,u=u.sibling=Hs(r,r.pendingProps),u.return=l;u.sibling=null}return l.child}function bp(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Yu(r)))}function l4(r,l,u){switch(l.tag){case 3:tt(l,l.stateNode.containerInfo),Sr(l,Ht,r.memoizedState.cache),ba();break;case 27:case 5:it(l);break;case 4:tt(l,l.stateNode.containerInfo);break;case 10:Sr(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Im(l),null;break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(kr(l),l.flags|=128,null):(u&l.child.childLanes)!==0?$b(r,l,u):(kr(l),r=er(r,l,u),r!==null?r.sibling:null);kr(l);break;case 19:var O=(r.flags&128)!==0;if(d=(u&l.childLanes)!==0,d||(fl(r,l,u,!1),d=(u&l.childLanes)!==0),O){if(d)return zb(r,l,u);l.flags|=128}if(O=l.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),te(Ut,Ut.current),d)break;return null;case 22:return l.lanes=0,Nb(r,l,u,l.pendingProps);case 24:Sr(l,Ht,r.memoizedState.cache)}return er(r,l,u)}function Bb(r,l,u){if(r!==null)if(r.memoizedProps!==l.pendingProps)Wt=!0;else{if(!bp(r,u)&&(l.flags&128)===0)return Wt=!1,l4(r,l,u);Wt=(r.flags&131072)!==0}else Wt=!1,Je&&(l.flags&1048576)!==0&&xx(l,Co,l.index);switch(l.lanes=0,l.tag){case 16:e:{var d=l.pendingProps;if(r=wa(l.elementType),l.type=r,typeof r=="function")Am(r)?(d=Ta(r,d),l.tag=1,l=_b(null,l,r,d,u)):(l.tag=0,l=hp(null,l,r,d,u));else{if(r!=null){var O=r.$$typeof;if(O===j){l.tag=11,l=Eb(null,l,r,d,u);break e}else if(O===k){l.tag=14,l=Rb(null,l,r,d,u);break e}}throw l=H(r)||r,Error(i(306,l,""))}}return l;case 0:return hp(r,l,l.type,l.pendingProps,u);case 1:return d=l.type,O=Ta(d,l.pendingProps),_b(r,l,d,O,u);case 3:e:{if(tt(l,l.stateNode.containerInfo),r===null)throw Error(i(387));d=l.pendingProps;var b=l.memoizedState;O=b.element,zm(r,l),Mo(l,d,null,u);var A=l.memoizedState;if(d=A.cache,Sr(l,Ht,d),d!==b.cache&&Mm(l,[Ht],u,!0),jo(),d=A.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:A.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=Db(r,l,d,u);break e}else if(d!==O){O=Mi(Error(i(424)),l),ko(O),l=Db(r,l,d,u);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ct=Li(r.firstChild),pn=l,Je=!0,yr=null,Di=!0,u=Nx(l,null,d,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ba(),d===O){l=er(r,l,u);break e}On(r,l,d,u)}l=l.child}return l;case 26:return ff(r,l),r===null?(u=Fy(l.type,null,l.pendingProps,null))?l.memoizedState=u:Je||(u=l.type,r=l.pendingProps,d=Ef(be.current).createElement(u),d[xe]=l,d[Ae]=r,xn(d,u,r),ct(d),l.stateNode=d):l.memoizedState=Fy(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return it(l),r===null&&Je&&(d=l.stateNode=Hy(l.type,l.pendingProps,be.current),pn=l,Di=!0,O=Ct,_r(l.type)?(Kp=O,Ct=Li(d.firstChild)):Ct=O),On(r,l,l.pendingProps.children,u),ff(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Je&&((O=d=Ct)&&(d=$4(d,l.type,l.pendingProps,Di),d!==null?(l.stateNode=d,pn=l,Ct=Li(d.firstChild),Di=!1,O=!0):O=!1),O||vr(l)),it(l),O=l.type,b=l.pendingProps,A=r!==null?r.memoizedProps:null,d=b.children,qp(O,b)?d=null:A!==null&&qp(O,A)&&(l.flags|=32),l.memoizedState!==null&&(O=Vm(r,l,KT,null,null,u),Jo._currentValue=O),ff(r,l),On(r,l,d,u),l.child;case 6:return r===null&&Je&&((r=u=Ct)&&(u=L4(u,l.pendingProps,Di),u!==null?(l.stateNode=u,pn=l,Ct=null,r=!0):r=!1),r||vr(l)),null;case 13:return $b(r,l,u);case 4:return tt(l,l.stateNode.containerInfo),d=l.pendingProps,r===null?l.child=Ca(l,null,d,u):On(r,l,d,u),l.child;case 11:return Eb(r,l,l.type,l.pendingProps,u);case 7:return On(r,l,l.pendingProps,u),l.child;case 8:return On(r,l,l.pendingProps.children,u),l.child;case 12:return On(r,l,l.pendingProps.children,u),l.child;case 10:return d=l.pendingProps,Sr(l,l.type,d.value),On(r,l,d.children,u),l.child;case 9:return O=l.type._context,d=l.pendingProps.children,va(l),O=gn(O),d=d(O),l.flags|=1,On(r,l,d,u),l.child;case 14:return Rb(r,l,l.type,l.pendingProps,u);case 15:return Qb(r,l,l.type,l.pendingProps,u);case 19:return zb(r,l,u);case 31:return a4(r,l,u);case 22:return Nb(r,l,u,l.pendingProps);case 24:return va(l),d=gn(Ht),r===null?(O=Dm(),O===null&&(O=Ot,b=Pm(),O.pooledCache=b,b.refCount++,b!==null&&(O.pooledCacheLanes|=u),O=b),l.memoizedState={parent:d,cache:O},Lm(l),Sr(l,Ht,O)):((r.lanes&u)!==0&&(zm(r,l),Mo(l,null,null,u),jo()),O=r.memoizedState,b=l.memoizedState,O.parent!==d?(O={parent:d,cache:d},l.memoizedState=O,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=O),Sr(l,Ht,d)):(d=b.cache,Sr(l,Ht,d),d!==O.cache&&Mm(l,[Ht],u,!0))),On(r,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function tr(r){r.flags|=4}function yp(r,l,u,d,O){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(O&335544128)===O)if(r.stateNode.complete)r.flags|=8192;else if(dy())r.flags|=8192;else throw Aa=Gu,$m}else r.flags&=-16777217}function Zb(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!nv(l))if(dy())r.flags|=8192;else throw Aa=Gu,$m}function df(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?es():536870912,r.lanes|=l,wl|=l)}function zo(r,l){if(!Je)switch(r.tailMode){case"hidden":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function kt(r){var l=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(l)for(var O=r.child;O!==null;)u|=O.lanes|O.childLanes,d|=O.subtreeFlags&65011712,d|=O.flags&65011712,O.return=r,O=O.sibling;else for(O=r.child;O!==null;)u|=O.lanes|O.childLanes,d|=O.subtreeFlags,d|=O.flags,O.return=r,O=O.sibling;return r.subtreeFlags|=d,r.childLanes=u,l}function o4(r,l,u){var d=l.pendingProps;switch(Em(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(l),null;case 1:return kt(l),null;case 3:return u=l.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Fs(Ht),Xe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ul(l)?tr(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qm())),kt(l),null;case 26:var O=l.type,b=l.memoizedState;return r===null?(tr(l),b!==null?(kt(l),Zb(l,b)):(kt(l),yp(l,O,null,d,u))):b?b!==r.memoizedState?(tr(l),kt(l),Zb(l,b)):(kt(l),l.flags&=-16777217):(r=r.memoizedProps,r!==d&&tr(l),kt(l),yp(l,O,r,d,u)),null;case 27:if(Ye(l),u=be.current,O=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==d&&tr(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return kt(l),null}r=ce.current,ul(l)?yx(l):(r=Hy(O,d,u),l.stateNode=r,tr(l))}return kt(l),null;case 5:if(Ye(l),O=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==d&&tr(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return kt(l),null}if(b=ce.current,ul(l))yx(l);else{var A=Ef(be.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?A.createElement("select",{is:d.is}):A.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?A.createElement(O,{is:d.is}):A.createElement(O)}}b[xe]=l,b[Ae]=d;e:for(A=l.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}l.stateNode=b;e:switch(xn(b,O,d),O){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&tr(l)}}return kt(l),yp(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,u),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==d&&tr(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(r=be.current,ul(l)){if(r=l.stateNode,u=l.memoizedProps,d=null,O=pn,O!==null)switch(O.tag){case 27:case 5:d=O.memoizedProps}r[xe]=l,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||$y(r.nodeValue,u)),r||vr(l,!0)}else r=Ef(r).createTextNode(d),r[xe]=l,l.stateNode=r}return kt(l),null;case 31:if(u=l.memoizedState,r===null||r.memoizedState!==null){if(d=ul(l),u!==null){if(r===null){if(!d)throw Error(i(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[xe]=l}else ba(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;kt(l),r=!1}else u=Qm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return l.flags&256?(hi(l),l):(hi(l),null);if((l.flags&128)!==0)throw Error(i(558))}return kt(l),null;case 13:if(d=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(O=ul(l),d!==null&&d.dehydrated!==null){if(r===null){if(!O)throw Error(i(318));if(O=l.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(i(317));O[xe]=l}else ba(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;kt(l),O=!1}else O=Qm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=O),O=!0;if(!O)return l.flags&256?(hi(l),l):(hi(l),null)}return hi(l),(l.flags&128)!==0?(l.lanes=u,l):(u=d!==null,r=r!==null&&r.memoizedState!==null,u&&(d=l.child,O=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(O=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==O&&(d.flags|=2048)),u!==r&&u&&(l.child.flags|=8192),df(l,l.updateQueue),kt(l),null);case 4:return Xe(),r===null&&Up(l.stateNode.containerInfo),kt(l),null;case 10:return Fs(l.type),kt(l),null;case 19:if(X(Ut),d=l.memoizedState,d===null)return kt(l),null;if(O=(l.flags&128)!==0,b=d.rendering,b===null)if(O)zo(d,!1);else{if($t!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(b=Ju(r),b!==null){for(l.flags|=128,zo(d,!1),r=b.updateQueue,l.updateQueue=r,df(l,r),l.subtreeFlags=0,r=u,u=l.child;u!==null;)px(u,r),u=u.sibling;return te(Ut,Ut.current&1|2),Je&&Gs(l,d.treeForkCount),l.child}r=r.sibling}d.tail!==null&&St()>xf&&(l.flags|=128,O=!0,zo(d,!1),l.lanes=4194304)}else{if(!O)if(r=Ju(b),r!==null){if(l.flags|=128,O=!0,r=r.updateQueue,l.updateQueue=r,df(l,r),zo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Je)return kt(l),null}else 2*St()-d.renderingStartTime>xf&&u!==536870912&&(l.flags|=128,O=!0,zo(d,!1),l.lanes=4194304);d.isBackwards?(b.sibling=l.child,l.child=b):(r=d.last,r!==null?r.sibling=b:l.child=b,d.last=b)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=St(),r.sibling=null,u=Ut.current,te(Ut,O?u&1|2:u&1),Je&&Gs(l,d.treeForkCount),r):(kt(l),null);case 22:case 23:return hi(l),Xm(),d=l.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(u&536870912)!==0&&(l.flags&128)===0&&(kt(l),l.subtreeFlags&6&&(l.flags|=8192)):kt(l),u=l.updateQueue,u!==null&&df(l,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048),r!==null&&X(Sa),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Fs(Ht),kt(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function c4(r,l){switch(Em(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Fs(Ht),Xe(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Ye(l),null;case 31:if(l.memoizedState!==null){if(hi(l),l.alternate===null)throw Error(i(340));ba()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(hi(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));ba()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return X(Ut),null;case 4:return Xe(),null;case 10:return Fs(l.type),null;case 22:case 23:return hi(l),Xm(),r!==null&&X(Sa),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Fs(Ht),null;case 25:return null;default:return null}}function Ub(r,l){switch(Em(l),l.tag){case 3:Fs(Ht),Xe();break;case 26:case 27:case 5:Ye(l);break;case 4:Xe();break;case 31:l.memoizedState!==null&&hi(l);break;case 13:hi(l);break;case 19:X(Ut);break;case 10:Fs(l.type);break;case 22:case 23:hi(l),Xm(),r!==null&&X(Sa);break;case 24:Fs(Ht)}}function Bo(r,l){try{var u=l.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var O=d.next;u=O;do{if((u.tag&r)===r){d=void 0;var b=u.create,A=u.inst;d=b(),A.destroy=d}u=u.next}while(u!==O)}}catch(N){ft(l,l.return,N)}}function Er(r,l,u){try{var d=l.updateQueue,O=d!==null?d.lastEffect:null;if(O!==null){var b=O.next;d=b;do{if((d.tag&r)===r){var A=d.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,O=l;var U=u,ee=N;try{ee()}catch(oe){ft(O,U,oe)}}}d=d.next}while(d!==b)}}catch(oe){ft(l,l.return,oe)}}function Xb(r){var l=r.updateQueue;if(l!==null){var u=r.stateNode;try{Mx(l,u)}catch(d){ft(r,r.return,d)}}}function Ib(r,l,u){u.props=Ta(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){ft(r,l,d)}}function Zo(r,l){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(O){ft(r,l,O)}}function Cs(r,l){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(O){ft(r,l,O)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(O){ft(r,l,O)}else u.current=null}function Yb(r){var l=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(O){ft(r,r.return,O)}}function vp(r,l,u){try{var d=r.stateNode;N4(d,r.type,u,l),d[Ae]=l}catch(O){ft(r,r.return,O)}}function Vb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_r(r.type)||r.tag===4}function Sp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_r(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wp(r,l,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(r),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Vs));else if(d!==4&&(d===27&&_r(r.type)&&(u=r.stateNode,l=null),r=r.child,r!==null))for(wp(r,l,u),r=r.sibling;r!==null;)wp(r,l,u),r=r.sibling}function mf(r,l,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,l?u.insertBefore(r,l):u.appendChild(r);else if(d!==4&&(d===27&&_r(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(mf(r,l,u),r=r.sibling;r!==null;)mf(r,l,u),r=r.sibling}function qb(r){var l=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,O=l.attributes;O.length;)l.removeAttributeNode(O[0]);xn(l,d,u),l[xe]=r,l[Ae]=u}catch(b){ft(r,r.return,b)}}var nr=!1,Ft=!1,Ap=!1,Hb=typeof WeakSet=="function"?WeakSet:Set,cn=null;function u4(r,l){if(r=r.containerInfo,Yp=_f,r=ax(r),Om(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var O=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var A=0,N=-1,U=-1,ee=0,oe=0,he=r,ne=null;t:for(;;){for(var ae;he!==u||O!==0&&he.nodeType!==3||(N=A+O),he!==b||d!==0&&he.nodeType!==3||(U=A+d),he.nodeType===3&&(A+=he.nodeValue.length),(ae=he.firstChild)!==null;)ne=he,he=ae;for(;;){if(he===r)break t;if(ne===u&&++ee===O&&(N=A),ne===b&&++oe===d&&(U=A),(ae=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=ae}u=N===-1||U===-1?null:{start:N,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vp={focusedElem:r,selectionRange:u},_f=!1,cn=l;cn!==null;)if(l=cn,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,cn=r;else for(;cn!==null;){switch(l=cn,b=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)O=r[u],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,u=l,O=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var ke=Ta(u.type,O);r=d.getSnapshotBeforeUpdate(ke,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(_e){ft(u,u.return,_e)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,u=r.nodeType,u===9)Gp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,cn=r;break}cn=l.return}}function Gb(r,l,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:sr(r,u),d&4&&Bo(5,u);break;case 1:if(sr(r,u),d&4)if(r=u.stateNode,l===null)try{r.componentDidMount()}catch(A){ft(u,u.return,A)}else{var O=Ta(u.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(O,l,r.__reactInternalSnapshotBeforeUpdate)}catch(A){ft(u,u.return,A)}}d&64&&Xb(u),d&512&&Zo(u,u.return);break;case 3:if(sr(r,u),d&64&&(r=u.updateQueue,r!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Mx(r,l)}catch(A){ft(u,u.return,A)}}break;case 27:l===null&&d&4&&qb(u);case 26:case 5:sr(r,u),l===null&&d&4&&Yb(u),d&512&&Zo(u,u.return);break;case 12:sr(r,u);break;case 31:sr(r,u),d&4&&Kb(r,u);break;case 13:sr(r,u),d&4&&Jb(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=b4.bind(null,u),z4(r,u))));break;case 22:if(d=u.memoizedState!==null||nr,!d){l=l!==null&&l.memoizedState!==null||Ft,O=nr;var b=Ft;nr=d,(Ft=l)&&!b?rr(r,u,(u.subtreeFlags&8772)!==0):sr(r,u),nr=O,Ft=b}break;case 30:break;default:sr(r,u)}}function Wb(r){var l=r.alternate;l!==null&&(r.alternate=null,Wb(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&ot(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Et=null,In=!1;function ir(r,l,u){for(u=u.child;u!==null;)Fb(r,l,u),u=u.sibling}function Fb(r,l,u){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Pt,u)}catch{}switch(u.tag){case 26:Ft||Cs(u,l),ir(r,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ft||Cs(u,l);var d=Et,O=In;_r(u.type)&&(Et=u.stateNode,In=!1),ir(r,l,u),Wo(u.stateNode),Et=d,In=O;break;case 5:Ft||Cs(u,l);case 6:if(d=Et,O=In,Et=null,ir(r,l,u),Et=d,In=O,Et!==null)if(In)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(u.stateNode)}catch(b){ft(u,l,b)}else try{Et.removeChild(u.stateNode)}catch(b){ft(u,l,b)}break;case 18:Et!==null&&(In?(r=Et,Xy(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Nl(r)):Xy(Et,u.stateNode));break;case 4:d=Et,O=In,Et=u.stateNode.containerInfo,In=!0,ir(r,l,u),Et=d,In=O;break;case 0:case 11:case 14:case 15:Er(2,u,l),Ft||Er(4,u,l),ir(r,l,u);break;case 1:Ft||(Cs(u,l),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Ib(u,l,d)),ir(r,l,u);break;case 21:ir(r,l,u);break;case 22:Ft=(d=Ft)||u.memoizedState!==null,ir(r,l,u),Ft=d;break;default:ir(r,l,u)}}function Kb(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Nl(r)}catch(u){ft(l,l.return,u)}}}function Jb(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Nl(r)}catch(u){ft(l,l.return,u)}}function f4(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new Hb),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new Hb),l;default:throw Error(i(435,r.tag))}}function pf(r,l){var u=f4(r);l.forEach(function(d){if(!u.has(d)){u.add(d);var O=y4.bind(null,r,d);d.then(O,O)}})}function Yn(r,l){var u=l.deletions;if(u!==null)for(var d=0;d<u.length;d++){var O=u[d],b=r,A=l,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(_r(N.type)){Et=N.stateNode,In=!1;break e}break;case 5:Et=N.stateNode,In=!1;break e;case 3:case 4:Et=N.stateNode.containerInfo,In=!0;break e}N=N.return}if(Et===null)throw Error(i(160));Fb(b,A,O),Et=null,In=!1,b=O.alternate,b!==null&&(b.return=null),O.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)ey(l,r),l=l.sibling}var ss=null;function ey(r,l){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(l,r),Vn(r),d&4&&(Er(3,r,r.return),Bo(3,r),Er(5,r,r.return));break;case 1:Yn(l,r),Vn(r),d&512&&(Ft||u===null||Cs(u,u.return)),d&64&&nr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var O=ss;if(Yn(l,r),Vn(r),d&512&&(Ft||u===null||Cs(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,O=O.ownerDocument||O;t:switch(d){case"title":b=O.getElementsByTagName("title")[0],(!b||b[Tt]||b[xe]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=O.createElement(d),O.head.insertBefore(b,O.querySelector("head > title"))),xn(b,d,u),b[xe]=r,ct(b),d=b;break e;case"link":var A=ev("link","href",O).get(d+(u.href||""));if(A){for(var N=0;N<A.length;N++)if(b=A[N],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(N,1);break t}}b=O.createElement(d),xn(b,d,u),O.head.appendChild(b);break;case"meta":if(A=ev("meta","content",O).get(d+(u.content||""))){for(N=0;N<A.length;N++)if(b=A[N],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(N,1);break t}}b=O.createElement(d),xn(b,d,u),O.head.appendChild(b);break;default:throw Error(i(468,d))}b[xe]=r,ct(b),d=b}r.stateNode=d}else tv(O,r.type,r.stateNode);else r.stateNode=Jy(O,d,r.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?tv(O,r.type,r.stateNode):Jy(O,d,r.memoizedProps)):d===null&&r.stateNode!==null&&vp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Yn(l,r),Vn(r),d&512&&(Ft||u===null||Cs(u,u.return)),u!==null&&d&4&&vp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Yn(l,r),Vn(r),d&512&&(Ft||u===null||Cs(u,u.return)),r.flags&32){O=r.stateNode;try{el(O,"")}catch(ke){ft(r,r.return,ke)}}d&4&&r.stateNode!=null&&(O=r.memoizedProps,vp(r,O,u!==null?u.memoizedProps:O)),d&1024&&(Ap=!0);break;case 6:if(Yn(l,r),Vn(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(ke){ft(r,r.return,ke)}}break;case 3:if(Nf=null,O=ss,ss=Rf(l.containerInfo),Yn(l,r),ss=O,Vn(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Nl(l.containerInfo)}catch(ke){ft(r,r.return,ke)}Ap&&(Ap=!1,ty(r));break;case 4:d=ss,ss=Rf(r.stateNode.containerInfo),Yn(l,r),Vn(r),ss=d;break;case 12:Yn(l,r),Vn(r);break;case 31:Yn(l,r),Vn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,pf(r,d)));break;case 13:Yn(l,r),Vn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Of=St()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,pf(r,d)));break;case 22:O=r.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,ee=nr,oe=Ft;if(nr=ee||O,Ft=oe||U,Yn(l,r),Ft=oe,nr=ee,Vn(r),d&8192)e:for(l=r.stateNode,l._visibility=O?l._visibility&-2:l._visibility|1,O&&(u===null||U||nr||Ft||Ea(r)),u=null,l=r;;){if(l.tag===5||l.tag===26){if(u===null){U=u=l;try{if(b=U.stateNode,O)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=U.stateNode;var he=U.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;N.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ke){ft(U,U.return,ke)}}}else if(l.tag===6){if(u===null){U=l;try{U.stateNode.nodeValue=O?"":U.memoizedProps}catch(ke){ft(U,U.return,ke)}}}else if(l.tag===18){if(u===null){U=l;try{var ae=U.stateNode;O?Iy(ae,!0):Iy(U.stateNode,!1)}catch(ke){ft(U,U.return,ke)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,pf(r,u))));break;case 19:Yn(l,r),Vn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,pf(r,d)));break;case 30:break;case 21:break;default:Yn(l,r),Vn(r)}}function Vn(r){var l=r.flags;if(l&2){try{for(var u,d=r.return;d!==null;){if(Vb(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var O=u.stateNode,b=Sp(r);mf(r,b,O);break;case 5:var A=u.stateNode;u.flags&32&&(el(A,""),u.flags&=-33);var N=Sp(r);mf(r,N,A);break;case 3:case 4:var U=u.stateNode.containerInfo,ee=Sp(r);wp(r,ee,U);break;default:throw Error(i(161))}}catch(oe){ft(r,r.return,oe)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function ty(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;ty(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function sr(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Gb(r,l.alternate,l),l=l.sibling}function Ea(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Er(4,l,l.return),Ea(l);break;case 1:Cs(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Ib(l,l.return,u),Ea(l);break;case 27:Wo(l.stateNode);case 26:case 5:Cs(l,l.return),Ea(l);break;case 22:l.memoizedState===null&&Ea(l);break;case 30:Ea(l);break;default:Ea(l)}r=r.sibling}}function rr(r,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,O=r,b=l,A=b.flags;switch(b.tag){case 0:case 11:case 15:rr(O,b,u),Bo(4,b);break;case 1:if(rr(O,b,u),d=b,O=d.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ee){ft(d,d.return,ee)}if(d=b,O=d.updateQueue,O!==null){var N=d.stateNode;try{var U=O.shared.hiddenCallbacks;if(U!==null)for(O.shared.hiddenCallbacks=null,O=0;O<U.length;O++)jx(U[O],N)}catch(ee){ft(d,d.return,ee)}}u&&A&64&&Xb(b),Zo(b,b.return);break;case 27:qb(b);case 26:case 5:rr(O,b,u),u&&d===null&&A&4&&Yb(b),Zo(b,b.return);break;case 12:rr(O,b,u);break;case 31:rr(O,b,u),u&&A&4&&Kb(O,b);break;case 13:rr(O,b,u),u&&A&4&&Jb(O,b);break;case 22:b.memoizedState===null&&rr(O,b,u),Zo(b,b.return);break;case 30:break;default:rr(O,b,u)}l=l.sibling}}function Cp(r,l){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&To(u))}function kp(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&To(r))}function rs(r,l,u,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ny(r,l,u,d),l=l.sibling}function ny(r,l,u,d){var O=l.flags;switch(l.tag){case 0:case 11:case 15:rs(r,l,u,d),O&2048&&Bo(9,l);break;case 1:rs(r,l,u,d);break;case 3:rs(r,l,u,d),O&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&To(r)));break;case 12:if(O&2048){rs(r,l,u,d),r=l.stateNode;try{var b=l.memoizedProps,A=b.id,N=b.onPostCommit;typeof N=="function"&&N(A,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){ft(l,l.return,U)}}else rs(r,l,u,d);break;case 31:rs(r,l,u,d);break;case 13:rs(r,l,u,d);break;case 23:break;case 22:b=l.stateNode,A=l.alternate,l.memoizedState!==null?b._visibility&2?rs(r,l,u,d):Uo(r,l):b._visibility&2?rs(r,l,u,d):(b._visibility|=2,yl(r,l,u,d,(l.subtreeFlags&10256)!==0||!1)),O&2048&&Cp(A,l);break;case 24:rs(r,l,u,d),O&2048&&kp(l.alternate,l);break;default:rs(r,l,u,d)}}function yl(r,l,u,d,O){for(O=O&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=r,A=l,N=u,U=d,ee=A.flags;switch(A.tag){case 0:case 11:case 15:yl(b,A,N,U,O),Bo(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&2?yl(b,A,N,U,O):Uo(b,A):(oe._visibility|=2,yl(b,A,N,U,O)),O&&ee&2048&&Cp(A.alternate,A);break;case 24:yl(b,A,N,U,O),O&&ee&2048&&kp(A.alternate,A);break;default:yl(b,A,N,U,O)}l=l.sibling}}function Uo(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=r,d=l,O=d.flags;switch(d.tag){case 22:Uo(u,d),O&2048&&Cp(d.alternate,d);break;case 24:Uo(u,d),O&2048&&kp(d.alternate,d);break;default:Uo(u,d)}l=l.sibling}}var Xo=8192;function vl(r,l,u){if(r.subtreeFlags&Xo)for(r=r.child;r!==null;)iy(r,l,u),r=r.sibling}function iy(r,l,u){switch(r.tag){case 26:vl(r,l,u),r.flags&Xo&&r.memoizedState!==null&&F4(u,ss,r.memoizedState,r.memoizedProps);break;case 5:vl(r,l,u);break;case 3:case 4:var d=ss;ss=Rf(r.stateNode.containerInfo),vl(r,l,u),ss=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=Xo,Xo=16777216,vl(r,l,u),Xo=d):vl(r,l,u));break;default:vl(r,l,u)}}function sy(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Io(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];cn=d,ay(d,r)}sy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ry(r),r=r.sibling}function ry(r){switch(r.tag){case 0:case 11:case 15:Io(r),r.flags&2048&&Er(9,r,r.return);break;case 3:Io(r);break;case 12:Io(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,gf(r)):Io(r);break;default:Io(r)}}function gf(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];cn=d,ay(d,r)}sy(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Er(8,l,l.return),gf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,gf(l));break;default:gf(l)}r=r.sibling}}function ay(r,l){for(;cn!==null;){var u=cn;switch(u.tag){case 0:case 11:case 15:Er(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:To(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,cn=d;else e:for(u=r;cn!==null;){d=cn;var O=d.sibling,b=d.return;if(Wb(d),d===u){cn=null;break e}if(O!==null){O.return=b,cn=O;break e}cn=b}}}var h4={getCacheForType:function(r){var l=gn(Ht),u=l.data.get(r);return u===void 0&&(u=r(),l.data.set(r,u)),u},cacheSignal:function(){return gn(Ht).controller.signal}},d4=typeof WeakMap=="function"?WeakMap:Map,lt=0,Ot=null,Ve=null,Ge=0,ut=0,di=null,Rr=!1,Sl=!1,Tp=!1,ar=0,$t=0,Qr=0,Ra=0,Ep=0,mi=0,wl=0,Yo=null,qn=null,Rp=!1,Of=0,ly=0,xf=1/0,bf=null,Nr=null,nn=0,jr=null,Al=null,lr=0,Qp=0,Np=null,oy=null,Vo=0,jp=null;function pi(){return(lt&2)!==0&&Ge!==0?Ge&-Ge:P.T!==null?Lp():Se()}function cy(){if(mi===0)if((Ge&536870912)===0||Je){var r=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),mi=r}else mi=536870912;return r=fi.current,r!==null&&(r.flags|=32),mi}function Hn(r,l,u){(r===Ot&&(ut===2||ut===9)||r.cancelPendingCommit!==null)&&(Cl(r,0),Mr(r,Ge,mi,!1)),Bn(r,u),((lt&2)===0||r!==Ot)&&(r===Ot&&((lt&2)===0&&(Ra|=u),$t===4&&Mr(r,Ge,mi,!1)),ks(r))}function uy(r,l,u){if((lt&6)!==0)throw Error(i(327));var d=!u&&(l&127)===0&&(l&r.expiredLanes)===0||Ri(r,l),O=d?g4(r,l):Pp(r,l,!0),b=d;do{if(O===0){Sl&&!d&&Mr(r,l,0,!1);break}else{if(u=r.current.alternate,b&&!m4(u)){O=Pp(r,l,!1),b=!1;continue}if(O===2){if(b=l,r.errorRecoveryDisabledLanes&b)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){l=A;e:{var N=r;O=Yo;var U=N.current.memoizedState.isDehydrated;if(U&&(Cl(N,A).flags|=256),A=Pp(N,A,!1),A!==2){if(Tp&&!U){N.errorRecoveryDisabledLanes|=b,Ra|=b,O=4;break e}b=qn,qn=O,b!==null&&(qn===null?qn=b:qn.push.apply(qn,b))}O=A}if(b=!1,O!==2)continue}}if(O===1){Cl(r,0),Mr(r,l,0,!0);break}e:{switch(d=r,b=O,b){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Mr(d,l,mi,!Rr);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(O=Of+300-St(),10<O)){if(Mr(d,l,mi,!Rr),Ki(d,0,!0)!==0)break e;lr=l,d.timeoutHandle=Zy(fy.bind(null,d,u,qn,bf,Rp,l,mi,Ra,wl,Rr,b,"Throttled",-0,0),O);break e}fy(d,u,qn,bf,Rp,l,mi,Ra,wl,Rr,b,null,-0,0)}}break}while(!0);ks(r)}function fy(r,l,u,d,O,b,A,N,U,ee,oe,he,ne,ae){if(r.timeoutHandle=-1,he=l.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vs},iy(l,b,he);var ke=(b&62914560)===b?Of-St():(b&4194048)===b?ly-St():0;if(ke=K4(he,ke),ke!==null){lr=b,r.cancelPendingCommit=ke(by.bind(null,r,l,b,u,d,O,A,N,U,oe,he,null,ne,ae)),Mr(r,b,A,!ee);return}}by(r,l,b,u,d,O,A,N,U)}function m4(r){for(var l=r;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var O=u[d],b=O.getSnapshot;O=O.value;try{if(!ci(b(),O))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Mr(r,l,u,d){l&=~Ep,l&=~Ra,r.suspendedLanes|=l,r.pingedLanes&=~l,d&&(r.warmLanes|=l),d=r.expirationTimes;for(var O=l;0<O;){var b=31-jt(O),A=1<<b;d[b]=-1,O&=~A}u!==0&&B(r,u,l)}function yf(){return(lt&6)===0?(qo(0),!1):!0}function Mp(){if(Ve!==null){if(ut===0)var r=Ve.return;else r=Ve,Ws=ya=null,Gm(r),pl=null,Ro=0,r=Ve;for(;r!==null;)Ub(r.alternate,r),r=r.return;Ve=null}}function Cl(r,l){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,P4(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),lr=0,Mp(),Ot=r,Ve=u=Hs(r.current,null),Ge=l,ut=0,di=null,Rr=!1,Sl=Ri(r,l),Tp=!1,wl=mi=Ep=Ra=Qr=$t=0,qn=Yo=null,Rp=!1,(l&8)!==0&&(l|=l&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=l;0<d;){var O=31-jt(d),b=1<<O;l|=r[O],d&=~b}return ar=l,Bu(),u}function hy(r,l){Le=null,P.H=$o,l===ml||l===Hu?(l=Ex(),ut=3):l===$m?(l=Ex(),ut=4):ut=l===fp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,di=l,Ve===null&&($t=1,cf(r,Mi(l,r.current)))}function dy(){var r=fi.current;return r===null?!0:(Ge&4194048)===Ge?$i===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?r===$i:!1}function my(){var r=P.H;return P.H=$o,r===null?$o:r}function py(){var r=P.A;return P.A=h4,r}function vf(){$t=4,Rr||(Ge&4194048)!==Ge&&fi.current!==null||(Sl=!0),(Qr&134217727)===0&&(Ra&134217727)===0||Ot===null||Mr(Ot,Ge,mi,!1)}function Pp(r,l,u){var d=lt;lt|=2;var O=my(),b=py();(Ot!==r||Ge!==l)&&(bf=null,Cl(r,l)),l=!1;var A=$t;e:do try{if(ut!==0&&Ve!==null){var N=Ve,U=di;switch(ut){case 8:Mp(),A=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(l=!0);var ee=ut;if(ut=0,di=null,kl(r,N,U,ee),u&&Sl){A=0;break e}break;default:ee=ut,ut=0,di=null,kl(r,N,U,ee)}}p4(),A=$t;break}catch(oe){hy(r,oe)}while(!0);return l&&r.shellSuspendCounter++,Ws=ya=null,lt=d,P.H=O,P.A=b,Ve===null&&(Ot=null,Ge=0,Bu()),A}function p4(){for(;Ve!==null;)gy(Ve)}function g4(r,l){var u=lt;lt|=2;var d=my(),O=py();Ot!==r||Ge!==l?(bf=null,xf=St()+500,Cl(r,l)):Sl=Ri(r,l);e:do try{if(ut!==0&&Ve!==null){l=Ve;var b=di;t:switch(ut){case 1:ut=0,di=null,kl(r,l,b,1);break;case 2:case 9:if(kx(b)){ut=0,di=null,Oy(l);break}l=function(){ut!==2&&ut!==9||Ot!==r||(ut=7),ks(r)},b.then(l,l);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:kx(b)?(ut=0,di=null,Oy(l)):(ut=0,di=null,kl(r,l,b,7));break;case 5:var A=null;switch(Ve.tag){case 26:A=Ve.memoizedState;case 5:case 27:var N=Ve;if(A?nv(A):N.stateNode.complete){ut=0,di=null;var U=N.sibling;if(U!==null)Ve=U;else{var ee=N.return;ee!==null?(Ve=ee,Sf(ee)):Ve=null}break t}}ut=0,di=null,kl(r,l,b,5);break;case 6:ut=0,di=null,kl(r,l,b,6);break;case 8:Mp(),$t=6;break e;default:throw Error(i(462))}}O4();break}catch(oe){hy(r,oe)}while(!0);return Ws=ya=null,P.H=d,P.A=O,lt=u,Ve!==null?0:(Ot=null,Ge=0,Bu(),$t)}function O4(){for(;Ve!==null&&!bs();)gy(Ve)}function gy(r){var l=Bb(r.alternate,r,ar);r.memoizedProps=r.pendingProps,l===null?Sf(r):Ve=l}function Oy(r){var l=r,u=l.alternate;switch(l.tag){case 15:case 0:l=Pb(u,l,l.pendingProps,l.type,void 0,Ge);break;case 11:l=Pb(u,l,l.pendingProps,l.type.render,l.ref,Ge);break;case 5:Gm(l);default:Ub(u,l),l=Ve=px(l,ar),l=Bb(u,l,ar)}r.memoizedProps=r.pendingProps,l===null?Sf(r):Ve=l}function kl(r,l,u,d){Ws=ya=null,Gm(l),pl=null,Ro=0;var O=l.return;try{if(r4(r,O,l,u,Ge)){$t=1,cf(r,Mi(u,r.current)),Ve=null;return}}catch(b){if(O!==null)throw Ve=O,b;$t=1,cf(r,Mi(u,r.current)),Ve=null;return}l.flags&32768?(Je||d===1?r=!0:Sl||(Ge&536870912)!==0?r=!1:(Rr=r=!0,(d===2||d===9||d===3||d===6)&&(d=fi.current,d!==null&&d.tag===13&&(d.flags|=16384))),xy(l,r)):Sf(l)}function Sf(r){var l=r;do{if((l.flags&32768)!==0){xy(l,Rr);return}r=l.return;var u=o4(l.alternate,l,ar);if(u!==null){Ve=u;return}if(l=l.sibling,l!==null){Ve=l;return}Ve=l=r}while(l!==null);$t===0&&($t=5)}function xy(r,l){do{var u=c4(r.alternate,r);if(u!==null){u.flags&=32767,Ve=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=u}while(r!==null);$t=6,Ve=null}function by(r,l,u,d,O,b,A,N,U){r.cancelPendingCommit=null;do wf();while(nn!==0);if((lt&6)!==0)throw Error(i(327));if(l!==null){if(l===r.current)throw Error(i(177));if(b=l.lanes|l.childLanes,b|=Sm,da(r,u,b,A,N,U),r===Ot&&(Ve=Ot=null,Ge=0),Al=l,jr=r,lr=u,Qp=b,Np=O,oy=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,v4(Zt,function(){return Ay(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=P.T,P.T=null,O=Z.p,Z.p=2,A=lt,lt|=4;try{u4(r,l,u)}finally{lt=A,Z.p=O,P.T=d}}nn=1,yy(),vy(),Sy()}}function yy(){if(nn===1){nn=0;var r=jr,l=Al,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var d=Z.p;Z.p=2;var O=lt;lt|=4;try{ey(l,r);var b=Vp,A=ax(r.containerInfo),N=b.focusedElem,U=b.selectionRange;if(A!==N&&N&&N.ownerDocument&&rx(N.ownerDocument.documentElement,N)){if(U!==null&&Om(N)){var ee=U.start,oe=U.end;if(oe===void 0&&(oe=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(oe,N.value.length);else{var he=N.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),ke=N.textContent.length,_e=Math.min(U.start,ke),mt=U.end===void 0?_e:Math.min(U.end,ke);!ae.extend&&_e>mt&&(A=mt,mt=_e,_e=A);var W=sx(N,_e),Y=sx(N,mt);if(W&&Y&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var J=he.createRange();J.setStart(W.node,W.offset),ae.removeAllRanges(),_e>mt?(ae.addRange(J),ae.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),ae.addRange(J))}}}}for(he=[],ae=N;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<he.length;N++){var ue=he[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}_f=!!Yp,Vp=Yp=null}finally{lt=O,Z.p=d,P.T=u}}r.current=l,nn=2}}function vy(){if(nn===2){nn=0;var r=jr,l=Al,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var d=Z.p;Z.p=2;var O=lt;lt|=4;try{Gb(r,l.alternate,l)}finally{lt=O,Z.p=d,P.T=u}}nn=3}}function Sy(){if(nn===4||nn===3){nn=0,wn();var r=jr,l=Al,u=lr,d=oy;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?nn=5:(nn=0,Al=jr=null,wy(r,r.pendingLanes));var O=r.pendingLanes;if(O===0&&(Nr=null),pe(u),l=l.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Pt,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=P.T,O=Z.p,Z.p=2,P.T=null;try{for(var b=r.onRecoverableError,A=0;A<d.length;A++){var N=d[A];b(N.value,{componentStack:N.stack})}}finally{P.T=l,Z.p=O}}(lr&3)!==0&&wf(),ks(r),O=r.pendingLanes,(u&261930)!==0&&(O&42)!==0?r===jp?Vo++:(Vo=0,jp=r):Vo=0,qo(0)}}function wy(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,To(l)))}function wf(){return yy(),vy(),Sy(),Ay()}function Ay(){if(nn!==5)return!1;var r=jr,l=Qp;Qp=0;var u=pe(lr),d=P.T,O=Z.p;try{Z.p=32>u?32:u,P.T=null,u=Np,Np=null;var b=jr,A=lr;if(nn=0,Al=jr=null,lr=0,(lt&6)!==0)throw Error(i(331));var N=lt;if(lt|=4,ry(b.current),ny(b,b.current,A,u),lt=N,qo(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Pt,b)}catch{}return!0}finally{Z.p=O,P.T=d,wy(r,l)}}function Cy(r,l,u){l=Mi(u,l),l=up(r.stateNode,l,2),r=Cr(r,l,2),r!==null&&(Bn(r,2),ks(r))}function ft(r,l,u){if(r.tag===3)Cy(r,r,u);else for(;l!==null;){if(l.tag===3){Cy(l,r,u);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))){r=Mi(u,r),u=kb(2),d=Cr(l,u,2),d!==null&&(Tb(u,d,l,r),Bn(d,2),ks(d));break}}l=l.return}}function _p(r,l,u){var d=r.pingCache;if(d===null){d=r.pingCache=new d4;var O=new Set;d.set(l,O)}else O=d.get(l),O===void 0&&(O=new Set,d.set(l,O));O.has(u)||(Tp=!0,O.add(u),r=x4.bind(null,r,l,u),l.then(r,r))}function x4(r,l,u){var d=r.pingCache;d!==null&&d.delete(l),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ot===r&&(Ge&u)===u&&($t===4||$t===3&&(Ge&62914560)===Ge&&300>St()-Of?(lt&2)===0&&Cl(r,0):Ep|=u,wl===Ge&&(wl=0)),ks(r)}function ky(r,l){l===0&&(l=es()),r=Oa(r,l),r!==null&&(Bn(r,l),ks(r))}function b4(r){var l=r.memoizedState,u=0;l!==null&&(u=l.retryLane),ky(r,u)}function y4(r,l){var u=0;switch(r.tag){case 31:case 13:var d=r.stateNode,O=r.memoizedState;O!==null&&(u=O.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),ky(r,u)}function v4(r,l){return Ci(r,l)}var Af=null,Tl=null,Dp=!1,Cf=!1,$p=!1,Pr=0;function ks(r){r!==Tl&&r.next===null&&(Tl===null?Af=Tl=r:Tl=Tl.next=r),Cf=!0,Dp||(Dp=!0,w4())}function qo(r,l){if(!$p&&Cf){$p=!0;do for(var u=!1,d=Af;d!==null;){if(r!==0){var O=d.pendingLanes;if(O===0)var b=0;else{var A=d.suspendedLanes,N=d.pingedLanes;b=(1<<31-jt(42|r)+1)-1,b&=O&~(A&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Qy(d,b))}else b=Ge,b=Ki(d,d===Ot?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Ri(d,b)||(u=!0,Qy(d,b));d=d.next}while(u);$p=!1}}function S4(){Ty()}function Ty(){Cf=Dp=!1;var r=0;Pr!==0&&M4()&&(r=Pr);for(var l=St(),u=null,d=Af;d!==null;){var O=d.next,b=Ey(d,l);b===0?(d.next=null,u===null?Af=O:u.next=O,O===null&&(Tl=u)):(u=d,(r!==0||(b&3)!==0)&&(Cf=!0)),d=O}nn!==0&&nn!==5||qo(r),Pr!==0&&(Pr=0)}function Ey(r,l){for(var u=r.suspendedLanes,d=r.pingedLanes,O=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var A=31-jt(b),N=1<<A,U=O[A];U===-1?((N&u)===0||(N&d)!==0)&&(O[A]=Ji(N,l)):U<=l&&(r.expiredLanes|=N),b&=~N}if(l=Ot,u=Ge,u=Ki(r,r===l?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===l&&(ut===2||ut===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&ki(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Ri(r,u)){if(l=u&-u,l===r.callbackPriority)return l;switch(d!==null&&ki(d),pe(u)){case 2:case 8:u=en;break;case 32:u=Zt;break;case 268435456:u=Gi;break;default:u=Zt}return d=Ry.bind(null,r),u=Ci(u,d),r.callbackPriority=l,r.callbackNode=u,l}return d!==null&&d!==null&&ki(d),r.callbackPriority=2,r.callbackNode=null,2}function Ry(r,l){if(nn!==0&&nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(wf()&&r.callbackNode!==u)return null;var d=Ge;return d=Ki(r,r===Ot?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(uy(r,d,l),Ey(r,St()),r.callbackNode!=null&&r.callbackNode===u?Ry.bind(null,r):null)}function Qy(r,l){if(wf())return null;uy(r,l,!0)}function w4(){_4(function(){(lt&6)!==0?Ci(ys,S4):Ty()})}function Lp(){if(Pr===0){var r=hl;r===0&&(r=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Pr=r}return Pr}function Ny(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ju(""+r)}function jy(r,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,r.id&&u.setAttribute("form",r.id),l.parentNode.insertBefore(u,l),r=new FormData(r),u.parentNode.removeChild(u),r}function A4(r,l,u,d,O){if(l==="submit"&&u&&u.stateNode===O){var b=Ny((O[Ae]||null).action),A=d.submitter;A&&(l=(l=A[Ae]||null)?Ny(l.formAction):A.getAttribute("formAction"),l!==null&&(b=l,A=null));var N=new Du("action","action",null,d,O);r.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Pr!==0){var U=A?jy(O,A):new FormData(O);sp(u,{pending:!0,data:U,method:O.method,action:b},null,U)}}else typeof b=="function"&&(N.preventDefault(),U=A?jy(O,A):new FormData(O),sp(u,{pending:!0,data:U,method:O.method,action:b},b,U))},currentTarget:O}]})}}for(var zp=0;zp<vm.length;zp++){var Bp=vm[zp],C4=Bp.toLowerCase(),k4=Bp[0].toUpperCase()+Bp.slice(1);is(C4,"on"+k4)}is(cx,"onAnimationEnd"),is(ux,"onAnimationIteration"),is(fx,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(UT,"onTransitionRun"),is(XT,"onTransitionStart"),is(IT,"onTransitionCancel"),is(hx,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function My(r,l){l=(l&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],O=d.event;d=d.listeners;e:{var b=void 0;if(l)for(var A=d.length-1;0<=A;A--){var N=d[A],U=N.instance,ee=N.currentTarget;if(N=N.listener,U!==b&&O.isPropagationStopped())break e;b=N,O.currentTarget=ee;try{b(O)}catch(oe){zu(oe)}O.currentTarget=null,b=U}else for(A=0;A<d.length;A++){if(N=d[A],U=N.instance,ee=N.currentTarget,N=N.listener,U!==b&&O.isPropagationStopped())break e;b=N,O.currentTarget=ee;try{b(O)}catch(oe){zu(oe)}O.currentTarget=null,b=U}}}}function qe(r,l){var u=l[Ne];u===void 0&&(u=l[Ne]=new Set);var d=r+"__bubble";u.has(d)||(Py(l,r,2,!1),u.add(d))}function Zp(r,l,u){var d=0;l&&(d|=4),Py(u,r,d,l)}var kf="_reactListening"+Math.random().toString(36).slice(2);function Up(r){if(!r[kf]){r[kf]=!0,Fa.forEach(function(u){u!=="selectionchange"&&(T4.has(u)||Zp(u,!1,r),Zp(u,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[kf]||(l[kf]=!0,Zp("selectionchange",!1,l))}}function Py(r,l,u,d){switch(cv(l)){case 2:var O=tE;break;case 8:O=nE;break;default:O=ig}u=O.bind(null,l,u,r),O=void 0,!om||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(O=!0),d?O!==void 0?r.addEventListener(l,u,{capture:!0,passive:O}):r.addEventListener(l,u,!0):O!==void 0?r.addEventListener(l,u,{passive:O}):r.addEventListener(l,u,!1)}function Xp(r,l,u,d,O){var b=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var N=d.stateNode.containerInfo;if(N===O)break;if(A===4)for(A=d.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===O)return;A=A.return}for(;N!==null;){if(A=st(N),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){d=b=A;continue e}N=N.parentNode}}d=d.return}z1(function(){var ee=b,oe=am(u),he=[];e:{var ne=dx.get(r);if(ne!==void 0){var ae=Du,ke=r;switch(r){case"keypress":if(Pu(u)===0)break e;case"keydown":case"keyup":ae=yT;break;case"focusin":ke="focus",ae=hm;break;case"focusout":ke="blur",ae=hm;break;case"beforeblur":case"afterblur":ae=hm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=U1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=oT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=wT;break;case cx:case ux:case fx:ae=fT;break;case hx:ae=CT;break;case"scroll":case"scrollend":ae=aT;break;case"wheel":ae=TT;break;case"copy":case"cut":case"paste":ae=dT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=I1;break;case"toggle":case"beforetoggle":ae=RT}var _e=(l&4)!==0,mt=!_e&&(r==="scroll"||r==="scrollend"),W=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var Y=ee,J;Y!==null;){var ue=Y;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||W===null||(ue=go(Y,W),ue!=null&&_e.push(Go(Y,ue,J))),mt)break;Y=Y.return}0<_e.length&&(ne=new ae(ne,ke,null,u,oe),he.push({event:ne,listeners:_e}))}}if((l&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",ne&&u!==rm&&(ke=u.relatedTarget||u.fromElement)&&(st(ke)||ke[Ee]))break e;if((ae||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(ke=u.relatedTarget||u.toElement,ae=ee,ke=ke?st(ke):null,ke!==null&&(mt=a(ke),_e=ke.tag,ke!==mt||_e!==5&&_e!==27&&_e!==6)&&(ke=null)):(ae=null,ke=ee),ae!==ke)){if(_e=U1,ue="onMouseLeave",W="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(_e=I1,ue="onPointerLeave",W="onPointerEnter",Y="pointer"),mt=ae==null?ne:ts(ae),J=ke==null?ne:ts(ke),ne=new _e(ue,Y+"leave",ae,u,oe),ne.target=mt,ne.relatedTarget=J,ue=null,st(oe)===ee&&(_e=new _e(W,Y+"enter",ke,u,oe),_e.target=J,_e.relatedTarget=mt,ue=_e),mt=ue,ae&&ke)t:{for(_e=E4,W=ae,Y=ke,J=0,ue=W;ue;ue=_e(ue))J++;ue=0;for(var Pe=Y;Pe;Pe=_e(Pe))ue++;for(;0<J-ue;)W=_e(W),J--;for(;0<ue-J;)Y=_e(Y),ue--;for(;J--;){if(W===Y||Y!==null&&W===Y.alternate){_e=W;break t}W=_e(W),Y=_e(Y)}_e=null}else _e=null;ae!==null&&_y(he,ne,ae,_e,!1),ke!==null&&mt!==null&&_y(he,mt,ke,_e,!0)}}e:{if(ne=ee?ts(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var rt=K1;else if(W1(ne))if(J1)rt=zT;else{rt=$T;var Re=DT}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&sm(ee.elementType)&&(rt=K1):rt=LT;if(rt&&(rt=rt(r,ee))){F1(he,rt,u,oe);break e}Re&&Re(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&im(ne,"number",ne.value)}switch(Re=ee?ts(ee):window,r){case"focusin":(W1(Re)||Re.contentEditable==="true")&&(sl=Re,xm=ee,Ao=null);break;case"focusout":Ao=xm=sl=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,lx(he,u,oe);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":lx(he,u,oe)}var Be;if(mm)e:{switch(r){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else il?H1(r,u)&&(We="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(We="onCompositionStart");We&&(Y1&&u.locale!=="ko"&&(il||We!=="onCompositionStart"?We==="onCompositionEnd"&&il&&(Be=B1()):(xr=oe,cm="value"in xr?xr.value:xr.textContent,il=!0)),Re=Tf(ee,We),0<Re.length&&(We=new X1(We,r,null,u,oe),he.push({event:We,listeners:Re}),Be?We.data=Be:(Be=G1(u),Be!==null&&(We.data=Be)))),(Be=NT?jT(r,u):MT(r,u))&&(We=Tf(ee,"onBeforeInput"),0<We.length&&(Re=new X1("onBeforeInput","beforeinput",null,u,oe),he.push({event:Re,listeners:We}),Re.data=Be)),A4(he,r,ee,u,oe)}My(he,l)})}function Go(r,l,u){return{instance:r,listener:l,currentTarget:u}}function Tf(r,l){for(var u=l+"Capture",d=[];r!==null;){var O=r,b=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||b===null||(O=go(r,u),O!=null&&d.unshift(Go(r,O,b)),O=go(r,l),O!=null&&d.push(Go(r,O,b))),r.tag===3)return d;r=r.return}return[]}function E4(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function _y(r,l,u,d,O){for(var b=l._reactName,A=[];u!==null&&u!==d;){var N=u,U=N.alternate,ee=N.stateNode;if(N=N.tag,U!==null&&U===d)break;N!==5&&N!==26&&N!==27||ee===null||(U=ee,O?(ee=go(u,b),ee!=null&&A.unshift(Go(u,ee,U))):O||(ee=go(u,b),ee!=null&&A.push(Go(u,ee,U)))),u=u.return}A.length!==0&&r.push({event:l,listeners:A})}var R4=/\r\n?/g,Q4=/\u0000|\uFFFD/g;function Dy(r){return(typeof r=="string"?r:""+r).replace(R4,`
`).replace(Q4,"")}function $y(r,l){return l=Dy(l),Dy(r)===l}function dt(r,l,u,d,O,b){switch(u){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||el(r,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&el(r,""+d);break;case"className":gt(r,"class",d);break;case"tabIndex":gt(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":gt(r,u,d);break;case"style":$1(r,d,b);break;case"data":if(l!=="object"){gt(r,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=ju(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(l!=="input"&&dt(r,l,"name",O.name,O,null),dt(r,l,"formEncType",O.formEncType,O,null),dt(r,l,"formMethod",O.formMethod,O,null),dt(r,l,"formTarget",O.formTarget,O,null)):(dt(r,l,"encType",O.encType,O,null),dt(r,l,"method",O.method,O,null),dt(r,l,"target",O.target,O,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=ju(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=Vs);break;case"onScroll":d!=null&&qe("scroll",r);break;case"onScrollEnd":d!=null&&qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(O.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=ju(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":qe("beforetoggle",r),qe("toggle",r),Qi(r,"popover",d);break;case"xlinkActuate":Un(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Un(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Un(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Un(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Un(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Un(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Un(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Un(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Un(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Qi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=sT.get(u)||u,Qi(r,u,d))}}function Ip(r,l,u,d,O,b){switch(u){case"style":$1(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(O.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?el(r,d):(typeof d=="number"||typeof d=="bigint")&&el(r,""+d);break;case"onScroll":d!=null&&qe("scroll",r);break;case"onScrollEnd":d!=null&&qe("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(O=u.endsWith("Capture"),l=u.slice(2,O?u.length-7:void 0),b=r[Ae]||null,b=b!=null?b[u]:null,typeof b=="function"&&r.removeEventListener(l,b,O),typeof d=="function")){typeof b!="function"&&b!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(l,d,O);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):Qi(r,u,d)}}}function xn(r,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",r),qe("load",r);var d=!1,O=!1,b;for(b in u)if(u.hasOwnProperty(b)){var A=u[b];if(A!=null)switch(b){case"src":d=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:dt(r,l,b,A,u,null)}}O&&dt(r,l,"srcSet",u.srcSet,u,null),d&&dt(r,l,"src",u.src,u,null);return;case"input":qe("invalid",r);var N=b=A=O=null,U=null,ee=null;for(d in u)if(u.hasOwnProperty(d)){var oe=u[d];if(oe!=null)switch(d){case"name":O=oe;break;case"type":A=oe;break;case"checked":U=oe;break;case"defaultChecked":ee=oe;break;case"value":b=oe;break;case"defaultValue":N=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,l));break;default:dt(r,l,d,oe,u,null)}}M1(r,b,N,U,ee,A,O,!1);return;case"select":qe("invalid",r),d=A=b=null;for(O in u)if(u.hasOwnProperty(O)&&(N=u[O],N!=null))switch(O){case"value":b=N;break;case"defaultValue":A=N;break;case"multiple":d=N;default:dt(r,l,O,N,u,null)}l=b,u=A,r.multiple=!!d,l!=null?Ja(r,!!d,l,!1):u!=null&&Ja(r,!!d,u,!0);return;case"textarea":qe("invalid",r),b=O=d=null;for(A in u)if(u.hasOwnProperty(A)&&(N=u[A],N!=null))switch(A){case"value":d=N;break;case"defaultValue":O=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:dt(r,l,A,N,u,null)}_1(r,d,O,b);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(d=u[U],d!=null))switch(U){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:dt(r,l,U,d,u,null)}return;case"dialog":qe("beforetoggle",r),qe("toggle",r),qe("cancel",r),qe("close",r);break;case"iframe":case"object":qe("load",r);break;case"video":case"audio":for(d=0;d<Ho.length;d++)qe(Ho[d],r);break;case"image":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"embed":case"source":case"link":qe("error",r),qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(d=u[ee],d!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:dt(r,l,ee,d,u,null)}return;default:if(sm(l)){for(oe in u)u.hasOwnProperty(oe)&&(d=u[oe],d!==void 0&&Ip(r,l,oe,d,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(d=u[N],d!=null&&dt(r,l,N,d,u,null))}function N4(r,l,u,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,b=null,A=null,N=null,U=null,ee=null,oe=null;for(ae in u){var he=u[ae];if(u.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=he;default:d.hasOwnProperty(ae)||dt(r,l,ae,null,d,he)}}for(var ne in d){var ae=d[ne];if(he=u[ne],d.hasOwnProperty(ne)&&(ae!=null||he!=null))switch(ne){case"type":b=ae;break;case"name":O=ae;break;case"checked":ee=ae;break;case"defaultChecked":oe=ae;break;case"value":A=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,l));break;default:ae!==he&&dt(r,l,ne,ae,d,he)}}nm(r,A,N,U,ee,oe,b,O);return;case"select":ae=A=N=ne=null;for(b in u)if(U=u[b],u.hasOwnProperty(b)&&U!=null)switch(b){case"value":break;case"multiple":ae=U;default:d.hasOwnProperty(b)||dt(r,l,b,null,d,U)}for(O in d)if(b=d[O],U=u[O],d.hasOwnProperty(O)&&(b!=null||U!=null))switch(O){case"value":ne=b;break;case"defaultValue":N=b;break;case"multiple":A=b;default:b!==U&&dt(r,l,O,b,d,U)}l=N,u=A,d=ae,ne!=null?Ja(r,!!u,ne,!1):!!d!=!!u&&(l!=null?Ja(r,!!u,l,!0):Ja(r,!!u,u?[]:"",!1));return;case"textarea":ae=ne=null;for(N in u)if(O=u[N],u.hasOwnProperty(N)&&O!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(r,l,N,null,d,O)}for(A in d)if(O=d[A],b=u[A],d.hasOwnProperty(A)&&(O!=null||b!=null))switch(A){case"value":ne=O;break;case"defaultValue":ae=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:O!==b&&dt(r,l,A,O,d,b)}P1(r,ne,ae);return;case"option":for(var ke in u)if(ne=u[ke],u.hasOwnProperty(ke)&&ne!=null&&!d.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:dt(r,l,ke,null,d,ne)}for(U in d)if(ne=d[U],ae=u[U],d.hasOwnProperty(U)&&ne!==ae&&(ne!=null||ae!=null))switch(U){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:dt(r,l,U,ne,d,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in u)ne=u[_e],u.hasOwnProperty(_e)&&ne!=null&&!d.hasOwnProperty(_e)&&dt(r,l,_e,null,d,ne);for(ee in d)if(ne=d[ee],ae=u[ee],d.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,l));break;default:dt(r,l,ee,ne,d,ae)}return;default:if(sm(l)){for(var mt in u)ne=u[mt],u.hasOwnProperty(mt)&&ne!==void 0&&!d.hasOwnProperty(mt)&&Ip(r,l,mt,void 0,d,ne);for(oe in d)ne=d[oe],ae=u[oe],!d.hasOwnProperty(oe)||ne===ae||ne===void 0&&ae===void 0||Ip(r,l,oe,ne,d,ae);return}}for(var W in u)ne=u[W],u.hasOwnProperty(W)&&ne!=null&&!d.hasOwnProperty(W)&&dt(r,l,W,null,d,ne);for(he in d)ne=d[he],ae=u[he],!d.hasOwnProperty(he)||ne===ae||ne==null&&ae==null||dt(r,l,he,ne,d,ae)}function Ly(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j4(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var O=u[d],b=O.transferSize,A=O.initiatorType,N=O.duration;if(b&&N&&Ly(A)){for(A=0,N=O.responseEnd,d+=1;d<u.length;d++){var U=u[d],ee=U.startTime;if(ee>N)break;var oe=U.transferSize,he=U.initiatorType;oe&&Ly(he)&&(U=U.responseEnd,A+=oe*(U<N?1:(N-ee)/(U-ee)))}if(--d,l+=8*(b+A)/(O.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Yp=null,Vp=null;function Ef(r){return r.nodeType===9?r:r.ownerDocument}function zy(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function qp(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hp=null;function M4(){var r=window.event;return r&&r.type==="popstate"?r===Hp?!1:(Hp=r,!0):(Hp=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,P4=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,_4=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(r){return Uy.resolve(null).then(r).catch(D4)}:Zy;function D4(r){setTimeout(function(){throw r})}function _r(r){return r==="head"}function Xy(r,l){var u=l,d=0;do{var O=u.nextSibling;if(r.removeChild(u),O&&O.nodeType===8)if(u=O.data,u==="/$"||u==="/&"){if(d===0){r.removeChild(O),Nl(l);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")Wo(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,Wo(u);for(var b=u.firstChild;b;){var A=b.nextSibling,N=b.nodeName;b[Tt]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=A}}else u==="body"&&Wo(r.ownerDocument.body);u=O}while(u);Nl(l)}function Iy(r,l){var u=r;r=0;do{var d=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=d}while(u)}function Gp(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Gp(u),ot(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function $4(r,l,u,d){for(;r.nodeType===1;){var O=u;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Tt])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==O.rel||r.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||r.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||r.getAttribute("title")!==(O.title==null?null:O.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(O.src==null?null:O.src)||r.getAttribute("type")!==(O.type==null?null:O.type)||r.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var b=O.name==null?null:""+O.name;if(O.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=Li(r.nextSibling),r===null)break}return null}function L4(r,l,u){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Li(r.nextSibling),r===null))return null;return r}function Yy(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Li(r.nextSibling),r===null))return null;return r}function Wp(r){return r.data==="$?"||r.data==="$~"}function Fp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function z4(r,l){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||u.readyState!=="loading")l();else{var d=function(){l(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Li(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var Kp=null;function Vy(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(l===0)return Li(r.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}r=r.nextSibling}return null}function qy(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return r;l--}else u!=="/$"&&u!=="/&"||l++}r=r.previousSibling}return null}function Hy(r,l,u){switch(l=Ef(u),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Wo(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);ot(r)}var zi=new Map,Gy=new Set;function Rf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var or=Z.d;Z.d={f:B4,r:Z4,D:U4,C:X4,L:I4,m:Y4,X:q4,S:V4,M:H4};function B4(){var r=or.f(),l=yf();return r||l}function Z4(r){var l=Zn(r);l!==null&&l.tag===5&&l.type==="form"?hb(l):or.r(r)}var El=typeof document>"u"?null:document;function Wy(r,l,u){var d=El;if(d&&typeof l=="string"&&l){var O=Ni(l);O='link[rel="'+r+'"][href="'+O+'"]',typeof u=="string"&&(O+='[crossorigin="'+u+'"]'),Gy.has(O)||(Gy.add(O),r={rel:r,crossOrigin:u,href:l},d.querySelector(O)===null&&(l=d.createElement("link"),xn(l,"link",r),ct(l),d.head.appendChild(l)))}}function U4(r){or.D(r),Wy("dns-prefetch",r,null)}function X4(r,l){or.C(r,l),Wy("preconnect",r,l)}function I4(r,l,u){or.L(r,l,u);var d=El;if(d&&r&&l){var O='link[rel="preload"][as="'+Ni(l)+'"]';l==="image"&&u&&u.imageSrcSet?(O+='[imagesrcset="'+Ni(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(O+='[imagesizes="'+Ni(u.imageSizes)+'"]')):O+='[href="'+Ni(r)+'"]';var b=O;switch(l){case"style":b=Rl(r);break;case"script":b=Ql(r)}zi.has(b)||(r=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:r,as:l},u),zi.set(b,r),d.querySelector(O)!==null||l==="style"&&d.querySelector(Fo(b))||l==="script"&&d.querySelector(Ko(b))||(l=d.createElement("link"),xn(l,"link",r),ct(l),d.head.appendChild(l)))}}function Y4(r,l){or.m(r,l);var u=El;if(u&&r){var d=l&&typeof l.as=="string"?l.as:"script",O='link[rel="modulepreload"][as="'+Ni(d)+'"][href="'+Ni(r)+'"]',b=O;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ql(r)}if(!zi.has(b)&&(r=g({rel:"modulepreload",href:r},l),zi.set(b,r),u.querySelector(O)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Ko(b)))return}d=u.createElement("link"),xn(d,"link",r),ct(d),u.head.appendChild(d)}}}function V4(r,l,u){or.S(r,l,u);var d=El;if(d&&r){var O=jn(d).hoistableStyles,b=Rl(r);l=l||"default";var A=O.get(b);if(!A){var N={loading:0,preload:null};if(A=d.querySelector(Fo(b)))N.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":l},u),(u=zi.get(b))&&Jp(r,u);var U=A=d.createElement("link");ct(U),xn(U,"link",r),U._p=new Promise(function(ee,oe){U.onload=ee,U.onerror=oe}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Qf(A,l,d)}A={type:"stylesheet",instance:A,count:1,state:N},O.set(b,A)}}}function q4(r,l){or.X(r,l);var u=El;if(u&&r){var d=jn(u).hoistableScripts,O=Ql(r),b=d.get(O);b||(b=u.querySelector(Ko(O)),b||(r=g({src:r,async:!0},l),(l=zi.get(O))&&eg(r,l),b=u.createElement("script"),ct(b),xn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(O,b))}}function H4(r,l){or.M(r,l);var u=El;if(u&&r){var d=jn(u).hoistableScripts,O=Ql(r),b=d.get(O);b||(b=u.querySelector(Ko(O)),b||(r=g({src:r,async:!0,type:"module"},l),(l=zi.get(O))&&eg(r,l),b=u.createElement("script"),ct(b),xn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(O,b))}}function Fy(r,l,u,d){var O=(O=be.current)?Rf(O):null;if(!O)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Rl(u.href),u=jn(O).hoistableStyles,d=u.get(l),d||(d={type:"style",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Rl(u.href);var b=jn(O).hoistableStyles,A=b.get(r);if(A||(O=O.ownerDocument||O,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,A),(b=O.querySelector(Fo(r)))&&!b._p&&(A.instance=b,A.state.loading=5),zi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},zi.set(r,u),b||G4(O,r,u,A.state))),l&&d===null)throw Error(i(528,""));return A}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ql(u),u=jn(O).hoistableScripts,d=u.get(l),d||(d={type:"script",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Rl(r){return'href="'+Ni(r)+'"'}function Fo(r){return'link[rel="stylesheet"]['+r+"]"}function Ky(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function G4(r,l,u,d){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=r.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),xn(l,"link",u),ct(l),r.head.appendChild(l))}function Ql(r){return'[src="'+Ni(r)+'"]'}function Ko(r){return"script[async]"+r}function Jy(r,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var d=r.querySelector('style[data-href~="'+Ni(u.href)+'"]');if(d)return l.instance=d,ct(d),d;var O=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),ct(d),xn(d,"style",O),Qf(d,u.precedence,r),l.instance=d;case"stylesheet":O=Rl(u.href);var b=r.querySelector(Fo(O));if(b)return l.state.loading|=4,l.instance=b,ct(b),b;d=Ky(u),(O=zi.get(O))&&Jp(d,O),b=(r.ownerDocument||r).createElement("link"),ct(b);var A=b;return A._p=new Promise(function(N,U){A.onload=N,A.onerror=U}),xn(b,"link",d),l.state.loading|=4,Qf(b,u.precedence,r),l.instance=b;case"script":return b=Ql(u.src),(O=r.querySelector(Ko(b)))?(l.instance=O,ct(O),O):(d=u,(O=zi.get(b))&&(d=g({},u),eg(d,O)),r=r.ownerDocument||r,O=r.createElement("script"),ct(O),xn(O,"link",d),r.head.appendChild(O),l.instance=O);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Qf(d,u.precedence,r));return l.instance}function Qf(r,l,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=d.length?d[d.length-1]:null,b=O,A=0;A<d.length;A++){var N=d[A];if(N.dataset.precedence===l)b=N;else if(b!==O)break}b?b.parentNode.insertBefore(r,b.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(r,l.firstChild))}function Jp(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function eg(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Nf=null;function ev(r,l,u){if(Nf===null){var d=new Map,O=Nf=new Map;O.set(u,d)}else O=Nf,d=O.get(u),d||(d=new Map,O.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),O=0;O<u.length;O++){var b=u[O];if(!(b[Tt]||b[xe]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(l)||"";A=r+A;var N=d.get(A);N?N.push(b):d.set(A,[b])}}return d}function tv(r,l,u){r=r.ownerDocument||r,r.head.insertBefore(u,l==="title"?r.querySelector("head > title"):null)}function W4(r,l,u){if(u===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function nv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function F4(r,l,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var O=Rl(d.href),b=l.querySelector(Fo(O));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=jf.bind(r),l.then(r,r)),u.state.loading|=4,u.instance=b,ct(b);return}b=l.ownerDocument||l,d=Ky(d),(O=zi.get(O))&&Jp(d,O),b=b.createElement("link"),ct(b);var A=b;A._p=new Promise(function(N,U){A.onload=N,A.onerror=U}),xn(b,"link",d),u.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=jf.bind(r),l.addEventListener("load",u),l.addEventListener("error",u))}}var tg=0;function K4(r,l){return r.stylesheets&&r.count===0&&Pf(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var d=setTimeout(function(){if(r.stylesheets&&Pf(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+l);0<r.imgBytes&&tg===0&&(tg=62500*j4());var O=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Pf(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>tg?50:800)+l);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(O)}}:null}function jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Mf=null;function Pf(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Mf=new Map,l.forEach(J4,r),Mf=null,jf.call(r))}function J4(r,l){if(!(l.state.loading&4)){var u=Mf.get(r);if(u)var d=u.get(null);else{u=new Map,Mf.set(r,u);for(var O=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<O.length;b++){var A=O[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}O=l.instance,A=O.getAttribute("data-precedence"),b=u.get(A)||d,b===d&&u.set(null,O),u.set(A,O),this.count++,d=jf.bind(this),O.addEventListener("load",d),O.addEventListener("error",d),b?b.parentNode.insertBefore(O,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(O,r.firstChild)),l.state.loading|=4}}var Jo={$$typeof:E,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function eE(r,l,u,d,O,b,A,N,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=d,this.onUncaughtError=O,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function iv(r,l,u,d,O,b,A,N,U,ee,oe,he){return r=new eE(r,l,u,A,U,ee,oe,he,N),l=1,b===!0&&(l|=24),b=ui(3,null,null,l),r.current=b,b.stateNode=r,l=Pm(),l.refCount++,r.pooledCache=l,l.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:l},Lm(b),r}function sv(r){return r?(r=ll,r):ll}function rv(r,l,u,d,O,b){O=sv(O),d.context===null?d.context=O:d.pendingContext=O,d=Ar(l),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Cr(r,d,l),u!==null&&(Hn(u,r,l),No(u,r,l))}function av(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<l?u:l}}function ng(r,l){av(r,l),(r=r.alternate)&&av(r,l)}function lv(r){if(r.tag===13||r.tag===31){var l=Oa(r,67108864);l!==null&&Hn(l,r,67108864),ng(r,67108864)}}function ov(r){if(r.tag===13||r.tag===31){var l=pi();l=de(l);var u=Oa(r,l);u!==null&&Hn(u,r,l),ng(r,l)}}var _f=!0;function tE(r,l,u,d){var O=P.T;P.T=null;var b=Z.p;try{Z.p=2,ig(r,l,u,d)}finally{Z.p=b,P.T=O}}function nE(r,l,u,d){var O=P.T;P.T=null;var b=Z.p;try{Z.p=8,ig(r,l,u,d)}finally{Z.p=b,P.T=O}}function ig(r,l,u,d){if(_f){var O=sg(d);if(O===null)Xp(r,l,d,Df,u),uv(r,d);else if(sE(O,r,l,u,d))d.stopPropagation();else if(uv(r,d),l&4&&-1<iE.indexOf(r)){for(;O!==null;){var b=Zn(O);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=mn(b.pendingLanes);if(A!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var U=1<<31-jt(A);N.entanglements[1]|=U,A&=~U}ks(b),(lt&6)===0&&(xf=St()+500,qo(0))}}break;case 31:case 13:N=Oa(b,2),N!==null&&Hn(N,b,2),yf(),ng(b,2)}if(b=sg(d),b===null&&Xp(r,l,d,Df,u),b===O)break;O=b}O!==null&&d.stopPropagation()}else Xp(r,l,d,null,u)}}function sg(r){return r=am(r),rg(r)}var Df=null;function rg(r){if(Df=null,r=st(r),r!==null){var l=a(r);if(l===null)r=null;else{var u=l.tag;if(u===13){if(r=o(l),r!==null)return r;r=null}else if(u===31){if(r=c(l),r!==null)return r;r=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Df=r,null}function cv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ys()){case ys:return 2;case en:return 8;case Zt:case Hi:return 32;case Gi:return 268435456;default:return 32}default:return 32}}var ag=!1,Dr=null,$r=null,Lr=null,ec=new Map,tc=new Map,zr=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(r,l){switch(r){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ec.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(l.pointerId)}}function nc(r,l,u,d,O,b){return r===null||r.nativeEvent!==b?(r={blockedOn:l,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[O]},l!==null&&(l=Zn(l),l!==null&&lv(l)),r):(r.eventSystemFlags|=d,l=r.targetContainers,O!==null&&l.indexOf(O)===-1&&l.push(O),r)}function sE(r,l,u,d,O){switch(l){case"focusin":return Dr=nc(Dr,r,l,u,d,O),!0;case"dragenter":return $r=nc($r,r,l,u,d,O),!0;case"mouseover":return Lr=nc(Lr,r,l,u,d,O),!0;case"pointerover":var b=O.pointerId;return ec.set(b,nc(ec.get(b)||null,r,l,u,d,O)),!0;case"gotpointercapture":return b=O.pointerId,tc.set(b,nc(tc.get(b)||null,r,l,u,d,O)),!0}return!1}function fv(r){var l=st(r.target);if(l!==null){var u=a(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){r.blockedOn=l,Te(r.priority,function(){ov(u)});return}}else if(l===31){if(l=c(u),l!==null){r.blockedOn=l,Te(r.priority,function(){ov(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $f(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var u=sg(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);rm=d,u.target.dispatchEvent(d),rm=null}else return l=Zn(u),l!==null&&lv(l),r.blockedOn=u,!1;l.shift()}return!0}function hv(r,l,u){$f(r)&&u.delete(l)}function rE(){ag=!1,Dr!==null&&$f(Dr)&&(Dr=null),$r!==null&&$f($r)&&($r=null),Lr!==null&&$f(Lr)&&(Lr=null),ec.forEach(hv),tc.forEach(hv)}function Lf(r,l){r.blockedOn===l&&(r.blockedOn=null,ag||(ag=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,rE)))}var zf=null;function dv(r){zf!==r&&(zf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zf===r&&(zf=null);for(var l=0;l<r.length;l+=3){var u=r[l],d=r[l+1],O=r[l+2];if(typeof d!="function"){if(rg(d||u)===null)continue;break}var b=Zn(u);b!==null&&(r.splice(l,3),l-=3,sp(b,{pending:!0,data:O,method:u.method,action:d},d,O))}}))}function Nl(r){function l(U){return Lf(U,r)}Dr!==null&&Lf(Dr,r),$r!==null&&Lf($r,r),Lr!==null&&Lf(Lr,r),ec.forEach(l),tc.forEach(l);for(var u=0;u<zr.length;u++){var d=zr[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<zr.length&&(u=zr[0],u.blockedOn===null);)fv(u),u.blockedOn===null&&zr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var O=u[d],b=u[d+1],A=O[Ae]||null;if(typeof b=="function")A||dv(u);else if(A){var N=null;if(b&&b.hasAttribute("formAction")){if(O=b,A=b[Ae]||null)N=A.formAction;else if(rg(O)!==null)continue}else N=A.action;typeof N=="function"?u[d+1]=N:(u.splice(d,3),d-=3),dv(u)}}}function mv(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return O=A})},focusReset:"manual",scroll:"manual"})}function l(){O!==null&&(O(),O=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,O=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),O!==null&&(O(),O=null)}}}function lg(r){this._internalRoot=r}Bf.prototype.render=lg.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var u=l.current,d=pi();rv(u,d,r,l,null,null)},Bf.prototype.unmount=lg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;rv(r.current,2,null,r,null,null),yf(),l[Ee]=null}};function Bf(r){this._internalRoot=r}Bf.prototype.unstable_scheduleHydration=function(r){if(r){var l=Se();r={blockedOn:null,target:r,priority:l};for(var u=0;u<zr.length&&l!==0&&l<zr[u].priority;u++);zr.splice(u,0,r),u===0&&fv(r)}};var pv=e.version;if(pv!=="19.2.0")throw Error(i(527,pv,"19.2.0"));Z.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(l),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var aE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{Pt=Zf.inject(aE),Nt=Zf}catch{}}return sc.createRoot=function(r,l){if(!s(r))throw Error(i(299));var u=!1,d="",O=Sb,b=wb,A=Ab;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(O=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError)),l=iv(r,1,!1,null,null,u,d,null,O,b,A,mv),r[Ee]=l.current,Up(r),new lg(l)},sc.hydrateRoot=function(r,l,u){if(!s(r))throw Error(i(299));var d=!1,O="",b=Sb,A=wb,N=Ab,U=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(O=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),l=iv(r,1,!0,l,u??null,d,O,U,b,A,N,mv),l.context=sv(null),u=l.current,d=pi(),d=de(d),O=Ar(d),O.callback=null,Cr(u,O,d),u=d,l.current.lanes=u,Bn(l,u),ks(l),r[Ee]=l.current,Up(r),new Bf(l)},sc.version="19.2.0",sc}var Cv;function gE(){if(Cv)return ug.exports;Cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ug.exports=pE(),ug.exports}var OE=gE();var Uw=n=>{throw TypeError(n)},xE=(n,e,t)=>e.has(n)||Uw("Cannot "+t),mg=(n,e,t)=>(xE(n,e,"read from private field"),t?t.call(n):e.get(n)),bE=(n,e,t)=>e.has(n)?Uw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),kv="popstate";function yE(n={}){function e(i,s){let{pathname:a,search:o,hash:c}=i.location;return Pc("",{pathname:a,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Zs(s)}return SE(e,t,null,n)}function Ue(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vE(){return Math.random().toString(36).substring(2,10)}function Tv(n,e){return{usr:n.state,key:n.key,idx:e}}function Pc(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:t,key:e&&e.key||i||vE()}}function Zs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ca(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function SE(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,c="POP",f=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function g(){c="POP";let w=m(),C=w==null?null:w-h;h=w,f&&f({action:c,location:S.location,delta:C})}function x(w,C){c="PUSH";let R=Pc(S.location,w,C);h=m()+1;let E=Tv(R,h),j=S.createHref(R);try{o.pushState(E,"",j)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(j)}a&&f&&f({action:c,location:S.location,delta:1})}function y(w,C){c="REPLACE";let R=Pc(S.location,w,C);h=m();let E=Tv(R,h),j=S.createHref(R);o.replaceState(E,"",j),a&&f&&f({action:c,location:S.location,delta:0})}function v(w){return Xw(w)}let S={get action(){return c},get location(){return n(s,o)},listen(w){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(kv,g),f=w,()=>{s.removeEventListener(kv,g),f=null}},createHref(w){return e(s,w)},createURL:v,encodeLocation(w){let C=v(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:y,go(w){return o.go(w)}};return S}function Xw(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Zs(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var mc,Ev=class{constructor(n){if(bE(this,mc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(mg(this,mc).has(n))return mg(this,mc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){mg(this,mc).set(n,e)}};mc=new WeakMap;var wE=new Set(["lazy","caseSensitive","path","id","index","children"]);function AE(n){return wE.has(n)}var CE=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function kE(n){return CE.has(n)}function TE(n){return n.index===!0}function _c(n,e,t=[],i={},s=!1){return n.map((a,o)=>{let c=[...t,String(o)],f=typeof a.id=="string"?a.id:c.join("-");if(Ue(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ue(s||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),TE(a)){let h={...a,id:f};return i[f]=Rv(h,e(h)),h}else{let h={...a,id:f,children:void 0};return i[f]=Rv(h,e(h)),a.children&&(h.children=_c(a.children,e,c,i,s)),h}})}function Rv(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Ir(n,e,t="/"){return pc(n,e,t,!1)}function pc(n,e,t,i){let s=typeof e=="string"?ca(e):e,a=si(s.pathname||"/",t);if(a==null)return null;let o=Iw(n);RE(o);let c=null;for(let f=0;c==null&&f<o.length;++f){let h=BE(a);c=LE(o[f],h,i)}return c}function EE(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function Iw(n,e=[],t=[],i="",s=!1){let a=(o,c,f=s,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;Ue(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let g=Ls([i,m.relativePath]),x=t.concat(m);o.children&&o.children.length>0&&(Ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Iw(o.children,e,x,g,f)),!(o.path==null&&!o.index)&&e.push({path:g,score:DE(g,o.index),routesMeta:x})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let f of Yw(o.path))a(o,c,!0,f)}),e}function Yw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let o=Yw(i.join("/")),c=[];return c.push(...o.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...o),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function RE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$E(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var QE=/^:[\w-]+$/,NE=3,jE=2,ME=1,PE=10,_E=-2,Qv=n=>n==="*";function DE(n,e){let t=n.split("/"),i=t.length;return t.some(Qv)&&(i+=_E),e&&(i+=jE),t.filter(s=>!Qv(s)).reduce((s,a)=>s+(QE.test(a)?NE:a===""?ME:PE),i)}function $E(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function LE(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",o=[];for(let c=0;c<i.length;++c){let f=i[c],h=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),x=f.route;if(!g&&h&&t&&!i[i.length-1].route.index&&(g=$h({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Ls([a,g.pathname]),pathnameBase:IE(Ls([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=Ls([a,g.pathnameBase]))}return o}function $h(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=zE(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:g},x)=>{if(m==="*"){let v=c[x]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const y=c[x];return g&&!y?h[m]=void 0:h[m]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:n}}function zE(n,e=!1,t=!0){zt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function BE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function si(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function ZE({basename:n,pathname:e}){return e==="/"?n:Ls([n,e])}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kd=n=>UE.test(n);function XE(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?ca(n):n,a;if(t)if(kd(t))a=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),zt(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?a=Nv(t.substring(1),"/"):a=Nv(t,e)}else a=e;return{pathname:a,search:YE(i),hash:VE(s)}}function Nv(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function pg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Td(n){let e=Vw(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ed(n,e,t,i=!1){let s;typeof n=="string"?s=ca(n):(s={...n},Ue(!s.pathname||!s.pathname.includes("?"),pg("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),pg("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),pg("#","search","hash",s)));let a=n===""||s.pathname==="",o=a?"/":s.pathname,c;if(o==null)c=t;else{let g=e.length-1;if(!i&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}c=g>=0?e[g]:"/"}let f=XE(s,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var Ls=n=>n.join("/").replace(/\/\/+/g,"/"),IE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Lh=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Dc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function kO(n){return n.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gr=Symbol("Uninstrumented");function qE(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(a){let o=Object.keys(t);for(let c of o)a[c]&&t[c].push(a[c])}}));let i={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=$l(t.lazy,e.lazy,()=>{});s&&(i.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(a=>{let o=s[a],c=t[`lazy.${a}`];if(typeof o=="function"&&c.length>0){let f=$l(c,o,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[a]:f}))}})}return["loader","action"].forEach(s=>{let a=e[s];if(typeof a=="function"&&t[s].length>0){let o=a[Gr]??a,c=$l(t[s],o,(...f)=>jv(f[0]));c&&(c[Gr]=o,i[s]=c)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(i.middleware=e.middleware.map(s=>{let a=s[Gr]??s,o=$l(t.middleware,a,(...c)=>jv(c[0]));return o?(o[Gr]=a,o):s})),i}function HE(n,e){let t={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(s){let a=Object.keys(s);for(let o of a)s[o]&&t[o].push(s[o])}})),t.navigate.length>0){let i=n.navigate[Gr]??n.navigate,s=$l(t.navigate,i,(...a)=>{let[o,c]=a;return{to:typeof o=="number"||typeof o=="string"?o:o?Zs(o):".",...Mv(n,c??{})}});s&&(s[Gr]=i,n.navigate=s)}if(t.fetch.length>0){let i=n.fetch[Gr]??n.fetch,s=$l(t.fetch,i,(...a)=>{let[o,,c,f]=a;return{href:c??".",fetcherKey:o,...Mv(n,f??{})}});s&&(s[Gr]=i,n.fetch=s)}return n}function $l(n,e,t){return n.length===0?null:async(...i)=>{let s=await qw(n,t(...i),()=>e(...i),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function qw(n,e,t,i){let s=n[i],a;if(s){let o,c=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=qw(n,e,t,i-1),a=await o,Ue(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await s(c,e)}catch(f){console.error("An instrumentation function threw an error:",f)}o||await c(),await o}else try{a={type:"success",value:await t()}}catch(o){a={type:"error",value:o}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function jv(n){let{request:e,context:t,params:i,unstable_pattern:s}=n;return{request:GE(e),params:{...i},unstable_pattern:s,context:WE(t)}}function Mv(n,e){return{currentUrl:Zs(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function GE(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function WE(n){if(KE(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var FE=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function KE(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===FE}var Hw=["POST","PUT","PATCH","DELETE"],JE=new Set(Hw),eR=["GET",...Hw],tR=new Set(eR),nR=new Set([301,302,303,307,308]),iR=new Set([307,308]),gg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Gw="remix-router-transitions",Ww=Symbol("ResetLoaderData");function aR(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ue(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||rR,a=s;if(n.unstable_instrumentations){let B=n.unstable_instrumentations;a=G=>({...s(G),...qE(B.map(se=>se.route).filter(Boolean),G)})}let o={},c=_c(n.routes,a,void 0,o),f,h=n.basename||"/";h.startsWith("/")||(h=`/${h}`);let m=n.dataStrategy||fR,g={...n.future},x=null,y=new Set,v=null,S=null,w=null,C=n.hydrationData!=null,R=Ir(c,n.history.location,h),E=!1,j=null,Q;if(R==null&&!n.patchRoutesOnNavigation){let B=Bi(404,{pathname:n.history.location.pathname}),{matches:G,route:se}=Uf(c);Q=!0,R=G,j={[se.id]:B}}else if(R&&!n.hydrationData&&Ji(R,c,n.history.location.pathname).active&&(R=null),R)if(R.some(B=>B.route.lazy))Q=!1;else if(!R.some(B=>TO(B.route)))Q=!0;else{let B=n.hydrationData?n.hydrationData.loaderData:null,G=n.hydrationData?n.hydrationData.errors:null;if(G){let se=R.findIndex(de=>G[de.route.id]!==void 0);Q=R.slice(0,se+1).every(de=>!h0(de.route,B,G))}else Q=R.every(se=>!h0(se.route,B,G))}else{Q=!1,R=[];let B=Ji(null,c,n.history.location.pathname);B.active&&B.matches&&(E=!0,R=B.matches)}let M,k={historyAction:n.history.action,location:n.history.location,matches:R,initialized:Q,navigation:gg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||j,fetchers:new Map,blockers:new Map},$="POP",D=!1,L,V=!1,z=new Map,I=null,H=!1,F=!1,P=new Set,Z=new Map,K=0,ie=-1,le=new Map,_=new Set,X=new Map,te=new Map,ce=new Set,me=new Map,be,Ce=null;function tt(){if(x=n.history.listen(({action:B,location:G,delta:se})=>{if(be){be(),be=void 0;return}zt(me.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Ti({currentLocation:k.location,nextLocation:G,historyAction:B});if(de&&se!=null){let pe=new Promise(Se=>{be=Se});n.history.go(se*-1),Fi(de,{state:"blocked",location:G,proceed(){Fi(de,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),pe.then(()=>n.history.go(se))},reset(){let Se=new Map(k.blockers);Se.set(de,jl),Ye({blockers:Se})}});return}return Qt(B,G)}),t){kR(e,z);let B=()=>TR(e,z);e.addEventListener("pagehide",B),I=()=>e.removeEventListener("pagehide",B)}return k.initialized||Qt("POP",k.location,{initialHydration:!0}),M}function Xe(){x&&x(),I&&I(),y.clear(),L&&L.abort(),k.fetchers.forEach((B,G)=>vs(G)),k.blockers.forEach((B,G)=>Wi(G))}function it(B){return y.add(B),()=>y.delete(B)}function Ye(B,G={}){B.matches&&(B.matches=B.matches.map(pe=>{let Se=o[pe.route.id],Te=pe.route;return Te.element!==Se.element||Te.errorElement!==Se.errorElement||Te.hydrateFallbackElement!==Se.hydrateFallbackElement?{...pe,route:Se}:pe})),k={...k,...B};let se=[],de=[];k.fetchers.forEach((pe,Se)=>{pe.state==="idle"&&(ce.has(Se)?se.push(Se):de.push(Se))}),ce.forEach(pe=>{!k.fetchers.has(pe)&&!Z.has(pe)&&se.push(pe)}),[...y].forEach(pe=>pe(k,{deletedFetchers:se,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),se.forEach(pe=>vs(pe)),de.forEach(pe=>k.fetchers.delete(pe))}function Mt(B,G,{flushSync:se}={}){let de=k.actionData!=null&&k.navigation.formMethod!=null&&Dn(k.navigation.formMethod)&&k.navigation.state==="loading"&&B.state?._isRedirect!==!0,pe;G.actionData?Object.keys(G.actionData).length>0?pe=G.actionData:pe=null:de?pe=k.actionData:pe=null;let Se=G.loaderData?Xv(k.loaderData,G.loaderData,G.matches||[],G.errors):k.loaderData,Te=k.blockers;Te.size>0&&(Te=new Map(Te),Te.forEach((Ee,Ne)=>Te.set(Ne,jl)));let we=H?!1:Ri(B,G.matches||k.matches),xe=D===!0||k.navigation.formMethod!=null&&Dn(k.navigation.formMethod)&&B.state?._isRedirect!==!0;f&&(c=f,f=void 0),H||$==="POP"||($==="PUSH"?n.history.push(B,B.state):$==="REPLACE"&&n.history.replace(B,B.state));let Ae;if($==="POP"){let Ee=z.get(k.location.pathname);Ee&&Ee.has(B.pathname)?Ae={currentLocation:k.location,nextLocation:B}:z.has(B.pathname)&&(Ae={currentLocation:B,nextLocation:k.location})}else if(V){let Ee=z.get(k.location.pathname);Ee?Ee.add(B.pathname):(Ee=new Set([B.pathname]),z.set(k.location.pathname,Ee)),Ae={currentLocation:k.location,nextLocation:B}}Ye({...G,actionData:pe,loaderData:Se,historyAction:$,location:B,initialized:!0,navigation:gg,revalidation:"idle",restoreScrollPosition:we,preventScrollReset:xe,blockers:Te},{viewTransitionOpts:Ae,flushSync:se===!0}),$="POP",D=!1,V=!1,H=!1,F=!1,Ce?.resolve(),Ce=null}async function dn(B,G){if(typeof B=="number"){n.history.go(B);return}let se=f0(k.location,k.matches,h,B,G?.fromRouteId,G?.relative),{path:de,submission:pe,error:Se}=Pv(!1,se,G),Te=k.location,we=Pc(k.location,de,G&&G.state);we={...we,...n.history.encodeLocation(we)};let xe=G&&G.replace!=null?G.replace:void 0,Ae="PUSH";xe===!0?Ae="REPLACE":xe===!1||pe!=null&&Dn(pe.formMethod)&&pe.formAction===k.location.pathname+k.location.search&&(Ae="REPLACE");let Ee=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Ne=(G&&G.flushSync)===!0,Ke=Ti({currentLocation:Te,nextLocation:we,historyAction:Ae});if(Ke){Fi(Ke,{state:"blocked",location:we,proceed(){Fi(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),dn(B,G)},reset(){let wt=new Map(k.blockers);wt.set(Ke,jl),Ye({blockers:wt})}});return}await Qt(Ae,we,{submission:pe,pendingError:Se,preventScrollReset:Ee,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Ne})}function Bt(){Ce||(Ce=ER()),ys(),Ye({revalidation:"loading"});let B=Ce.promise;return k.navigation.state==="submitting"?B:k.navigation.state==="idle"?(Qt(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),B):(Qt($||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:V===!0}),B)}async function Qt(B,G,se){L&&L.abort(),L=null,$=B,H=(se&&se.startUninterruptedRevalidation)===!0,Ki(k.location,k.matches),D=(se&&se.preventScrollReset)===!0,V=(se&&se.enableViewTransition)===!0;let de=f||c,pe=se&&se.overrideNavigation,Se=se?.initialHydration&&k.matches&&k.matches.length>0&&!E?k.matches:Ir(de,G,h),Te=(se&&se.flushSync)===!0;if(Se&&k.initialized&&!F&&bR(k.location,G)&&!(se&&se.submission&&Dn(se.submission.formMethod))){Mt(G,{matches:Se},{flushSync:Te});return}let we=Ji(Se,de,G.pathname);if(we.active&&we.matches&&(Se=we.matches),!Se){let{error:Tt,notFoundMatches:ot,route:st}=Ei(G.pathname);Mt(G,{matches:ot,loaderData:{},errors:{[st.id]:Tt}},{flushSync:Te});return}L=new AbortController;let xe=Ml(n.history,G,L.signal,se&&se.submission),Ae=n.getContext?await n.getContext():new Ev,Ee;if(se&&se.pendingError)Ee=[Yr(Se).route.id,{type:"error",error:se.pendingError}];else if(se&&se.submission&&Dn(se.submission.formMethod)){let Tt=await Nn(xe,G,se.submission,Se,Ae,we.active,se&&se.initialHydration===!0,{replace:se.replace,flushSync:Te});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[ot,st]=Tt.pendingActionResult;if(yi(st)&&Dc(st.error)&&st.error.status===404){L=null,Mt(G,{matches:Tt.matches,loaderData:{},errors:{[ot]:st.error}});return}}Se=Tt.matches||Se,Ee=Tt.pendingActionResult,pe=Og(G,se.submission),Te=!1,we.active=!1,xe=Ml(n.history,xe.url,xe.signal)}let{shortCircuited:Ne,matches:Ke,loaderData:wt,errors:_t}=await pt(xe,G,Se,Ae,we.active,pe,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,Te,Ee);Ne||(L=null,Mt(G,{matches:Ke||Se,...Iv(Ee),loaderData:wt,errors:_t}))}async function Nn(B,G,se,de,pe,Se,Te,we={}){ys();let xe=AR(G,se);if(Ye({navigation:xe},{flushSync:we.flushSync===!0}),Se){let Ne=await es(de,G.pathname,B.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){if(Ne.partialMatches.length===0){let{matches:wt,route:_t}=Uf(c);return{matches:wt,pendingActionResult:[_t.id,{type:"error",error:Ne.error}]}}let Ke=Yr(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,pendingActionResult:[Ke,{type:"error",error:Ne.error}]}}else if(Ne.matches)de=Ne.matches;else{let{notFoundMatches:Ke,error:wt,route:_t}=Ei(G.pathname);return{matches:Ke,pendingActionResult:[_t.id,{type:"error",error:wt}]}}}let Ae,Ee=vh(de,G);if(!Ee.route.action&&!Ee.route.lazy)Ae={type:"error",error:Bi(405,{method:B.method,pathname:G.pathname,routeId:Ee.route.id})};else{let Ne=Xl(a,o,B,de,Ee,Te?[]:i,pe),Ke=await St(B,Ne,pe,null);if(Ae=Ke[Ee.route.id],!Ae){for(let wt of de)if(Ke[wt.route.id]){Ae=Ke[wt.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(Pa(Ae)){let Ne;return we&&we.replace!=null?Ne=we.replace:Ne=Bv(Ae.response.headers.get("Location"),new URL(B.url),h)===k.location.pathname+k.location.search,await wn(B,Ae,!0,{submission:se,replace:Ne}),{shortCircuited:!0}}if(yi(Ae)){let Ne=Yr(de,Ee.route.id);return(we&&we.replace)!==!0&&($="PUSH"),{matches:de,pendingActionResult:[Ne.route.id,Ae,Ee.route.id]}}return{matches:de,pendingActionResult:[Ee.route.id,Ae]}}async function pt(B,G,se,de,pe,Se,Te,we,xe,Ae,Ee,Ne){let Ke=Se||Og(G,Te),wt=Te||we||Vv(Ke),_t=!H&&!Ae;if(pe){if(_t){let tn=qt(Ne);Ye({navigation:Ke,...tn!==void 0?{actionData:tn}:{}},{flushSync:Ee})}let He=await es(se,G.pathname,B.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){if(He.partialMatches.length===0){let{matches:Or,route:Qi}=Uf(c);return{matches:Or,loaderData:{},errors:{[Qi.id]:He.error}}}let tn=Yr(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[tn]:He.error}}}else if(He.matches)se=He.matches;else{let{error:tn,notFoundMatches:Or,route:Qi}=Ei(G.pathname);return{matches:Or,loaderData:{},errors:{[Qi.id]:tn}}}}let Tt=f||c,{dsMatches:ot,revalidatingFetchers:st}=_v(B,de,a,o,n.history,k,se,wt,G,Ae?[]:i,Ae===!0,F,P,ce,X,_,Tt,h,n.patchRoutesOnNavigation!=null,Ne);if(ie=++K,!n.dataStrategy&&!ot.some(He=>He.shouldLoad)&&!ot.some(He=>He.route.middleware&&He.route.middleware.length>0)&&st.length===0){let He=An();return Mt(G,{matches:se,loaderData:{},errors:Ne&&yi(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...Iv(Ne),...He?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ee}),{shortCircuited:!0}}if(_t){let He={};if(!pe){He.navigation=Ke;let tn=qt(Ne);tn!==void 0&&(He.actionData=tn)}st.length>0&&(He.fetchers=Ai(st)),Ye(He,{flushSync:Ee})}st.forEach(He=>{Pt(He.key),He.controller&&Z.set(He.key,He.controller)});let Zn=()=>st.forEach(He=>Pt(He.key));L&&L.signal.addEventListener("abort",Zn);let{loaderResults:ts,fetcherResults:jn}=await Ys(ot,st,B,de);if(B.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Zn),st.forEach(He=>Z.delete(He.key));let ct=Xf(ts);if(ct)return await wn(B,ct.result,!0,{replace:xe}),{shortCircuited:!0};if(ct=Xf(jn),ct)return _.add(ct.key),await wn(B,ct.result,!0,{replace:xe}),{shortCircuited:!0};let{loaderData:Fa,errors:gr}=Uv(k,se,ts,Ne,st,jn);Ae&&k.errors&&(gr={...k.errors,...gr});let Mn=An(),ns=jt(ie),Ka=Mn||ns||st.length>0;return{matches:se,loaderData:Fa,errors:gr,...Ka?{fetchers:new Map(k.fetchers)}:{}}}function qt(B){if(B&&!yi(B[1]))return{[B[0]]:B[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Ai(B){return B.forEach(G=>{let se=k.fetchers.get(G.key),de=rc(void 0,se?se.data:void 0);k.fetchers.set(G.key,de)}),new Map(k.fetchers)}async function Ci(B,G,se,de){Pt(B);let pe=(de&&de.flushSync)===!0,Se=f||c,Te=f0(k.location,k.matches,h,se,G,de?.relative),we=Ir(Se,Te,h),xe=Ji(we,Se,Te);if(xe.active&&xe.matches&&(we=xe.matches),!we){Zt(B,G,Bi(404,{pathname:Te}),{flushSync:pe});return}let{path:Ae,submission:Ee,error:Ne}=Pv(!0,Te,de);if(Ne){Zt(B,G,Ne,{flushSync:pe});return}let Ke=n.getContext?await n.getContext():new Ev,wt=(de&&de.preventScrollReset)===!0;if(Ee&&Dn(Ee.formMethod)){await ki(B,G,Ae,we,Ke,xe.active,pe,wt,Ee);return}X.set(B,{routeId:G,path:Ae}),await bs(B,G,Ae,we,Ke,xe.active,pe,wt,Ee)}async function ki(B,G,se,de,pe,Se,Te,we,xe){ys(),X.delete(B);let Ae=k.fetchers.get(B);en(B,CR(xe,Ae),{flushSync:Te});let Ee=new AbortController,Ne=Ml(n.history,se,Ee.signal,xe);if(Se){let gt=await es(de,new URL(Ne.url).pathname,Ne.signal,B);if(gt.type==="aborted")return;if(gt.type==="error"){Zt(B,G,gt.error,{flushSync:Te});return}else if(gt.matches)de=gt.matches;else{Zt(B,G,Bi(404,{pathname:se}),{flushSync:Te});return}}let Ke=vh(de,se);if(!Ke.route.action&&!Ke.route.lazy){let gt=Bi(405,{method:xe.formMethod,pathname:se,routeId:G});Zt(B,G,gt,{flushSync:Te});return}Z.set(B,Ee);let wt=K,_t=Xl(a,o,Ne,de,Ke,i,pe),Tt=await St(Ne,_t,pe,B),ot=Tt[Ke.route.id];if(!ot){for(let gt of _t)if(Tt[gt.route.id]){ot=Tt[gt.route.id];break}}if(Ne.signal.aborted){Z.get(B)===Ee&&Z.delete(B);return}if(ce.has(B)){if(Pa(ot)||yi(ot)){en(B,cr(void 0));return}}else{if(Pa(ot))if(Z.delete(B),ie>wt){en(B,cr(void 0));return}else return _.add(B),en(B,rc(xe)),wn(Ne,ot,!1,{fetcherSubmission:xe,preventScrollReset:we});if(yi(ot)){Zt(B,G,ot.error);return}}let st=k.navigation.location||k.location,Zn=Ml(n.history,st,Ee.signal),ts=f||c,jn=k.navigation.state!=="idle"?Ir(ts,k.navigation.location,h):k.matches;Ue(jn,"Didn't find any matches after fetcher action");let ct=++K;le.set(B,ct);let Fa=rc(xe,ot.data);k.fetchers.set(B,Fa);let{dsMatches:gr,revalidatingFetchers:Mn}=_v(Zn,pe,a,o,n.history,k,jn,xe,st,i,!1,F,P,ce,X,_,ts,h,n.patchRoutesOnNavigation!=null,[Ke.route.id,ot]);Mn.filter(gt=>gt.key!==B).forEach(gt=>{let Un=gt.key,Pn=k.fetchers.get(Un),Qu=rc(void 0,Pn?Pn.data:void 0);k.fetchers.set(Un,Qu),Pt(Un),gt.controller&&Z.set(Un,gt.controller)}),Ye({fetchers:new Map(k.fetchers)});let ns=()=>Mn.forEach(gt=>Pt(gt.key));Ee.signal.addEventListener("abort",ns);let{loaderResults:Ka,fetcherResults:He}=await Ys(gr,Mn,Zn,pe);if(Ee.signal.aborted)return;if(Ee.signal.removeEventListener("abort",ns),le.delete(B),Z.delete(B),Mn.forEach(gt=>Z.delete(gt.key)),k.fetchers.has(B)){let gt=cr(ot.data);k.fetchers.set(B,gt)}let tn=Xf(Ka);if(tn)return wn(Zn,tn.result,!1,{preventScrollReset:we});if(tn=Xf(He),tn)return _.add(tn.key),wn(Zn,tn.result,!1,{preventScrollReset:we});let{loaderData:Or,errors:Qi}=Uv(k,jn,Ka,void 0,Mn,He);jt(ct),k.navigation.state==="loading"&&ct>ie?(Ue($,"Expected pending action"),L&&L.abort(),Mt(k.navigation.location,{matches:jn,loaderData:Or,errors:Qi,fetchers:new Map(k.fetchers)})):(Ye({errors:Qi,loaderData:Xv(k.loaderData,Or,jn,Qi),fetchers:new Map(k.fetchers)}),F=!1)}async function bs(B,G,se,de,pe,Se,Te,we,xe){let Ae=k.fetchers.get(B);en(B,rc(xe,Ae?Ae.data:void 0),{flushSync:Te});let Ee=new AbortController,Ne=Ml(n.history,se,Ee.signal);if(Se){let st=await es(de,new URL(Ne.url).pathname,Ne.signal,B);if(st.type==="aborted")return;if(st.type==="error"){Zt(B,G,st.error,{flushSync:Te});return}else if(st.matches)de=st.matches;else{Zt(B,G,Bi(404,{pathname:se}),{flushSync:Te});return}}let Ke=vh(de,se);Z.set(B,Ee);let wt=K,_t=Xl(a,o,Ne,de,Ke,i,pe),ot=(await St(Ne,_t,pe,B))[Ke.route.id];if(Z.get(B)===Ee&&Z.delete(B),!Ne.signal.aborted){if(ce.has(B)){en(B,cr(void 0));return}if(Pa(ot))if(ie>wt){en(B,cr(void 0));return}else{_.add(B),await wn(Ne,ot,!1,{preventScrollReset:we});return}if(yi(ot)){Zt(B,G,ot.error);return}en(B,cr(ot.data))}}async function wn(B,G,se,{submission:de,fetcherSubmission:pe,preventScrollReset:Se,replace:Te}={}){G.response.headers.has("X-Remix-Revalidate")&&(F=!0);let we=G.response.headers.get("Location");Ue(we,"Expected a Location header on the redirect Response"),we=Bv(we,new URL(B.url),h);let xe=Pc(k.location,we,{_isRedirect:!0});if(t){let _t=!1;if(G.response.headers.has("X-Remix-Reload-Document"))_t=!0;else if(kd(we)){const Tt=Xw(we,!0);_t=Tt.origin!==e.location.origin||si(Tt.pathname,h)==null}if(_t){Te?e.location.replace(we):e.location.assign(we);return}}L=null;let Ae=Te===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ee,formAction:Ne,formEncType:Ke}=k.navigation;!de&&!pe&&Ee&&Ne&&Ke&&(de=Vv(k.navigation));let wt=de||pe;if(iR.has(G.response.status)&&wt&&Dn(wt.formMethod))await Qt(Ae,xe,{submission:{...wt,formAction:we},preventScrollReset:Se||D,enableViewTransition:se?V:void 0});else{let _t=Og(xe,de);await Qt(Ae,xe,{overrideNavigation:_t,fetcherSubmission:pe,preventScrollReset:Se||D,enableViewTransition:se?V:void 0})}}async function St(B,G,se,de){let pe,Se={};try{pe=await dR(m,B,G,de,se,!1)}catch(Te){return G.filter(we=>we.shouldLoad).forEach(we=>{Se[we.route.id]={type:"error",error:Te}}),Se}if(B.signal.aborted)return Se;for(let[Te,we]of Object.entries(pe))if(SR(we)){let xe=we.result;Se[Te]={type:"redirect",response:OR(xe,B,Te,G,h)}}else Se[Te]=await gR(we);return Se}async function Ys(B,G,se,de){let pe=St(se,B,de,null),Se=Promise.all(G.map(async xe=>{if(xe.matches&&xe.match&&xe.request&&xe.controller){let Ee=(await St(xe.request,xe.matches,de,xe.key))[xe.match.route.id];return{[xe.key]:Ee}}else return Promise.resolve({[xe.key]:{type:"error",error:Bi(404,{pathname:xe.path})}})})),Te=await pe,we=(await Se).reduce((xe,Ae)=>Object.assign(xe,Ae),{});return{loaderResults:Te,fetcherResults:we}}function ys(){F=!0,X.forEach((B,G)=>{Z.has(G)&&P.add(G),Pt(G)})}function en(B,G,se={}){k.fetchers.set(B,G),Ye({fetchers:new Map(k.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Zt(B,G,se,de={}){let pe=Yr(k.matches,G);vs(B),Ye({errors:{[pe.route.id]:se},fetchers:new Map(k.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function Hi(B){return te.set(B,(te.get(B)||0)+1),ce.has(B)&&ce.delete(B),k.fetchers.get(B)||sR}function Gi(B,G){Pt(B,G?.reason),en(B,cr(null))}function vs(B){let G=k.fetchers.get(B);Z.has(B)&&!(G&&G.state==="loading"&&le.has(B))&&Pt(B),X.delete(B),le.delete(B),_.delete(B),ce.delete(B),P.delete(B),k.fetchers.delete(B)}function ha(B){let G=(te.get(B)||0)-1;G<=0?(te.delete(B),ce.add(B)):te.set(B,G),Ye({fetchers:new Map(k.fetchers)})}function Pt(B,G){let se=Z.get(B);se&&(se.abort(G),Z.delete(B))}function Nt(B){for(let G of B){let se=Hi(G),de=cr(se.data);k.fetchers.set(G,de)}}function An(){let B=[],G=!1;for(let se of _){let de=k.fetchers.get(se);Ue(de,`Expected fetcher: ${se}`),de.state==="loading"&&(_.delete(se),B.push(se),G=!0)}return Nt(B),G}function jt(B){let G=[];for(let[se,de]of le)if(de<B){let pe=k.fetchers.get(se);Ue(pe,`Expected fetcher: ${se}`),pe.state==="loading"&&(Pt(se),le.delete(se),G.push(se))}return Nt(G),G.length>0}function Ss(B,G){let se=k.blockers.get(B)||jl;return me.get(B)!==G&&me.set(B,G),se}function Wi(B){k.blockers.delete(B),me.delete(B)}function Fi(B,G){let se=k.blockers.get(B)||jl;Ue(se.state==="unblocked"&&G.state==="blocked"||se.state==="blocked"&&G.state==="blocked"||se.state==="blocked"&&G.state==="proceeding"||se.state==="blocked"&&G.state==="unblocked"||se.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${se.state} -> ${G.state}`);let de=new Map(k.blockers);de.set(B,G),Ye({blockers:de})}function Ti({currentLocation:B,nextLocation:G,historyAction:se}){if(me.size===0)return;me.size>1&&zt(!1,"A router only supports one blocker at a time");let de=Array.from(me.entries()),[pe,Se]=de[de.length-1],Te=k.blockers.get(pe);if(!(Te&&Te.state==="proceeding")&&Se({currentLocation:B,nextLocation:G,historyAction:se}))return pe}function Ei(B){let G=Bi(404,{pathname:B}),se=f||c,{matches:de,route:pe}=Uf(se);return{notFoundMatches:de,route:pe,error:G}}function li(B,G,se){if(v=B,w=G,S=se||null,!C&&k.navigation===gg){C=!0;let de=Ri(k.location,k.matches);de!=null&&Ye({restoreScrollPosition:de})}return()=>{v=null,w=null,S=null}}function mn(B,G){return S&&S(B,G.map(de=>EE(de,k.loaderData)))||B.key}function Ki(B,G){if(v&&w){let se=mn(B,G);v[se]=w()}}function Ri(B,G){if(v){let se=mn(B,G),de=v[se];if(typeof de=="number")return de}return null}function Ji(B,G,se){if(n.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:pc(G,se,h,!0)}}else return{active:!0,matches:pc(G,se,h,!0)||[]};return{active:!1,matches:null}}async function es(B,G,se,de){if(!n.patchRoutesOnNavigation)return{type:"success",matches:B};let pe=B;for(;;){let Se=f==null,Te=f||c,we=o;try{await n.patchRoutesOnNavigation({signal:se,path:G,matches:pe,fetcherKey:de,patch:(Ee,Ne)=>{se.aborted||Dv(Ee,Ne,Te,we,a,!1)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:pe}}finally{Se&&!se.aborted&&(c=[...c])}if(se.aborted)return{type:"aborted"};let xe=Ir(Te,G,h),Ae=null;if(xe){if(Object.keys(xe[0].params).length===0)return{type:"success",matches:xe};if(Ae=pc(Te,G,h,!0),!(Ae&&pe.length<Ae.length&&oi(pe,Ae.slice(0,pe.length))))return{type:"success",matches:xe}}if(Ae||(Ae=pc(Te,G,h,!0)),!Ae||oi(pe,Ae))return{type:"success",matches:null};pe=Ae}}function oi(B,G){return B.length===G.length&&B.every((se,de)=>se.route.id===G[de].route.id)}function Bn(B){o={},f=_c(B,a,void 0,o)}function da(B,G,se=!1){let de=f==null;Dv(B,G,f||c,o,a,se),de&&(c=[...c],Ye({}))}return M={get basename(){return h},get future(){return g},get state(){return k},get routes(){return c},get window(){return e},initialize:tt,subscribe:it,enableScrollRestoration:li,navigate:dn,fetch:Ci,revalidate:Bt,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:Hi,resetFetcher:Gi,deleteFetcher:ha,dispose:Xe,getBlocker:Ss,deleteBlocker:Wi,patchRoutes:da,_internalFetchControllers:Z,_internalSetRoutes:Bn,_internalSetStateDoNotUseOrYouWillBreakYourApp(B){Ye(B)}},n.unstable_instrumentations&&(M=HE(M,n.unstable_instrumentations.map(B=>B.router).filter(Boolean))),M}function lR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function f0(n,e,t,i,s,a){let o,c;if(s){o=[];for(let h of e)if(o.push(h),h.route.id===s){c=h;break}}else o=e,c=e[e.length-1];let f=Ed(i||".",Td(o),si(n.pathname,t)||n.pathname,a==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&c){let h=EO(f.search);if(c.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let m=new URLSearchParams(f.search),g=m.getAll("index");m.delete("index"),g.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();f.search=x?`?${x}`:""}}return t!=="/"&&(f.pathname=ZE({basename:t,pathname:f.pathname})),Zs(f)}function Pv(n,e,t){if(!t||!lR(t))return{path:e};if(t.formMethod&&!wR(t.formMethod))return{path:e,error:Bi(405,{method:t.formMethod})};let i=()=>({path:e,error:Bi(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),o=n3(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dn(a))return i();let g=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[y,v])=>`${x}${y}=${v}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:g}}}else if(t.formEncType==="application/json"){if(!Dn(a))return i();try{let g=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=m0(t.formData),f=t.formData;else if(t.body instanceof FormData)c=m0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=Zv(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=Zv(c)}catch{return i()}let h={formMethod:a,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Dn(h.formMethod))return{path:e,submission:h};let m=ca(e);return n&&m.search&&EO(m.search)&&c.append("index",""),m.search=`?${c}`,{path:Zs(m),submission:h}}function _v(n,e,t,i,s,a,o,c,f,h,m,g,x,y,v,S,w,C,R,E){let j=E?yi(E[1])?E[1].error:E[1].data:void 0,Q=s.createURL(a.location),M=s.createURL(f),k;if(m&&a.errors){let H=Object.keys(a.errors)[0];k=o.findIndex(F=>F.route.id===H)}else if(E&&yi(E[1])){let H=E[0];k=o.findIndex(F=>F.route.id===H)-1}let $=E?E[1].statusCode:void 0,D=$&&$>=400,L={currentUrl:Q,currentParams:a.matches[0]?.params||{},nextUrl:M,nextParams:o[0].params,...c,actionResult:j,actionStatus:$},V=kO(o.map(H=>H.route.path)),z=o.map((H,F)=>{let{route:P}=H,Z=null;if(k!=null&&F>k?Z=!1:P.lazy?Z=!0:TO(P)?m?Z=h0(P,a.loaderData,a.errors):oR(a.loaderData,a.matches[F],H)&&(Z=!0):Z=!1,Z!==null)return d0(t,i,n,V,H,h,e,Z);let K=D?!1:g||Q.pathname+Q.search===M.pathname+M.search||Q.search!==M.search||cR(a.matches[F],H),ie={...L,defaultShouldRevalidate:K},le=zh(H,ie);return d0(t,i,n,V,H,h,e,le,ie)}),I=[];return v.forEach((H,F)=>{if(m||!o.some(te=>te.route.id===H.routeId)||y.has(F))return;let P=a.fetchers.get(F),Z=P&&P.state!=="idle"&&P.data===void 0,K=Ir(w,H.path,C);if(!K){if(R&&Z)return;I.push({key:F,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(S.has(F))return;let ie=vh(K,H.path),le=new AbortController,_=Ml(s,H.path,le.signal),X=null;if(x.has(F))x.delete(F),X=Xl(t,i,_,K,ie,h,e);else if(Z)g&&(X=Xl(t,i,_,K,ie,h,e));else{let te={...L,defaultShouldRevalidate:D?!1:g};zh(ie,te)&&(X=Xl(t,i,_,K,ie,h,e,te))}X&&I.push({key:F,routeId:H.routeId,path:H.path,matches:X,match:ie,request:_,controller:le})}),{dsMatches:z,revalidatingFetchers:I}}function TO(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function h0(n,e,t){if(n.lazy)return!0;if(!TO(n))return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function oR(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function cR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function zh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Dv(n,e,t,i,s,a){let o;if(n){let h=i[n];Ue(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let c=[],f=[];if(e.forEach(h=>{let m=o.find(g=>Fw(h,g));m?f.push({existingRoute:m,newRoute:h}):c.push(h)}),c.length>0){let h=_c(c,s,[n||"_","patch",String(o?.length||"0")],i);o.push(...h)}if(a&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:m,newRoute:g}=f[h],x=m,[y]=_c([g],s,[],{},!0);Object.assign(x,{element:y.element?y.element:x.element,errorElement:y.errorElement?y.errorElement:x.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:x.hydrateFallbackElement})}}function Fw(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>Fw(t,s))):!1}var $v=new WeakMap,Kw=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(Ue(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[n];if(!a)return;let o=$v.get(s);o||(o={},$v.set(s,o));let c=o[n];if(c)return c;let f=(async()=>{let h=AE(n),g=s[n]!==void 0&&n!=="hasErrorBoundary";if(h)zt(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),o[n]=Promise.resolve();else if(g)zt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let x=await a();x!=null&&(Object.assign(s,{[n]:x}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(x=>x===void 0)&&(s.lazy=void 0))})();return o[n]=f,f},Lv=new WeakMap;function uR(n,e,t,i,s){let a=t[n.id];if(Ue(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let m=Lv.get(a);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let g=(async()=>{Ue(typeof n.lazy=="function","No lazy route function found");let x=await n.lazy(),y={};for(let v in x){let S=x[v];if(S===void 0)continue;let w=kE(v),R=a[v]!==void 0&&v!=="hasErrorBoundary";w?zt(!w,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?zt(!R,`Route "${a.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):y[v]=S}Object.assign(a,y),Object.assign(a,{...i(a),lazy:void 0})})();return Lv.set(a,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let o=Object.keys(n.lazy),c=[],f;for(let m of o){if(s&&s.includes(m))continue;let g=Kw({key:m,route:n,manifest:t,mapRouteProperties:i});g&&(c.push(g),m===e&&(f=g))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function zv(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{t[e[a].route.id]=s}),t}async function fR(n){return n.matches.some(e=>e.route.middleware)?Jw(n,()=>zv(n)):zv(n)}function Jw(n,e){return hR(n,e,i=>i,yR,t);function t(i,s,a){if(a)return Promise.resolve(Object.assign(a.value,{[s]:{type:"error",result:i}}));{let{matches:o}=n,c=Math.min(Math.max(o.findIndex(h=>h.route.id===s),0),Math.max(o.findIndex(h=>h.unstable_shouldCallHandler()),0)),f=Yr(o,o[c].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function hR(n,e,t,i,s){let{matches:a,request:o,params:c,context:f,unstable_pattern:h}=n,m=a.flatMap(x=>x.route.middleware?x.route.middleware.map(y=>[x.route.id,y]):[]);return await e3({request:o,params:c,context:f,unstable_pattern:h},m,e,t,i,s)}async function e3(n,e,t,i,s,a,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let f=e[o];if(!f)return await t();let[h,m]=f,g,x=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await e3(n,e,t,i,s,a,o+1)},g.value}catch(y){return g={value:await a(y,h,g)},g.value}};try{let y=await m(n,x),v=y!=null?i(y):void 0;return s(v)?v:g?v??g.value:(g={value:await x()},g.value)}catch(y){return await a(y,h,g)}}function t3(n,e,t,i,s){let a=Kw({key:"middleware",route:i.route,manifest:e,mapRouteProperties:n}),o=uR(i.route,Dn(t.method)?"action":"loader",e,n,s);return{middleware:a,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function d0(n,e,t,i,s,a,o,c,f=null){let h=!1,m=t3(n,e,t,s,a);return{...s,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(g){return h=!0,f?typeof g=="boolean"?zh(s,{...f,defaultShouldRevalidate:g}):zh(s,f):c},resolve(g){let{lazy:x,loader:y,middleware:v}=s.route,S=h||c||g&&!Dn(t.method)&&(x||y),w=v&&v.length>0&&!y&&!x;return S&&(Dn(t.method)||!w)?mR({request:t,unstable_pattern:i,match:s,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Xl(n,e,t,i,s,a,o,c=null){return i.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:t3(n,e,t,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:d0(n,e,t,kO(i.map(h=>h.route.path)),f,a,o,!0,c))}async function dR(n,e,t,i,s,a){t.some(h=>h._lazyPromises?.middleware)&&await Promise.all(t.map(h=>h._lazyPromises?.middleware));let o={request:e,unstable_pattern:kO(t.map(h=>h.route.path)),params:t[0].params,context:s,matches:t},f=await n({...o,fetcherKey:i,runClientMiddleware:h=>{let m=o;return Jw(m,()=>h({...m,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function mR({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:s,handlerOverride:a,scopedContext:o}){let c,f,h=Dn(n.method),m=h?"action":"loader",g=x=>{let y,v=new Promise((C,R)=>y=R);f=()=>y(),n.signal.addEventListener("abort",f);let S=C=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${t.route.id}]`)):x({request:n,unstable_pattern:e,params:t.params,context:o},...C!==void 0?[C]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(R=>S(R)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([w,v])};try{let x=h?t.route.action:t.route.loader;if(i||s)if(x){let y,[v]=await Promise.all([g(x).catch(S=>{y=S}),i,s]);if(y!==void 0)throw y;c=v}else{await i;let y=h?t.route.action:t.route.loader;if(y)[c]=await Promise.all([g(y),s]);else if(m==="action"){let v=new URL(n.url),S=v.pathname+v.search;throw Bi(405,{method:n.method,pathname:S,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(x)c=await g(x);else{let y=new URL(n.url),v=y.pathname+y.search;throw Bi(404,{pathname:v})}}catch(x){return{type:"error",result:x}}finally{f&&n.signal.removeEventListener("abort",f)}return c}async function pR(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function gR(n){let{result:e,type:t}=n;if(i3(e)){let i;try{i=await pR(e)}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new Lh(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?Yv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Lh(e.init?.status||500,void 0,e.data),statusCode:Dc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Dc(e)?e.status:void 0}:Yv(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function OR(n,e,t,i,s){let a=n.headers.get("Location");if(Ue(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!kd(a)){let o=i.slice(0,i.findIndex(c=>c.route.id===t)+1);a=f0(new URL(e.url),o,s,a),n.headers.set("Location",a)}return n}function Bv(n,e,t){if(kd(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=si(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function Ml(n,e,t,i){let s=n.createURL(n3(e)).toString(),a={signal:t};if(i&&Dn(i.formMethod)){let{formMethod:o,formEncType:c}=i;a.method=o.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(i.json)):c==="text/plain"?a.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?a.body=m0(i.formData):a.body=i.formData}return new Request(s,a)}function m0(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Zv(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function xR(n,e,t,i=!1,s=!1){let a={},o=null,c,f=!1,h={},m=t&&yi(t[1])?t[1].error:void 0;return n.forEach(g=>{if(!(g.route.id in e))return;let x=g.route.id,y=e[x];if(Ue(!Pa(y),"Cannot handle redirect results in processLoaderData"),yi(y)){let v=y.error;if(m!==void 0&&(v=m,m=void 0),o=o||{},s)o[x]=v;else{let S=Yr(n,x);o[S.route.id]==null&&(o[S.route.id]=v)}i||(a[x]=Ww),f||(f=!0,c=Dc(y.error)?y.error.status:500),y.headers&&(h[x]=y.headers)}else a[x]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(c=y.statusCode),y.headers&&(h[x]=y.headers)}),m!==void 0&&t&&(o={[t[0]]:m},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:o,statusCode:c||200,loaderHeaders:h}}function Uv(n,e,t,i,s,a){let{loaderData:o,errors:c}=xR(e,t,i);return s.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:m,controller:g}=f;if(g&&g.signal.aborted)return;let x=a[h];if(Ue(x,"Did not find corresponding fetcher result"),yi(x)){let y=Yr(n.matches,m?.route.id);c&&c[y.route.id]||(c={...c,[y.route.id]:x.error}),n.fetchers.delete(h)}else if(Pa(x))Ue(!1,"Unhandled fetcher revalidation redirect");else{let y=cr(x.data);n.fetchers.set(h,y)}}),{loaderData:o,errors:c}}function Xv(n,e,t,i){let s=Object.entries(e).filter(([,a])=>a!==Ww).reduce((a,[o,c])=>(a[o]=c,a),{});for(let a of t){let o=a.route.id;if(!e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&a.route.loader&&(s[o]=n[o]),i&&i.hasOwnProperty(o))break}return s}function Iv(n){return n?yi(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Yr(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Uf(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Bi(n,{pathname:e,routeId:t,method:i,type:s,message:a}={}){let o="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&e&&t?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):n===403?(o="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(o="Not Found",c=`No route matches URL "${e}"`):n===405&&(o="Method Not Allowed",i&&e&&t?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new Lh(n||500,o,new Error(c),!0)}function Xf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Pa(s))return{key:i,result:s}}}function n3(n){let e=typeof n=="string"?ca(n):n;return Zs({...e,hash:""})}function bR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function yR(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&vR(t))}function vR(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function SR(n){return i3(n.result)&&nR.has(n.result.status)}function yi(n){return n.type==="error"}function Pa(n){return(n&&n.type)==="redirect"}function Yv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function i3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function wR(n){return tR.has(n.toUpperCase())}function Dn(n){return JE.has(n.toUpperCase())}function EO(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function vh(n,e){let t=typeof e=="string"?ca(e).search:e.search;if(n[n.length-1].route.index&&EO(t||""))return n[n.length-1];let i=Vw(n);return i[i.length-1]}function Vv(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:a,json:o}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function Og(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function cr(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function kR(n,e){try{let t=n.sessionStorage.getItem(Gw);if(t){let i=JSON.parse(t);for(let[s,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function TR(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(Gw,JSON.stringify(t))}catch(i){zt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function ER(){let n,e,t=new Promise((i,s)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Wa=T.createContext(null);Wa.displayName="DataRouter";var uu=T.createContext(null);uu.displayName="DataRouterState";T.createContext(!1);var RO=T.createContext({isTransitioning:!1});RO.displayName="ViewTransition";var s3=T.createContext(new Map);s3.displayName="Fetchers";var RR=T.createContext(null);RR.displayName="Await";var ds=T.createContext(null);ds.displayName="Navigation";var Rd=T.createContext(null);Rd.displayName="Location";var Vi=T.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var QO=T.createContext(null);QO.displayName="RouteError";function QR(n,{relative:e}={}){Ue(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=T.useContext(ds),{hash:s,pathname:a,search:o}=fu(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Ls([t,a])),i.createHref({pathname:c,search:o,hash:s})}function oo(){return T.useContext(Rd)!=null}function wi(){return Ue(oo(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Rd).location}var r3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a3(n){T.useContext(ds).static||T.useLayoutEffect(n)}function vt(){let{isDataRoute:n}=T.useContext(Vi);return n?YR():NR()}function NR(){Ue(oo(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Wa),{basename:e,navigator:t}=T.useContext(ds),{matches:i}=T.useContext(Vi),{pathname:s}=wi(),a=JSON.stringify(Td(i)),o=T.useRef(!1);return a3(()=>{o.current=!0}),T.useCallback((f,h={})=>{if(zt(o.current,r3),!o.current)return;if(typeof f=="number"){t.go(f);return}let m=Ed(f,JSON.parse(a),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ls([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,s,n])}var l3=T.createContext(null);function jR(){return T.useContext(l3)}function MR(n){let e=T.useContext(Vi).outlet;return T.useMemo(()=>e&&T.createElement(l3.Provider,{value:n},e),[e,n])}function fs(){let{matches:n}=T.useContext(Vi),e=n[n.length-1];return e?e.params:{}}function fu(n,{relative:e}={}){let{matches:t}=T.useContext(Vi),{pathname:i}=wi(),s=JSON.stringify(Td(t));return T.useMemo(()=>Ed(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function PR(n,e,t,i,s){Ue(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(ds),{matches:o}=T.useContext(Vi),c=o[o.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";u3(h,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let x=wi(),y;y=x;let v=y.pathname||"/",S=v;if(m!=="/"){let R=m.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=Ir(n,{pathname:S});return zt(g||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),zt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),zR(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Ls([m,a.encodeLocation?a.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Ls([m,a.encodeLocation?a.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),o,t,i,s)}function _R(){let n=UR(),e=Dc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:s},t):null,o)}var DR=T.createElement(_R,null),$R=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?T.createElement(Vi.Provider,{value:this.props.routeContext},T.createElement(QO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LR({routeContext:n,match:e,children:t}){let i=T.useContext(Wa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Vi.Provider,{value:n},t)}function zR(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t?.errors;if(o!=null){let m=a.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);Ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:y}=t,v=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||v){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=t&&i?(m,g)=>{i(m,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:g})}:void 0;return a.reduceRight((m,g,x)=>{let y,v=!1,S=null,w=null;t&&(y=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||DR,c&&(f<0&&x===0?(u3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):f===x&&(v=!0,w=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,x+1)),R=()=>{let E;return y?E=S:v?E=w:g.route.Component?E=T.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=m,T.createElement(LR,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:E})};return t&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?T.createElement($R,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):R()},null)}function NO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o3(n){let e=T.useContext(Wa);return Ue(e,NO(n)),e}function c3(n){let e=T.useContext(uu);return Ue(e,NO(n)),e}function BR(n){let e=T.useContext(Vi);return Ue(e,NO(n)),e}function jO(n){let e=BR(n),t=e.matches[e.matches.length-1];return Ue(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ZR(){return jO("useRouteId")}function UR(){let n=T.useContext(QO),e=c3("useRouteError"),t=jO("useRouteError");return n!==void 0?n:e.errors?.[t]}var XR=0;function IR(n){let{router:e,basename:t}=o3("useBlocker"),i=c3("useBlocker"),[s,a]=T.useState(""),o=T.useCallback(c=>{if(typeof n!="function")return!!n;if(t==="/")return n(c);let{currentLocation:f,nextLocation:h,historyAction:m}=c;return n({currentLocation:{...f,pathname:si(f.pathname,t)||f.pathname},nextLocation:{...h,pathname:si(h.pathname,t)||h.pathname},historyAction:m})},[t,n]);return T.useEffect(()=>{let c=String(++XR);return a(c),()=>e.deleteBlocker(c)},[e]),T.useEffect(()=>{s!==""&&e.getBlocker(s,o)},[e,s,o]),s&&i.blockers.has(s)?i.blockers.get(s):jl}function YR(){let{router:n}=o3("useNavigate"),e=jO("useNavigate"),t=T.useRef(!1);return a3(()=>{t.current=!0}),T.useCallback(async(s,a={})=>{zt(t.current,r3),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var qv={};function u3(n,e,t){!e&&!qv[n]&&(qv[n]=!0,zt(!1,t))}var Hv={};function Gv(n,e){!n&&!Hv[e]&&(Hv[e]=!0,console.warn(e))}function VR(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var qR=["HydrateFallback","hydrateFallbackElement"],HR=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function GR({router:n,flushSync:e,unstable_onError:t}){let[i,s]=T.useState(n.state),[a,o]=T.useState(),[c,f]=T.useState({isTransitioning:!1}),[h,m]=T.useState(),[g,x]=T.useState(),[y,v]=T.useState(),S=T.useRef(new Map),w=T.useCallback(Q=>{s(M=>(Q.errors&&t&&Object.entries(Q.errors).forEach(([k,$])=>{M.errors?.[k]!==$&&t($,{location:Q.location,params:Q.matches[0]?.params??{}})}),Q))},[t]),C=T.useCallback((Q,{deletedFetchers:M,flushSync:k,viewTransitionOpts:$})=>{Q.fetchers.forEach((L,V)=>{L.data!==void 0&&S.current.set(V,L.data)}),M.forEach(L=>S.current.delete(L)),Gv(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Gv($==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!D){e&&k?e(()=>w(Q)):T.startTransition(()=>w(Q));return}if(e&&k){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let L=n.window.document.startViewTransition(()=>{e(()=>w(Q))});L.finished.finally(()=>{e(()=>{m(void 0),x(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>x(L));return}g?(h&&h.resolve(),g.skipTransition(),v({state:Q,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(o(Q),f({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,e,g,h,w]);T.useLayoutEffect(()=>n.subscribe(C),[n,C]),T.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new HR)},[c]),T.useEffect(()=>{if(h&&a&&n.window){let Q=a,M=h.promise,k=n.window.document.startViewTransition(async()=>{T.startTransition(()=>w(Q)),await M});k.finished.finally(()=>{m(void 0),x(void 0),o(void 0),f({isTransitioning:!1})}),x(k)}},[a,h,n.window,w]),T.useEffect(()=>{h&&a&&i.location.key===a.location.key&&h.resolve()},[h,g,i.location,a]),T.useEffect(()=>{!c.isTransitioning&&y&&(o(y.state),f({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[c.isTransitioning,y]);let R=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Q=>n.navigate(Q),push:(Q,M,k)=>n.navigate(Q,{state:M,preventScrollReset:k?.preventScrollReset}),replace:(Q,M,k)=>n.navigate(Q,{replace:!0,state:M,preventScrollReset:k?.preventScrollReset})}),[n]),E=n.basename||"/",j=T.useMemo(()=>({router:n,navigator:R,static:!1,basename:E,unstable_onError:t}),[n,R,E,t]);return T.createElement(T.Fragment,null,T.createElement(Wa.Provider,{value:j},T.createElement(uu.Provider,{value:i},T.createElement(s3.Provider,{value:S.current},T.createElement(RO.Provider,{value:c},T.createElement(KR,{basename:E,location:i.location,navigationType:i.historyAction,navigator:R},T.createElement(WR,{routes:n.routes,future:n.future,state:i,unstable_onError:t})))))),null)}var WR=T.memo(FR);function FR({routes:n,future:e,state:t,unstable_onError:i}){return PR(n,void 0,t,i,e)}function Kr({to:n,replace:e,state:t,relative:i}){Ue(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(ds);zt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Vi),{pathname:o}=wi(),c=vt(),f=Ed(n,Td(a),o,i==="path"),h=JSON.stringify(f);return T.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:i})},[c,h,i,e,t]),null}function Ia(n){return MR(n.context)}function KR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1}){Ue(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof t=="string"&&(t=ca(t));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:x="default"}=t,y=T.useMemo(()=>{let v=si(f,o);return v==null?null:{location:{pathname:v,search:h,hash:m,state:g,key:x},navigationType:i}},[o,f,h,m,g,x,i]);return zt(y!=null,`<Router basename="${o}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:T.createElement(ds.Provider,{value:c},T.createElement(Rd.Provider,{children:e,value:y}))}var Sh="get",wh="application/x-www-form-urlencoded";function Qd(n){return n!=null&&typeof n.tagName=="string"}function JR(n){return Qd(n)&&n.tagName.toLowerCase()==="button"}function eQ(n){return Qd(n)&&n.tagName.toLowerCase()==="form"}function tQ(n){return Qd(n)&&n.tagName.toLowerCase()==="input"}function nQ(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iQ(n,e){return n.button===0&&(!e||e==="_self")&&!nQ(n)}var If=null;function sQ(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var rQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xg(n){return n!=null&&!rQ.has(n)?(zt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):n}function aQ(n,e){let t,i,s,a,o;if(eQ(n)){let c=n.getAttribute("action");i=c?si(c,e):null,t=n.getAttribute("method")||Sh,s=xg(n.getAttribute("enctype"))||wh,a=new FormData(n)}else if(JR(n)||tQ(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(i=f?si(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Sh,s=xg(n.getAttribute("formenctype"))||xg(c.getAttribute("enctype"))||wh,a=new FormData(c,n),!sQ()){let{name:h,type:m,value:g}=n;if(m==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,g)}}else{if(Qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sh,i=null,s=wh,o=n}return a&&s==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function MO(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function lQ(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&si(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function oQ(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cQ(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uQ(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let o=await oQ(a,t);return o.links?o.links():[]}return[]}));return mQ(i.flat(1).filter(cQ).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Wv(n,e,t,i,s,a){let o=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>t[h].pathname!==f.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>o(f,h)||c(f,h)):a==="data"?e.filter((f,h)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function fQ(n,e,{includeHydrateFallback:t}={}){return hQ(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function hQ(n){return[...new Set(n)]}function dQ(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function mQ(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(dQ(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function f3(){let n=T.useContext(Wa);return MO(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pQ(){let n=T.useContext(uu);return MO(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var PO=T.createContext(void 0);PO.displayName="FrameworkContext";function h3(){let n=T.useContext(PO);return MO(n,"You must render this element inside a <HydratedRouter> element"),n}function gQ(n,e){let t=T.useContext(PO),[i,s]=T.useState(!1),[a,o]=T.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,x=T.useRef(null);T.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let S=C=>{C.forEach(R=>{o(R.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[n]),T.useEffect(()=>{if(i){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[i]);let y=()=>{s(!0)},v=()=>{s(!1),o(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:ac(c,y),onBlur:ac(f,v),onMouseEnter:ac(h,y),onMouseLeave:ac(m,v),onTouchStart:ac(g,y)}]:[!1,x,{}]}function ac(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function OQ({page:n,...e}){let{router:t}=f3(),i=T.useMemo(()=>Ir(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?T.createElement(bQ,{page:n,matches:i,...e}):null}function xQ(n){let{manifest:e,routeModules:t}=h3(),[i,s]=T.useState([]);return T.useEffect(()=>{let a=!1;return uQ(n,e,t).then(o=>{a||s(o)}),()=>{a=!0}},[n,e,t]),i}function bQ({page:n,matches:e,...t}){let i=wi(),{manifest:s,routeModules:a}=h3(),{basename:o}=f3(),{loaderData:c,matches:f}=pQ(),h=T.useMemo(()=>Wv(n,e,f,s,i,"data"),[n,e,f,s,i]),m=T.useMemo(()=>Wv(n,e,f,s,i,"assets"),[n,e,f,s,i]),g=T.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,S=!1;if(e.forEach(C=>{let R=s.routes[C.route.id];!R||!R.hasLoader||(!h.some(E=>E.route.id===C.route.id)&&C.route.id in c&&a[C.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:v.add(C.route.id))}),v.size===0)return[];let w=lQ(n,o,"data");return S&&v.size>0&&w.searchParams.set("_routes",e.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[o,c,i,s,h,e,n,a]),x=T.useMemo(()=>fQ(m,s),[m,s]),y=xQ(m);return T.createElement(T.Fragment,null,g.map(v=>T.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),x.map(v=>T.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),y.map(({key:v,link:S})=>T.createElement("link",{key:v,nonce:t.nonce,...S})))}function yQ(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var d3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d3&&(window.__reactRouterVersion="7.9.6")}catch{}function vQ(n,e){return aR({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:yE({window:e?.window}),hydrationData:SQ(),routes:n,mapRouteProperties:VR,hydrationRouteProperties:qR,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function SQ(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:wQ(n.errors)}),n}function wQ(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Lh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let o=new a(s.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let a=new Error(s.message);a.stack="",t[i]=a}}else t[i]=s;return t}var m3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ya=T.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:o,state:c,target:f,to:h,preventScrollReset:m,viewTransition:g,...x},y){let{basename:v}=T.useContext(ds),S=typeof h=="string"&&m3.test(h),w,C=!1;if(typeof h=="string"&&S&&(w=h,d3))try{let D=new URL(window.location.href),L=h.startsWith("//")?new URL(D.protocol+h):new URL(h),V=si(L.pathname,v);L.origin===D.origin&&V!=null?h=V+L.search+L.hash:C=!0}catch{zt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=QR(h,{relative:s}),[E,j,Q]=gQ(i,x),M=kQ(h,{replace:o,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:g});function k(D){e&&e(D),D.defaultPrevented||M(D)}let $=T.createElement("a",{...x,...Q,href:w||R,onClick:C||a?e:k,ref:yQ(y,j),target:f,"data-discover":!S&&t==="render"?"true":void 0});return E&&!S?T.createElement(T.Fragment,null,$,T.createElement(OQ,{page:R})):$});Ya.displayName="Link";var Nd=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:o,viewTransition:c,children:f,...h},m){let g=fu(o,{relative:h.relative}),x=wi(),y=T.useContext(uu),{navigator:v,basename:S}=T.useContext(ds),w=y!=null&&NQ(g)&&c===!0,C=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,R=x.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(R=R.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&S&&(E=si(E,S)||E);const j=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Q=R===C||!s&&R.startsWith(C)&&R.charAt(j)==="/",M=E!=null&&(E===C||!s&&E.startsWith(C)&&E.charAt(C.length)==="/"),k={isActive:Q,isPending:M,isTransitioning:w},$=Q?e:void 0,D;typeof i=="function"?D=i(k):D=[i,Q?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(k):a;return T.createElement(Ya,{...h,"aria-current":$,className:D,ref:m,style:L,to:o,viewTransition:c},typeof f=="function"?f(k):f)});Nd.displayName="NavLink";var AQ=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:o=Sh,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,...x},y)=>{let v=RQ(),S=QQ(c,{relative:h}),w=o.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&m3.test(c),R=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let j=E.nativeEvent.submitter,Q=j?.getAttribute("formmethod")||o;v(j||E.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:g})};return T.createElement("form",{ref:y,method:w,action:S,onSubmit:i?f:R,...x,"data-discover":!C&&n==="render"?"true":void 0})});AQ.displayName="Form";function CQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p3(n){let e=T.useContext(Wa);return Ue(e,CQ(n)),e}function kQ(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o}={}){let c=vt(),f=wi(),h=fu(n,{relative:a});return T.useCallback(m=>{if(iQ(m,e)){m.preventDefault();let g=t!==void 0?t:Zs(f)===Zs(h);c(n,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[f,c,h,t,i,e,n,s,a,o])}var TQ=0,EQ=()=>`__${String(++TQ)}__`;function RQ(){let{router:n}=p3("useSubmit"),{basename:e}=T.useContext(ds),t=ZR();return T.useCallback(async(i,s={})=>{let{action:a,method:o,encType:c,formData:f,body:h}=aQ(i,e);if(s.navigate===!1){let m=s.fetcherKey||EQ();await n.fetch(m,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function QQ(n,{relative:e}={}){let{basename:t}=T.useContext(ds),i=T.useContext(Vi);Ue(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...fu(n||".",{relative:e})},o=wi();if(n==null){a.search=o.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ls([t,a.pathname])),Zs(a)}function NQ(n,{relative:e}={}){let t=T.useContext(RO);Ue(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=p3("useViewTransitionState"),s=fu(n,{relative:e});if(!t.isTransitioning)return!1;let a=si(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=si(t.nextLocation.pathname,i)||t.nextLocation.pathname;return $h(s.pathname,o)!=null||$h(s.pathname,a)!=null}var jQ=Zw();function MQ(n){return T.createElement(GR,{flushSync:jQ.flushSync,...n})}var bg={exports:{}},yg={};var Fv;function PQ(){if(Fv)return yg;Fv=1;var n=Cd().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return yg.c=function(e){return n.H.useMemoCache(e)},yg}var Kv;function _Q(){return Kv||(Kv=1,bg.exports=PQ()),bg.exports}var Me=_Q();function hu(n){const e=Me.c(4),{navigators:t}=n;let i;e[0]!==t?(i=t.map(DQ),e[0]=t,e[1]=i):i=e[1];let s;return e[2]!==i?(s=p.jsx("nav",{className:"w-full pt-5",children:p.jsx("div",{className:"flex items-center justify-evenly px-8 h-16",children:i})}),e[2]=i,e[3]=s):s=e[3],s}function DQ(n){const{name:e,path:t,icon:i}=n;return p.jsxs(Nd,{to:t,end:t==="",className:$Q,children:[p.jsx("img",{src:i,className:"w-icon h-icon flex-shrink-0",alt:e}),p.jsx("span",{className:"font-medium text-xl",children:e})]},t||"index")}function $Q(n){const{isActive:e}=n;return` flex items-center justify-center gap-3
                px-6 py-3
                rounded-full
                transition
                font-anta text-white
              ${e?"bg-white/15":"bg-transparent hover:bg-white/10"}`}const Pl={USER:"USER",ADMIN:"ADMIN",SUPER_ADMIN:"SUPER_ADMIN"};function $c(n){try{if(!n)return null;const e=n.split(".")[1];if(!e)return null;const t=e.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(t).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));return console.log(JSON.parse(i)),JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}function g3(){return localStorage.getItem("token")}function LQ(){const n=g3();if(!n)return null;const e=$c(n);return e?.role?Pl[e.role]??null:null}function En(){const n=g3();return n?$c(n)?.username??null:null}function zQ(){localStorage.removeItem("token")}function O3(){const n=Me.c(7),{username:e}=fs(),t=En();if(e!==t){const a=`/profile/${e}/overview`;let o;n[0]!==a?(o=p.jsx(Kr,{to:a,replace:!0}),n[0]=a,n[1]=o):o=n[1];let c;n[2]===Symbol.for("react.memo_cache_sentinel")?(c=p.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto custom-scroll",children:p.jsx(Ia,{})}),n[2]=c):c=n[2];let f;return n[3]!==o?(f=p.jsxs("div",{className:"flex flex-col h-screen font-anta",children:[o,c]}),n[3]=o,n[4]=f):f=n[4],f}let i;n[5]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx(hu,{navigators:oU}),n[5]=i):i=n[5];let s;return n[6]===Symbol.for("react.memo_cache_sentinel")?(s=p.jsxs("div",{className:"flex flex-col h-screen font-anta",children:[i,p.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto custom-scroll",children:p.jsx(Ia,{})})]}),n[6]=s):s=n[6],s}function BQ(){const n=Me.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=p.jsxs("div",{className:"flex flex-col min-h-screen font-anta",children:[p.jsx(hu,{navigators:cU}),p.jsx(Ia,{})]}),n[0]=e):e=n[0],e}function ri(n){const e=Me.c(14),{data:t,onRowClick:i,columns:s,renderRow:a,gridCols:o}=n,f=`grid ${o===void 0?"grid-cols-[80px_1fr_2fr_100px_100px_60px]":o} gap-4 bg-sidebar px-6 py-4 border-b border-sidebar items-center`;let h;e[0]!==s?(h=s.map(ZQ),e[0]=s,e[1]=h):h=e[1];let m;e[2]!==f||e[3]!==h?(m=p.jsx("div",{className:f,children:h}),e[2]=f,e[3]=h,e[4]=m):m=e[4];let g;e[5]!==t||e[6]!==i||e[7]!==a?(g=t.length>0?t.map(v=>a(v,()=>i?.(v))):p.jsx("div",{className:"text-center py-12 text-text/50 font-anta",children:"No items found"}),e[5]=t,e[6]=i,e[7]=a,e[8]=g):g=e[8];let x;e[9]!==g?(x=p.jsx("div",{children:g}),e[9]=g,e[10]=x):x=e[10];let y;return e[11]!==m||e[12]!==x?(y=p.jsxs("div",{className:"bg-container rounded-lg overflow-hidden",children:[m,x]}),e[11]=m,e[12]=x,e[13]=y):y=e[13],y}function ZQ(n,e){return p.jsx("span",{className:"text-orange font-anta text-sm text-center",children:n},e)}const Ac={Solved:"solved",Attempted:"attempted",Unsolved:"unsolved"};function UQ(n){switch(n){case Ac.Solved:return"text-statusSolved";case Ac.Attempted:return"text-statusAttempted";case Ac.Unsolved:default:return"text-statusUnsolved"}}const ls={MIN:100,EASY_MAX:900,MEDIUM_MAX:1600,HARD_MAX:2e3};function XQ(n){return n<=ls.EASY_MAX?"text-difficultyEasy":n<=ls.MEDIUM_MAX?"text-difficultyMedium":"text-difficultyHard"}function IQ(n){const e=Me.c(29),{id:t,name:i,tags:s,difficulty:a,solvers:o,status:c,onClick:f,className:h}=n,m=c===void 0?Ac.Unsolved:c,g=h===void 0?"":h;let x;e[0]!==m?(x=UQ(m),e[0]=m,e[1]=x):x=e[1];const y=x;let v;e[2]!==a?(v=XQ(a),e[2]=a,e[3]=v):v=e[3];const S=v,w=`grid grid-cols-[80px_1fr_2fr_100px_100px_60px] gap-4 px-6 py-3 items-center hover:bg-sidebar/20 transition-colors ${g}`;let C;e[4]!==t?(C=p.jsx("span",{className:"text-text text-center font-anta text-sm truncate",children:t}),e[4]=t,e[5]=C):C=e[5];let R;e[6]!==i?(R=p.jsx("span",{className:"text-text text-center font-anta text-sm truncate",children:i}),e[6]=i,e[7]=R):R=e[7];let E;e[8]!==s?(E=s.map(YQ),e[8]=s,e[9]=E):E=e[9];let j;e[10]!==E?(j=p.jsx("div",{className:"flex flex-wrap gap-1",children:E}),e[10]=E,e[11]=j):j=e[11];const Q=`text-center font-anta text-sm ${S}`;let M;e[12]!==a||e[13]!==Q?(M=p.jsx("span",{className:Q,children:a}),e[12]=a,e[13]=Q,e[14]=M):M=e[14];let k;e[15]!==o?(k=p.jsx("span",{className:"text-center font-anta text-sm text-text truncate",children:o}),e[15]=o,e[16]=k):k=e[16];const $=`text-center font-anta text-sm ${y}`,D=m==="solved"?"":m==="attempted"?"~":"-";let L;e[17]!==$||e[18]!==D?(L=p.jsx("span",{className:$,children:D}),e[17]=$,e[18]=D,e[19]=L):L=e[19];let V;return e[20]!==f||e[21]!==M||e[22]!==k||e[23]!==L||e[24]!==w||e[25]!==C||e[26]!==R||e[27]!==j?(V=p.jsxs("div",{onClick:f,className:w,children:[C,R,j,M,k,L]}),e[20]=f,e[21]=M,e[22]=k,e[23]=L,e[24]=w,e[25]=C,e[26]=R,e[27]=j,e[28]=V):V=e[28],V}function YQ(n){return p.jsx("span",{className:"text-xs bg-sidebar/50 text-text/80 px-2 py-0.5 rounded-md truncate",children:n},n)}function x3(n,e){return function(){return n.apply(e,arguments)}}const{toString:VQ}=Object.prototype,{getPrototypeOf:_O}=Object,{iterator:jd,toStringTag:b3}=Symbol,Md=(n=>e=>{const t=VQ.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ms=n=>(n=n.toLowerCase(),e=>Md(e)===n),Pd=n=>e=>typeof e===n,{isArray:co}=Array,Kl=Pd("undefined");function du(n){return n!==null&&!Kl(n)&&n.constructor!==null&&!Kl(n.constructor)&&ti(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const y3=ms("ArrayBuffer");function qQ(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&y3(n.buffer),e}const HQ=Pd("string"),ti=Pd("function"),v3=Pd("number"),mu=n=>n!==null&&typeof n=="object",GQ=n=>n===!0||n===!1,Ah=n=>{if(Md(n)!=="object")return!1;const e=_O(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(b3 in n)&&!(jd in n)},WQ=n=>{if(!mu(n)||du(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},FQ=ms("Date"),KQ=ms("File"),JQ=ms("Blob"),eN=ms("FileList"),tN=n=>mu(n)&&ti(n.pipe),nN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ti(n.append)&&((e=Md(n))==="formdata"||e==="object"&&ti(n.toString)&&n.toString()==="[object FormData]"))},iN=ms("URLSearchParams"),[sN,rN,aN,lN]=["ReadableStream","Request","Response","Headers"].map(ms),oN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),co(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{if(du(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),o=a.length;let c;for(i=0;i<o;i++)c=a[i],e.call(null,n[c],c,n)}}function S3(n,e){if(du(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const _a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,w3=n=>!Kl(n)&&n!==_a;function p0(){const{caseless:n,skipUndefined:e}=w3(this)&&this||{},t={},i=(s,a)=>{const o=n&&S3(t,a)||a;Ah(t[o])&&Ah(s)?t[o]=p0(t[o],s):Ah(s)?t[o]=p0({},s):co(s)?t[o]=s.slice():(!e||!Kl(s))&&(t[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&pu(arguments[s],i);return t}const cN=(n,e,t,{allOwnKeys:i}={})=>(pu(e,(s,a)=>{t&&ti(s)?n[a]=x3(s,t):n[a]=s},{allOwnKeys:i}),n),uN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),fN=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},hN=(n,e,t,i)=>{let s,a,o;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)o=s[a],(!i||i(o,n,e))&&!c[o]&&(e[o]=n[o],c[o]=!0);n=t!==!1&&_O(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},dN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},mN=n=>{if(!n)return null;if(co(n))return n;let e=n.length;if(!v3(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},pN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&_O(Uint8Array)),gN=(n,e)=>{const i=(n&&n[jd]).call(n);let s;for(;(s=i.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},ON=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},xN=ms("HTMLFormElement"),bN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),Jv=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),yN=ms("RegExp"),A3=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};pu(t,(s,a)=>{let o;(o=e(s,a,n))!==!1&&(i[a]=o||s)}),Object.defineProperties(n,i)},vN=n=>{A3(n,(e,t)=>{if(ti(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ti(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},SN=(n,e)=>{const t={},i=s=>{s.forEach(a=>{t[a]=!0})};return co(n)?i(n):i(String(n).split(e)),t},wN=()=>{},AN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function CN(n){return!!(n&&ti(n.append)&&n[b3]==="FormData"&&n[jd])}const kN=n=>{const e=new Array(10),t=(i,s)=>{if(mu(i)){if(e.indexOf(i)>=0)return;if(du(i))return i;if(!("toJSON"in i)){e[s]=i;const a=co(i)?[]:{};return pu(i,(o,c)=>{const f=t(o,s+1);!Kl(f)&&(a[c]=f)}),e[s]=void 0,a}}return i};return t(n,0)},TN=ms("AsyncFunction"),EN=n=>n&&(mu(n)||ti(n))&&ti(n.then)&&ti(n.catch),C3=((n,e)=>n?setImmediate:e?((t,i)=>(_a.addEventListener("message",({source:s,data:a})=>{s===_a&&a===t&&i.length&&i.shift()()},!1),s=>{i.push(s),_a.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ti(_a.postMessage)),RN=typeof queueMicrotask<"u"?queueMicrotask.bind(_a):typeof process<"u"&&process.nextTick||C3,QN=n=>n!=null&&ti(n[jd]),re={isArray:co,isArrayBuffer:y3,isBuffer:du,isFormData:nN,isArrayBufferView:qQ,isString:HQ,isNumber:v3,isBoolean:GQ,isObject:mu,isPlainObject:Ah,isEmptyObject:WQ,isReadableStream:sN,isRequest:rN,isResponse:aN,isHeaders:lN,isUndefined:Kl,isDate:FQ,isFile:KQ,isBlob:JQ,isRegExp:yN,isFunction:ti,isStream:tN,isURLSearchParams:iN,isTypedArray:pN,isFileList:eN,forEach:pu,merge:p0,extend:cN,trim:oN,stripBOM:uN,inherits:fN,toFlatObject:hN,kindOf:Md,kindOfTest:ms,endsWith:dN,toArray:mN,forEachEntry:gN,matchAll:ON,isHTMLForm:xN,hasOwnProperty:Jv,hasOwnProp:Jv,reduceDescriptors:A3,freezeMethods:vN,toObjectSet:SN,toCamelCase:bN,noop:wN,toFiniteNumber:AN,findKey:S3,global:_a,isContextDefined:w3,isSpecCompliantForm:CN,toJSONObject:kN,isAsyncFn:TN,isThenable:EN,setImmediate:C3,asap:RN,isIterable:QN};function ze(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}re.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const k3=ze.prototype,T3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{T3[n]={value:n}});Object.defineProperties(ze,T3);Object.defineProperty(k3,"isAxiosError",{value:!0});ze.from=(n,e,t,i,s,a)=>{const o=Object.create(k3);re.toFlatObject(n,o,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return ze.call(o,c,f,t,i,s),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",a&&Object.assign(o,a),o};const NN=null;function g0(n){return re.isPlainObject(n)||re.isArray(n)}function E3(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function e2(n,e,t){return n?n.concat(e).map(function(s,a){return s=E3(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function jN(n){return re.isArray(n)&&!n.some(g0)}const MN=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function _d(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!re.isUndefined(w[S])});const i=t.metaTokens,s=t.visitor||m,a=t.dots,o=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(re.isDate(v))return v.toISOString();if(re.isBoolean(v))return v.toString();if(!f&&re.isBlob(v))throw new ze("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(v)||re.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,S,w){let C=v;if(v&&!w&&typeof v=="object"){if(re.endsWith(S,"{}"))S=i?S:S.slice(0,-2),v=JSON.stringify(v);else if(re.isArray(v)&&jN(v)||(re.isFileList(v)||re.endsWith(S,"[]"))&&(C=re.toArray(v)))return S=E3(S),C.forEach(function(E,j){!(re.isUndefined(E)||E===null)&&e.append(o===!0?e2([S],j,a):o===null?S:S+"[]",h(E))}),!1}return g0(v)?!0:(e.append(e2(w,S,a),h(v)),!1)}const g=[],x=Object.assign(MN,{defaultVisitor:m,convertValue:h,isVisitable:g0});function y(v,S){if(!re.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(v),re.forEach(v,function(C,R){(!(re.isUndefined(C)||C===null)&&s.call(e,C,re.isString(R)?R.trim():R,S,x))===!0&&y(C,S?S.concat(R):[R])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return y(n),e}function t2(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function DO(n,e){this._pairs=[],n&&_d(n,this,e)}const R3=DO.prototype;R3.append=function(e,t){this._pairs.push([e,t])};R3.toString=function(e){const t=e?function(i){return e.call(this,i,t2)}:t2;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function PN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Q3(n,e,t){if(!e)return n;const i=t&&t.encode||PN;re.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=re.isURLSearchParams(e)?e.toString():new DO(e,t).toString(i),a){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class n2{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(i){i!==null&&e(i)})}}const N3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_N=typeof URLSearchParams<"u"?URLSearchParams:DO,DN=typeof FormData<"u"?FormData:null,$N=typeof Blob<"u"?Blob:null,LN={isBrowser:!0,classes:{URLSearchParams:_N,FormData:DN,Blob:$N},protocols:["http","https","file","blob","url","data"]},$O=typeof window<"u"&&typeof document<"u",O0=typeof navigator=="object"&&navigator||void 0,zN=$O&&(!O0||["ReactNative","NativeScript","NS"].indexOf(O0.product)<0),BN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZN=$O&&window.location.href||"http://localhost",UN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$O,hasStandardBrowserEnv:zN,hasStandardBrowserWebWorkerEnv:BN,navigator:O0,origin:ZN},Symbol.toStringTag,{value:"Module"})),Tn={...UN,...LN};function XN(n,e){return _d(n,new Tn.classes.URLSearchParams,{visitor:function(t,i,s,a){return Tn.isNode&&re.isBuffer(t)?(this.append(i,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function IN(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function YN(n){const e={},t=Object.keys(n);let i;const s=t.length;let a;for(i=0;i<s;i++)a=t[i],e[a]=n[a];return e}function j3(n){function e(t,i,s,a){let o=t[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),f=a>=t.length;return o=!o&&re.isArray(s)?s.length:o,f?(re.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!c):((!s[o]||!re.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],a)&&re.isArray(s[o])&&(s[o]=YN(s[o])),!c)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(i,s)=>{e(IN(i),s,t,0)}),t}return null}function VN(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const gu={transitional:N3,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,a=re.isObject(e);if(a&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return s?JSON.stringify(j3(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return XN(e,this.formSerializer).toString();if((c=re.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return _d(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),VN(e)):e}],transformResponse:[function(e){const t=this.transitional||gu.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?ze.from(c,ze.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{gu.headers[n]={}});const qN=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HN=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&qN[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},i2=Symbol("internals");function lc(n){return n&&String(n).trim().toLowerCase()}function Ch(n){return n===!1||n==null?n:re.isArray(n)?n.map(Ch):String(n)}function GN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const WN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function vg(n,e,t,i,s){if(re.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!re.isString(e)){if(re.isString(i))return e.indexOf(i)!==-1;if(re.isRegExp(i))return i.test(e)}}function FN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function KN(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,a,o){return this[i].call(this,e,s,a,o)},configurable:!0})})}let ni=class{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function a(c,f,h){const m=lc(f);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(s,m);(!g||s[g]===void 0||h===!0||h===void 0&&s[g]!==!1)&&(s[g||f]=Ch(c))}const o=(c,f)=>re.forEach(c,(h,m)=>a(h,m,f));if(re.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(re.isString(e)&&(e=e.trim())&&!WN(e))o(HN(e),t);else if(re.isObject(e)&&re.isIterable(e)){let c={},f,h;for(const m of e){if(!re.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(f=c[h])?re.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}o(c,t)}else e!=null&&a(t,e,i);return this}get(e,t){if(e=lc(e),e){const i=re.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return GN(s);if(re.isFunction(t))return t.call(this,s,i);if(re.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lc(e),e){const i=re.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||vg(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function a(o){if(o=lc(o),o){const c=re.findKey(i,o);c&&(!t||vg(i,i[c],c,t))&&(delete i[c],s=!0)}}return re.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const a=t[i];(!e||vg(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,i={};return re.forEach(this,(s,a)=>{const o=re.findKey(i,a);if(o){t[o]=Ch(s),delete t[a];return}const c=e?FN(a):String(a).trim();c!==a&&delete t[a],t[c]=Ch(s),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&re.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[i2]=this[i2]={accessors:{}}).accessors,s=this.prototype;function a(o){const c=lc(o);i[c]||(KN(s,o),i[c]=!0)}return re.isArray(e)?e.forEach(a):a(e),this}};ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(ni.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});re.freezeMethods(ni);function Sg(n,e){const t=this||gu,i=e||t,s=ni.from(i.headers);let a=i.data;return re.forEach(n,function(c){a=c.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function M3(n){return!!(n&&n.__CANCEL__)}function uo(n,e,t){ze.call(this,n??"canceled",ze.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(uo,ze,{__CANCEL__:!0});function P3(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new ze("Request failed with status code "+t.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function JN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ej(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),m=i[a];o||(o=h),t[s]=f,i[s]=h;let g=a,x=0;for(;g!==s;)x+=t[g++],g=g%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),h-o<e)return;const y=m&&h-m;return y?Math.round(x*1e3/y):void 0}}function tj(n,e){let t=0,i=1e3/e,s,a;const o=(h,m=Date.now())=>{t=m,s=null,a&&(clearTimeout(a),a=null),n(...h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=i?o(h,m):(s=h,a||(a=setTimeout(()=>{a=null,o(s)},i-g)))},()=>s&&o(s)]}const Bh=(n,e,t=3)=>{let i=0;const s=ej(50,250);return tj(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,f=o-i,h=s(f),m=o<=c;i=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:f,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(g)},t)},s2=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},r2=n=>(...e)=>re.asap(()=>n(...e)),nj=Tn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Tn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Tn.origin),Tn.navigator&&/(msie|trident)/i.test(Tn.navigator.userAgent)):()=>!0,ij=Tn.hasStandardBrowserEnv?{write(n,e,t,i,s,a,o){if(typeof document>"u")return;const c=[`${n}=${encodeURIComponent(e)}`];re.isNumber(t)&&c.push(`expires=${new Date(t).toUTCString()}`),re.isString(i)&&c.push(`path=${i}`),re.isString(s)&&c.push(`domain=${s}`),a===!0&&c.push("secure"),re.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function rj(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function _3(n,e,t){let i=!sj(e);return n&&(i||t==!1)?rj(n,e):e}const a2=n=>n instanceof ni?{...n}:n;function Va(n,e){e=e||{};const t={};function i(h,m,g,x){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:x},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function s(h,m,g,x){if(re.isUndefined(m)){if(!re.isUndefined(h))return i(void 0,h,g,x)}else return i(h,m,g,x)}function a(h,m){if(!re.isUndefined(m))return i(void 0,m)}function o(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return i(void 0,h)}else return i(void 0,m)}function c(h,m,g){if(g in e)return i(h,m);if(g in n)return i(void 0,h)}const f={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,g)=>s(a2(h),a2(m),g,!0)};return re.forEach(Object.keys({...n,...e}),function(m){const g=f[m]||s,x=g(n[m],e[m],m);re.isUndefined(x)&&g!==c||(t[m]=x)}),t}const D3=n=>{const e=Va({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:c}=e;if(e.headers=o=ni.from(o),e.url=Q3(_3(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),re.isFormData(t)){if(Tn.hasStandardBrowserEnv||Tn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(re.isFunction(t.getHeaders)){const f=t.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([m,g])=>{h.includes(m.toLowerCase())&&o.set(m,g)})}}if(Tn.hasStandardBrowserEnv&&(i&&re.isFunction(i)&&(i=i(e)),i||i!==!1&&nj(e.url))){const f=s&&a&&ij.read(a);f&&o.set(s,f)}return e},aj=typeof XMLHttpRequest<"u",lj=aj&&function(n){return new Promise(function(t,i){const s=D3(n);let a=s.data;const o=ni.from(s.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:h}=s,m,g,x,y,v;function S(){y&&y(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function C(){if(!w)return;const E=ni.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),Q={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:n,request:w};P3(function(k){t(k),S()},function(k){i(k),S()},Q),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(i(new ze("Request aborted",ze.ECONNABORTED,n,w)),w=null)},w.onerror=function(j){const Q=j&&j.message?j.message:"Network Error",M=new ze(Q,ze.ERR_NETWORK,n,w);M.event=j||null,i(M),w=null},w.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Q=s.transitional||N3;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),i(new ze(j,Q.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,n,w)),w=null},a===void 0&&o.setContentType(null),"setRequestHeader"in w&&re.forEach(o.toJSON(),function(j,Q){w.setRequestHeader(Q,j)}),re.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),c&&c!=="json"&&(w.responseType=s.responseType),h&&([x,v]=Bh(h,!0),w.addEventListener("progress",x)),f&&w.upload&&([g,y]=Bh(f),w.upload.addEventListener("progress",g),w.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(m=E=>{w&&(i(!E||E.type?new uo(null,n,w):E),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const R=JN(s.url);if(R&&Tn.protocols.indexOf(R)===-1){i(new ze("Unsupported protocol "+R+":",ze.ERR_BAD_REQUEST,n));return}w.send(a||null)})},oj=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const a=function(h){if(!s){s=!0,c();const m=h instanceof Error?h:this.reason;i.abort(m instanceof ze?m:new uo(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,a(new ze(`timeout ${e} of ms exceeded`,ze.ETIMEDOUT))},e);const c=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:f}=i;return f.unsubscribe=()=>re.asap(c),f}},cj=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},uj=async function*(n,e){for await(const t of fj(n))yield*cj(t,e)},fj=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},l2=(n,e,t,i)=>{const s=uj(n,e);let a=0,o,c=f=>{o||(o=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:h,value:m}=await s.next();if(h){c(),f.close();return}let g=m.byteLength;if(t){let x=a+=g;t(x)}f.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(f){return c(f),s.return()}},{highWaterMark:2})},o2=64*1024,{isFunction:Yf}=re,hj=(({Request:n,Response:e})=>({Request:n,Response:e}))(re.global),{ReadableStream:c2,TextEncoder:u2}=re.global,f2=(n,...e)=>{try{return!!n(...e)}catch{return!1}},dj=n=>{n=re.merge.call({skipUndefined:!0},hj,n);const{fetch:e,Request:t,Response:i}=n,s=e?Yf(e):typeof fetch=="function",a=Yf(t),o=Yf(i);if(!s)return!1;const c=s&&Yf(c2),f=s&&(typeof u2=="function"?(v=>S=>v.encode(S))(new u2):async v=>new Uint8Array(await new t(v).arrayBuffer())),h=a&&c&&f2(()=>{let v=!1;const S=new t(Tn.origin,{body:new c2,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!S}),m=o&&c&&f2(()=>re.isReadableStream(new i("").body)),g={stream:m&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(S,w)=>{let C=S&&S[v];if(C)return C.call(S);throw new ze(`Response type '${v}' is not supported`,ze.ERR_NOT_SUPPORT,w)})});const x=async v=>{if(v==null)return 0;if(re.isBlob(v))return v.size;if(re.isSpecCompliantForm(v))return(await new t(Tn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(re.isArrayBufferView(v)||re.isArrayBuffer(v))return v.byteLength;if(re.isURLSearchParams(v)&&(v=v+""),re.isString(v))return(await f(v)).byteLength},y=async(v,S)=>{const w=re.toFiniteNumber(v.getContentLength());return w??x(S)};return async v=>{let{url:S,method:w,data:C,signal:R,cancelToken:E,timeout:j,onDownloadProgress:Q,onUploadProgress:M,responseType:k,headers:$,withCredentials:D="same-origin",fetchOptions:L}=D3(v),V=e||fetch;k=k?(k+"").toLowerCase():"text";let z=oj([R,E&&E.toAbortSignal()],j),I=null;const H=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let F;try{if(M&&h&&w!=="get"&&w!=="head"&&(F=await y($,C))!==0){let _=new t(S,{method:"POST",body:C,duplex:"half"}),X;if(re.isFormData(C)&&(X=_.headers.get("content-type"))&&$.setContentType(X),_.body){const[te,ce]=s2(F,Bh(r2(M)));C=l2(_.body,o2,te,ce)}}re.isString(D)||(D=D?"include":"omit");const P=a&&"credentials"in t.prototype,Z={...L,signal:z,method:w.toUpperCase(),headers:$.normalize().toJSON(),body:C,duplex:"half",credentials:P?D:void 0};I=a&&new t(S,Z);let K=await(a?V(I,L):V(S,Z));const ie=m&&(k==="stream"||k==="response");if(m&&(Q||ie&&H)){const _={};["status","statusText","headers"].forEach(me=>{_[me]=K[me]});const X=re.toFiniteNumber(K.headers.get("content-length")),[te,ce]=Q&&s2(X,Bh(r2(Q),!0))||[];K=new i(l2(K.body,o2,te,()=>{ce&&ce(),H&&H()}),_)}k=k||"text";let le=await g[re.findKey(g,k)||"text"](K,v);return!ie&&H&&H(),await new Promise((_,X)=>{P3(_,X,{data:le,headers:ni.from(K.headers),status:K.status,statusText:K.statusText,config:v,request:I})})}catch(P){throw H&&H(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,v,I),{cause:P.cause||P}):ze.from(P,P&&P.code,v,I)}}},mj=new Map,$3=n=>{let e=n&&n.env||{};const{fetch:t,Request:i,Response:s}=e,a=[i,s,t];let o=a.length,c=o,f,h,m=mj;for(;c--;)f=a[c],h=m.get(f),h===void 0&&m.set(f,h=c?new Map:dj(e)),m=h;return h};$3();const LO={http:NN,xhr:lj,fetch:{get:$3}};re.forEach(LO,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const h2=n=>`- ${n}`,pj=n=>re.isFunction(n)||n===null||n===!1;function gj(n,e){n=re.isArray(n)?n:[n];const{length:t}=n;let i,s;const a={};for(let o=0;o<t;o++){i=n[o];let c;if(s=i,!pj(i)&&(s=LO[(c=String(i)).toLowerCase()],s===void 0))throw new ze(`Unknown adapter '${c}'`);if(s&&(re.isFunction(s)||(s=s.get(e))))break;a[c||"#"+o]=s}if(!s){const o=Object.entries(a).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(h2).join(`
`):" "+h2(o[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const L3={getAdapter:gj,adapters:LO};function wg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new uo(null,n)}function d2(n){return wg(n),n.headers=ni.from(n.headers),n.data=Sg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),L3.getAdapter(n.adapter||gu.adapter,n)(n).then(function(i){return wg(n),i.data=Sg.call(n,n.transformResponse,i),i.headers=ni.from(i.headers),i},function(i){return M3(i)||(wg(n),i&&i.response&&(i.response.data=Sg.call(n,n.transformResponse,i.response),i.response.headers=ni.from(i.response.headers))),Promise.reject(i)})}const z3="1.13.2",Dd={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Dd[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const m2={};Dd.transitional=function(e,t,i){function s(a,o){return"[Axios v"+z3+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return(a,o,c)=>{if(e===!1)throw new ze(s(o," has been removed"+(t?" in "+t:"")),ze.ERR_DEPRECATED);return t&&!m2[o]&&(m2[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,c):!0}};Dd.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Oj(n,e,t){if(typeof n!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const a=i[s],o=e[a];if(o){const c=n[a],f=c===void 0||o(c,a,n);if(f!==!0)throw new ze("option "+a+" must be "+f,ze.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ze("Unknown option "+a,ze.ERR_BAD_OPTION)}}const kh={assertOptions:Oj,validators:Dd},Ts=kh.validators;let za=class{constructor(e){this.defaults=e||{},this.interceptors={request:new n2,response:new n2}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Va(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:a}=t;i!==void 0&&kh.assertOptions(i,{silentJSONParsing:Ts.transitional(Ts.boolean),forcedJSONParsing:Ts.transitional(Ts.boolean),clarifyTimeoutError:Ts.transitional(Ts.boolean)},!1),s!=null&&(re.isFunction(s)?t.paramsSerializer={serialize:s}:kh.assertOptions(s,{encode:Ts.function,serialize:Ts.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kh.assertOptions(t,{baseUrl:Ts.spelling("baseURL"),withXsrfToken:Ts.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&re.merge(a.common,a[t.method]);a&&re.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),t.headers=ni.concat(o,a);const c=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(f=f&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let m,g=0,x;if(!f){const v=[d2.bind(this),void 0];for(v.unshift(...c),v.push(...h),x=v.length,m=Promise.resolve(t);g<x;)m=m.then(v[g++],v[g++]);return m}x=c.length;let y=t;for(;g<x;){const v=c[g++],S=c[g++];try{y=v(y)}catch(w){S.call(this,w);break}}try{m=d2.call(this,y)}catch(v){return Promise.reject(v)}for(g=0,x=h.length;g<x;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=Va(this.defaults,e);const t=_3(e.baseURL,e.url,e.allowAbsoluteUrls);return Q3(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){za.prototype[e]=function(t,i){return this.request(Va(i||{},{method:e,url:t,data:(i||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(i){return function(a,o,c){return this.request(Va(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}za.prototype[e]=t(),za.prototype[e+"Form"]=t(!0)});let xj=class B3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(c=>{i.subscribe(c),a=c}).then(s);return o.cancel=function(){i.unsubscribe(a)},o},e(function(a,o,c){i.reason||(i.reason=new uo(a,o,c),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new B3(function(s){e=s}),cancel:e}}};function bj(n){return function(t){return n.apply(null,t)}}function yj(n){return re.isObject(n)&&n.isAxiosError===!0}const x0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(x0).forEach(([n,e])=>{x0[e]=n});function Z3(n){const e=new za(n),t=x3(za.prototype.request,e);return re.extend(t,za.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Z3(Va(n,s))},t}const Yt=Z3(gu);Yt.Axios=za;Yt.CanceledError=uo;Yt.CancelToken=xj;Yt.isCancel=M3;Yt.VERSION=z3;Yt.toFormData=_d;Yt.AxiosError=ze;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=bj;Yt.isAxiosError=yj;Yt.mergeConfig=Va;Yt.AxiosHeaders=ni;Yt.formToJSON=n=>j3(re.isHTMLForm(n)?new FormData(n):n);Yt.getAdapter=L3.getAdapter;Yt.HttpStatusCode=x0;Yt.default=Yt;const{Axios:RU,AxiosError:QU,CanceledError:NU,isCancel:jU,CancelToken:MU,VERSION:PU,all:_U,Cancel:DU,isAxiosError:$U,spread:LU,toFormData:zU,AxiosHeaders:BU,HttpStatusCode:ZU,formToJSON:UU,getAdapter:XU,mergeConfig:IU}=Yt,$d="https://fugally-nonrepatriable-belle.ngrok-free.dev",U3=Yt.create({baseURL:$d,timeout:1e4,headers:{"ngrok-skip-browser-warning":"true"}});U3.interceptors.request.use(n=>{const e=localStorage.getItem("token");return e&&e!=="undefined"&&n.headers&&!n.url?.includes("/auth")&&(n.headers.Authorization=`Bearer ${e}`),n});const vj=n=>{if(console.error("API Call Failed:",n),n.response){const e=n.response.data;if(typeof e=="string")throw e;if(typeof e=="object"&&e!==null){if(typeof e.error=="string")throw e.error;if(typeof e.message=="string")throw e.message}throw"Unknown server error"}throw n.request?"Network error. Server is unreachable.":n.message},Qe=async n=>{try{return(await U3.request(n)).data}catch(e){throw vj(e)}};async function Sj(n=0,e=20){return Qe({method:"GET",url:"/problem/browse",params:{page:n,size:e}})}async function wj(n=[],e,t,i=0,s=20){const a={tags:n};return e!==void 0&&(a.minRate=e),t!==void 0&&(a.maxRate=t),Qe({method:"POST",url:"/problem/browse/filter",data:a,params:{page:i,size:s}})}async function Aj(n,e=0,t=20){return Qe({method:"GET",url:"/problem/search",params:{keyword:n,page:e,size:t}})}async function X3(n){return Qe({method:"GET",url:`/problem/${n}`})}async function Cj(n){return Qe({method:"GET",url:`/problem/draft/${n}`})}async function kj(n,e,t){if(!n||!e||!t)throw new Error("Missing required problem data or test cases.");const i=t.map(f=>f.visible??!0),s={id:n.id,title:e.title||"Untitled Problem",inputFormat:e.inputFormat||"",outputFormat:e.outputFormat||"",statement:e.statement||"",notes:e.notes||"",mainSolution:n.solutionCode||"",solutionLanguage:n.solutionLang,timeLimit:n.timeLimit,memoryLimit:n.memoryLimit,rate:n.rating,tags:n.topics,visibleFlags:i},a=t.map((f,h)=>{const m=new Blob([f.input||""],{type:"text/plain"});return new File([m],`testcase_${h+1}.txt`,{type:"text/plain"})}),o=new FormData,c=new Blob([JSON.stringify(s)],{type:"application/json"});o.append("problem",c,"problem.json"),a.forEach(f=>{o.append("testcases",f)}),console.log(" Sending request..."),await Qe({method:"POST",url:"/problem/suggest",data:o}),console.log(" Request sent successfully"),localStorage.removeItem("problem_info_draft"),localStorage.removeItem("problem_statement_draft"),localStorage.removeItem("problem_testcases_draft")}async function Tj(n,e,t,i,s){return Qe({method:"POST",url:"/problem/run-test-cases",data:{stdin:n,sourceCode:e,language:t,timeLimit:i,memoryLimit:s}})}async function Ej(n=0,e=20,t=null){const i={page:n,size:e};return t&&(i.status=t),Qe({method:"GET",url:"/problem/my-suggestions",params:i})}const Ze={IMPLEMENTATION:"IMPLEMENTATION",MATH:"MATH",GREEDY:"GREEDY",TWO_POINTERS:"TWO_POINTERS",STRINGS:"STRINGS",SORTING:"SORTING",DATA_STRUCTURES:"DATA_STRUCTURES",GRAPH_THEORY:"GRAPH_THEORY",DP:"DP",BRUTE_FORCE:"BRUTE_FORCE",BINARY_SEARCH:"BINARY_SEARCH",TREES:"TREES",DFS_AND_SIMILAR:"DFS_AND_SIMILAR",BFS:"BFS",COMBINATORICS:"COMBINATORICS",GEOMETRY:"GEOMETRY",HASHING:"HASHING",DSU:"DSU",HEAPS:"HEAPS"},I3={[Ze.IMPLEMENTATION]:"Implementation",[Ze.MATH]:"Math",[Ze.GREEDY]:"Greedy",[Ze.TWO_POINTERS]:"Two pointers",[Ze.STRINGS]:"Strings",[Ze.SORTING]:"Sorting",[Ze.DATA_STRUCTURES]:"Data structures",[Ze.GRAPH_THEORY]:"Graph theory",[Ze.DP]:"Dp",[Ze.BRUTE_FORCE]:"Brute force",[Ze.BINARY_SEARCH]:"Binary search",[Ze.TREES]:"Trees",[Ze.DFS_AND_SIMILAR]:"Dfs and similar",[Ze.BFS]:"Bfs",[Ze.COMBINATORICS]:"Combinatorics",[Ze.GEOMETRY]:"Geometry",[Ze.HASHING]:"Hashing",[Ze.DSU]:"Dsu",[Ze.HEAPS]:"Heaps"},Rj={Implementation:Ze.IMPLEMENTATION,Math:Ze.MATH,Greedy:Ze.GREEDY,"Two pointers":Ze.TWO_POINTERS,Strings:Ze.STRINGS,Sorting:Ze.SORTING,"Data structures":Ze.DATA_STRUCTURES,"Graph theory":Ze.GRAPH_THEORY,Dp:Ze.DP,"Brute force":Ze.BRUTE_FORCE,"Binary search":Ze.BINARY_SEARCH,Trees:Ze.TREES,"Dfs and similar":Ze.DFS_AND_SIMILAR,Bfs:Ze.BFS,Combinatorics:Ze.COMBINATORICS,Geometry:Ze.GEOMETRY,Hashing:Ze.HASHING,Dsu:Ze.DSU,Heaps:Ze.HEAPS},Qj=Object.values(Ze).map(n=>I3[n]);function Nj(n){return n.map(e=>Rj[e]).filter(Boolean)}function p2(n){return{id:n.id,name:n.title,tags:n.tags.map(e=>I3[e]??e),difficulty:n.rate,solvers:n.submissionsCount,status:Ac.Unsolved}}const jj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),g2=n=>{const e=Mj(n);return e.charAt(0).toUpperCase()+e.slice(1)},Y3=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Pj=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dj=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...c},f)=>T.createElement("svg",{ref:f,..._j,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Y3("lucide",s),...!a&&!Pj(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,m])=>T.createElement(h,m)),...Array.isArray(a)?a:[a]]));const Rn=(n,e)=>{const t=T.forwardRef(({className:i,...s},a)=>T.createElement(Dj,{ref:a,iconNode:e,className:Y3(`lucide-${jj(g2(n))}`,`lucide-${n}`,i),...s}));return t.displayName=g2(n),t};const $j=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lj=Rn("camera",$j);const zj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bj=Rn("check",zj);const Zj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zO=Rn("chevron-down",Zj);const Uj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xj=Rn("chevron-up",Uj);const Ij=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yj=Rn("eye-off",Ij);const Vj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qj=Rn("eye",Vj);const Hj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Gj=Rn("play",Hj);const Wj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V3=Rn("plus",Wj);const Fj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q3=Rn("search",Fj);const Kj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],H3=Rn("sparkles",Kj);const Jj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eM=Rn("trash-2",Jj);const tM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nM=Rn("upload",tM);const iM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sM=Rn("user-plus",iM);const rM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],O2=Rn("wifi-off",rM);const aM=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ag=Rn("wifi",aM);const lM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lc=Rn("x",lM);function oM(n){const e=Me.c(42),{label:t,options:i,value:s,onChange:a,width:o}=n,c=o===void 0?"w-52":o,[f,h]=T.useState(!1),[m,g]=T.useState(""),x=T.useRef(null);let y;e[0]!==i||e[1]!==m||e[2]!==s?(y=[...s.filter(Z=>i.includes(Z)),...i.filter(Z=>!s.includes(Z))].filter(Z=>Z.toLowerCase().includes(m.toLowerCase())),e[0]=i,e[1]=m,e[2]=s,e[3]=y):y=e[3];const v=y;let S,w;e[4]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{const P=Z=>{x.current&&!x.current.contains(Z.target)&&(h(!1),g(""))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},w=[],e[4]=S,e[5]=w):(S=e[4],w=e[5]),T.useEffect(S,w);let C;e[6]!==a||e[7]!==s?(C=P=>{s.includes(P)?a(s.filter(Z=>Z!==P)):a([P,...s])},e[6]=a,e[7]=s,e[8]=C):C=e[8];const R=C;let E;e[9]!==v||e[10]!==a||e[11]!==s?(E=P=>{if(P.key!=="Enter"||v.length===0)return;const Z=v[0];s.includes(Z)||a([Z,...s]),g("")},e[9]=v,e[10]=a,e[11]=s,e[12]=E):E=e[12];const j=E;let Q;e[13]!==t?(Q=p.jsx("span",{className:"text-text font-anta text-sm whitespace-nowrap",children:t}),e[13]=t,e[14]=Q):Q=e[14];let M;e[15]!==f?(M=()=>h(!f),e[15]=f,e[16]=M):M=e[16];const k=`${c} bg-container text-text/50 px-4 py-3 rounded-xl border border-sidebar/30 
          hover:border-orange/50 transition-colors font-anta flex items-center gap-2 justify-between truncate`;let $;e[17]!==s?($=s.length>0?s.join(", "):"Select tags",e[17]=s,e[18]=$):$=e[18];let D;e[19]!==$?(D=p.jsx("span",{className:"text-sm truncate",children:$}),e[19]=$,e[20]=D):D=e[20];const L=`w-4 h-4 transition-transform ${f?"rotate-180":""}`;let V;e[21]!==L?(V=p.jsx(zO,{className:L}),e[21]=L,e[22]=V):V=e[22];let z;e[23]!==D||e[24]!==V||e[25]!==M||e[26]!==k?(z=p.jsxs("button",{onClick:M,className:k,children:[D,V]}),e[23]=D,e[24]=V,e[25]=M,e[26]=k,e[27]=z):z=e[27];let I;e[28]!==v||e[29]!==j||e[30]!==f||e[31]!==m||e[32]!==R||e[33]!==s||e[34]!==c?(I=f&&p.jsxs("div",{className:`${c} absolute top-full mt-2 bg-sidebar border border-sidebar/40 
            rounded-xl z-50 shadow-lg max-h-64 overflow-y-auto custom-scroll`,children:[p.jsx("div",{className:"px-3 py-2 bg-sidebar border-b border-container",children:p.jsx("input",{className:"w-full bg-sidebar text-text placeholder-text/40 px-2 py-1 rounded-md font-anta text-sm",placeholder:"Type to filter",value:m,onChange:P=>g(P.target.value),onKeyDown:j})}),v.map(P=>{const Z=s.includes(P);return p.jsxs("button",{onClick:()=>R(P),className:`w-full text-left px-3 py-2 transition-colors font-anta text-sm flex items-center justify-between truncate
                    ${Z?"bg-orange/20 text-orange":"text-text hover:bg-sidebar"}
                  `,children:[p.jsx("span",{className:"truncate",children:P}),Z&&p.jsx("span",{className:"text-orange font-bold",children:""})]},P)})]}),e[28]=v,e[29]=j,e[30]=f,e[31]=m,e[32]=R,e[33]=s,e[34]=c,e[35]=I):I=e[35];let H;e[36]!==z||e[37]!==I?(H=p.jsxs("div",{className:"relative",children:[z,I]}),e[36]=z,e[37]=I,e[38]=H):H=e[38];let F;return e[39]!==H||e[40]!==Q?(F=p.jsxs("div",{className:"flex items-center gap-4",ref:x,children:[Q,H]}),e[39]=H,e[40]=Q,e[41]=F):F=e[41],F}function cM(n){const e=Me.c(24),{min:t,max:i,onMinChange:s,onMaxChange:a}=n,o=uM;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=(j,Q)=>{j.key==="Enter"&&(Q(o(Number(j.currentTarget.value))),j.currentTarget.blur())},e[0]=c):c=e[0];const f=c;let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx("span",{className:"text-text font-anta text-sm whitespace-nowrap",children:"Pick Difficulty"}),e[1]=h):h=e[1];let m,g,x;e[2]!==s?(m=j=>s(Number(j.target.value)),g=j=>s(o(Number(j.target.value))),x=j=>f(j,s),e[2]=s,e[3]=m,e[4]=g,e[5]=x):(m=e[3],g=e[4],x=e[5]);let y;e[6]!==t||e[7]!==m||e[8]!==g||e[9]!==x?(y=p.jsx("input",{type:"number",value:t,onChange:m,onBlur:g,onKeyDown:x,placeholder:"min",className:"bg-container text-text placeholder-text/50 px-3 py-2 rounded-xl border border-sidebar/30 focus:outline-none focus:border-orange/50 transition-colors font-anta text-sm w-24 text-center"}),e[6]=t,e[7]=m,e[8]=g,e[9]=x,e[10]=y):y=e[10];let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=p.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-orange/30 to-orange rounded-full"}),e[11]=v):v=e[11];let S,w,C;e[12]!==a?(w=j=>a(Number(j.target.value)),C=j=>a(o(Number(j.target.value))),S=j=>f(j,a),e[12]=a,e[13]=S,e[14]=w,e[15]=C):(S=e[13],w=e[14],C=e[15]);let R;e[16]!==i||e[17]!==S||e[18]!==w||e[19]!==C?(R=p.jsx("input",{type:"number",value:i,onChange:w,onBlur:C,onKeyDown:S,placeholder:"max",className:"bg-container text-text placeholder-text/50 px-3 py-2 rounded-xl border border-sidebar/30 focus:outline-none focus:border-orange/50 transition-colors font-anta text-sm w-24 text-center"}),e[16]=i,e[17]=S,e[18]=w,e[19]=C,e[20]=R):R=e[20];let E;return e[21]!==R||e[22]!==y?(E=p.jsxs("div",{className:"flex items-center gap-4",children:[h,p.jsxs("div",{className:"flex items-center gap-1",children:[y,v,R]})]}),e[21]=R,e[22]=y,e[23]=E):E=e[23],E}function uM(n){if(!n)return ls.MIN;let e=n;return e<ls.MIN&&(e=ls.MIN),e>ls.HARD_MAX&&(e=ls.HARD_MAX),e}function Zh(n){const e=Me.c(9),{value:t,onChange:i,placeholder:s}=n,a=s===void 0?"Search by problem name":s;let o;e[0]!==i?(o=m=>i(m.target.value),e[0]=i,e[1]=o):o=e[1];let c;e[2]!==a||e[3]!==o||e[4]!==t?(c=p.jsx("input",{type:"text",value:t,onChange:o,placeholder:a,className:"w-full bg-transparent text-text/50 placeholder-text/50 px-4 py-3 pr-10 rounded-xl border border-size/30 focus:outline-none transition-colors font-anta"}),e[2]=a,e[3]=o,e[4]=t,e[5]=c):c=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx(q3,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-text/50 w-5 h-5"}),e[6]=f):f=e[6];let h;return e[7]!==c?(h=p.jsxs("div",{className:"relative w-full",children:[c,f]}),e[7]=c,e[8]=h):h=e[8],h}const ps=n=>{const e=Me.c(11),{loadingMessage:t}=n,i=t===void 0?"Loading":t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=p.jsxs("linearGradient",{id:"paint0_linear_2385_17",x1:"63",y1:"23",x2:"63",y2:"36",gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#4F5869"}),p.jsx("stop",{offset:"1",stopColor:"#9CADCF"})]}),e[0]=s):s=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=p.jsxs("linearGradient",{id:"paint1_linear_2385_17",x1:"146.436",y1:"6.76953",x2:"146.436",y2:"55.7852",gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#4F5869"}),p.jsx("stop",{offset:"1",stopColor:"#9CADCF"})]}),e[1]=a):a=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=p.jsxs("linearGradient",{id:"paint2_linear_2385_17",x1:"185.5",y1:"7",x2:"185.5",y2:"54",gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#4F5869"}),p.jsx("stop",{offset:"1",stopColor:"#9CADCF"})]}),e[2]=o):o=e[2];let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=p.jsx("stop",{offset:"0%",stopColor:"transparent",children:p.jsx("animate",{attributeName:"offset",values:"0;1",dur:"1s",repeatCount:"indefinite"})}),e[3]=c):c=e[3];let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx("stop",{offset:"50%",stopColor:"rgba(255,255,255,0.4)",children:p.jsx("animate",{attributeName:"offset",values:"0.5;1.5",dur:"1s",repeatCount:"indefinite"})}),e[4]=f):f=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx("div",{className:"mb-5 fade-in-scale elegant-glow",children:p.jsxs("svg",{width:"300",height:"100",viewBox:"0 0 207 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsxs("defs",{children:[s,a,o,p.jsxs("linearGradient",{id:"shimmerGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c,f,p.jsx("stop",{offset:"100%",stopColor:"transparent",children:p.jsx("animate",{attributeName:"offset",values:"1;2",dur:"1s",repeatCount:"indefinite"})})]})]}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:p.jsx("path",{d:"M23 38H36.3726C45.3808 55.132 64.6853 44.0007 66.7749 39.2433L75 46.3621C68.2692 58.9166 29.6603 64.9275 23 38Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.05s backwards"},children:p.jsx("path",{d:"M65.0421 18.2669L73 10.2199C61.7476 -3.91188 27.231 -6.56321 23 23H35.4625C40.755 6.26912 58.1143 10.2199 65.0421 18.2669Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s backwards"},children:p.jsx("path",{d:"M75 38H88.1154C96.9504 55.132 115.884 44.0007 117.933 39.2433L126 46.3621C119.399 58.9166 81.5322 64.9275 75 38Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s backwards"},children:p.jsx("path",{d:"M116.201 18.2669L124 10.2199C112.973 -3.91188 79.1463 -6.56321 75 23H87.2132C92.3999 6.26912 109.412 10.2199 116.201 18.2669Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s backwards"},children:p.jsx("path",{d:"M117.892 30.7718H25.6263C24.9629 30.7718 24.4251 30.234 24.4251 29.5706C24.4251 28.9073 24.9629 28.3695 25.6263 28.3695H116.894C117.514 28.3695 118.074 28.0017 118.32 27.4333C118.765 26.4069 118.013 25.2608 116.894 25.2608H10.6569C9.8725 25.2608 9.11925 25.568 8.55861 26.1167L7.58121 27.0733C6.37899 28.2499 6.37899 30.1848 7.58121 31.3614L8.55861 32.318C9.11925 32.8666 9.8725 33.1739 10.6569 33.1739H116.501C117.282 33.1739 117.915 33.8065 117.915 34.5869C117.915 35.3674 117.282 36 116.501 36H9.02642C8.31055 36 7.61827 35.744 7.07462 35.2783L2.77705 31.5965C1.34001 30.3653 1.38775 28.1275 2.87599 26.9588L7.10137 23.6406C7.62983 23.2256 8.28231 23 8.95424 23H119.429C122 23 123.379 26.0226 121.695 27.9652L120.159 29.737C119.589 30.3943 118.762 30.7718 117.892 30.7718Z",fill:"url(#paint0_linear_2385_17)",stroke:"url(#shimmerGradient)",strokeWidth:"1"})}),p.jsx("g",{style:{animation:"slideInRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.25s backwards"},children:p.jsx("path",{d:"M150.864 24.7275H169.404L161.407 37.9365H150.864V55.7852L140.299 48.9658V37.7666C140.185 37.7945 140.065 37.8109 139.942 37.8096L126.44 37.6621C124.102 37.6363 122.691 35.0639 123.926 33.0781L128.237 26.1436C128.785 25.2631 129.748 24.7276 130.785 24.7275H140.06C140.141 24.7275 140.221 24.7359 140.299 24.75V13.042L150.864 6.76953V24.7275ZM140.299 27.3711C140.221 27.3852 140.141 27.3945 140.06 27.3945H132.355C131.339 27.3946 130.392 27.9091 129.839 28.7617L128.77 30.4102C127.466 32.4193 128.927 35.0698 131.321 35.042L139.941 34.9414C140.065 34.94 140.184 34.9545 140.299 34.9824V27.3711Z",fill:"url(#paint1_linear_2385_17)",stroke:"url(#shimmerGradient)",strokeWidth:"1"})}),p.jsx("g",{style:{animation:"slideInRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s backwards"},children:p.jsx("path",{d:"M191.283 25.9548H207L199.29 38.14H191.283V54L180.903 47.6173V38.14H164L172.106 25.3745H180.903V13.0927L191.283 7V25.9548Z",fill:"url(#paint2_linear_2385_17)",stroke:"url(#shimmerGradient)",strokeWidth:"1"})})]})}),e[5]=h):h=e[5];let m;e[6]!==i?(m=p.jsx("span",{className:"text-orange text-3xl font-medium tracking-wide",children:i}),e[6]=i,e[7]=m):m=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=p.jsx("div",{className:"flex gap-1 ml-1",children:[0,.1,.2].map(fM)}),e[8]=g):g=e[8];let x;return e[9]!==m?(x=p.jsx("div",{className:"bg-background flex flex-col flex-1 items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center",children:[h,p.jsxs("div",{className:"flex items-center gap-1",children:[m,g]})]})}),e[9]=m,e[10]=x):x=e[10],x};function fM(n){return p.jsx("span",{className:"rounded-full text-3xl font-bold text-orange jump",style:{animationDelay:`${n}s`},children:"."},n)}const Us=n=>new Promise(e=>setTimeout(e,1e3-(Date.now()-n)));function hM(){const[n,e]=T.useState([]),[t,i]=fn.useState(""),[s,a]=T.useState([]),[o,c]=T.useState(ls.MIN),[f,h]=T.useState(ls.HARD_MAX),[m,g]=T.useState(0),[x,y]=T.useState(1),[v,S]=T.useState(!0),w=vt();async function C(Q=0){S(!0);const M=Date.now();try{if(t.trim()!==""){const z=await Aj(t,Q,20);await Us(M);const I=z.content.map(p2);e(I),g(Q),y(z.totalPages);return}const k=Nj(s),$=o,D=f,L=k.length>0||$!==ls.MIN||D!==ls.HARD_MAX?await wj(k,$,D,Q,20):await Sj(Q,20);await Us(M);const V=L.content.map(p2);e(V),g(Q),y(L.totalPages)}catch(k){console.error("Failed to fetch problems",k)}finally{S(!1)}}T.useEffect(()=>{C()},[s,o,f,t]);const R=Q=>{console.log("Problem clicked:",Q),w(`/practice/problem/${Q.id}`)},E=()=>{m>0&&C(m-1)},j=()=>{m<x-1&&C(m+1)};return v?p.jsx("div",{className:"flex flex-col h-screen font-anta",children:p.jsx(ps,{loadingMessage:"Loading Problems"})}):p.jsxs("div",{className:"flex flex-col h-[90vh] space-y-4 p-scroll-x",children:[p.jsxs("div",{className:"flex items-center justify-between flex-wrap space-y-4",children:[p.jsx(Zh,{value:t,onChange:i,placeholder:"Search by problem name"}),p.jsx(oM,{label:"Choose Problem Tags",options:Qj,value:s,onChange:a}),p.jsx(cM,{min:o,max:f,onMinChange:c,onMaxChange:h})]}),p.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-white/5 bg-sidebar/10 shadow-xl",children:p.jsx("div",{className:"h-full overflow-y-auto custom-scroll",children:p.jsx(ri,{data:n,columns:["#","Name","Tags","Diff","#Solvers","Stat"],onRowClick:R,renderRow:(Q,M)=>p.jsx(IQ,{...Q,onClick:M,className:"cursor-pointer"},Q.id)})})}),p.jsxs("div",{className:"flex justify-center gap-4",children:[p.jsx("button",{onClick:E,disabled:m===0,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Previous"}),p.jsxs("span",{className:"flex items-center text-text/80 font-anta text-sm bg-sidebar/30 px-4 rounded-full border border-white/5",children:["Page ",m+1," of ",x]}),p.jsx("button",{onClick:j,disabled:m>=x-1,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Next"})]})]})}function dM(){const n=Me.c(2);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=p.jsx(hu,{navigators:uU}),n[0]=e):e=n[0];let t;return n[1]===Symbol.for("react.memo_cache_sentinel")?(t=p.jsxs("div",{className:"flex flex-col h-screen font-anta",children:[e,p.jsx("div",{className:"flex flex-1 flex-col overflow-y-auto custom-scroll",children:p.jsx(Ia,{})})]}),n[1]=t):t=n[1],t}const Jr={ONLINE:"ONLINE",OFFLINE:"OFFLINE",IN_MATCH:"IN_MATCH"};async function mM(n){return Qe({method:"GET",url:`/friends/status/${n}`})}async function pM(n){return Qe({method:"POST",url:`/friends/send/${n}`})}async function G3(n){return Qe({method:"POST",url:`/friends/accept/${n}`})}async function W3(n){return Qe({method:"DELETE",url:`/friends/reject/${n}`})}async function Uh(n){return Qe({method:"DELETE",url:`/friends/remove/${n}`})}async function b0(n=0,e=20){return Qe({method:"GET",url:`/friends/list?page=${n}&size=${e}`})}async function gM(n=0,e=20){return Qe({method:"GET",url:`/friends/received-requests?page=${n}&size=${e}`})}async function OM(n=0,e=20){return Qe({method:"GET",url:`/friends/sent-requests?page=${n}&size=${e}`})}async function xM(n,e=0,t=20){return Qe({method:"GET",url:`/friends/search?query=${encodeURIComponent(n)}&page=${e}&size=${t}`})}const Il=[{name:"BRONZE",color:"#CD7F32"},{name:"SILVER",color:"#C0C0C0"},{name:"GOLD",color:"#FFD700"},{name:"DIAMOND",color:"#00FFFF"},{name:"MASTER",color:"#8A2BE2"},{name:"CHAMPION",color:"#4169E1"},{name:"LEGEND",color:"#80FFA1"}],F3=300,Xh=n=>{let e=Math.floor(n/F3);return e>=Il.length&&(e=Il.length-1),e<0&&(e=0),Il[e].name},Ba=n=>{const e=Math.min(Math.floor(Math.max(0,n)/F3),Il.length-1);return Il[e].color},zs=Object.fromEntries(Il.map(n=>[n.name,n.color])),y0={IMPLEMENTATION:"#6B7280",MATH:"#10B981",GREEDY:"#EF4444",TWO_POINTERS:"#F97316",STRINGS:"#EC4899",SORTING:"#F59E0B",DATA_STRUCTURES:"#6366F1",GRAPH_THEORY:"#3B82F6",DP:"#22D3EE",BRUTE_FORCE:"#8B5CF6",BINARY_SEARCH:"#14B8A6",TREES:"#A855F7",DFS_AND_SIMILAR:"#4ADE80",BFS:"#0EA5E9",COMBINATORICS:"#D97706",GEOMETRY:"#F87171",HASHING:"#9CA3AF",DSU:"#2563EB",HEAPS:"#F43F5E"};async function bM(n="all",e=0,t=10){const i={page:e.toString(),size:t.toString()};n!=="all"&&(i.category=n);const s=await Qe({method:"GET",url:"/notifications",params:i});return{content:s.content.map(AM),totalElements:s.totalElements,totalPages:s.totalPages,size:s.size,number:s.number,first:s.first,last:s.last}}async function yM(n){await Qe({method:"PATCH",url:`/notifications/${n}/read`})}async function vM(n){return await Qe({method:"POST",url:`/matches/invite/${n}`})}async function SM(n){console.log("Sending match cancel to:",n),await Qe({method:"PATCH",url:`/matches/invite/${n}/cancel`})}async function wM(n){return await Qe({method:"POST",url:`/matches/invite/${n}/accept`})}function AM(n){const e=CM(n);return{id:n.id,type:n.type,senderId:n.senderId,senderUsername:n.senderUsername,recipientId:n.recipientId,title:n.title,message:n.message,createdAt:n.createdAt,read:n.read,matchId:n.matchId,...e}}function CM(n){const e={},t=n.message.match(/got\s+(\w+)|status[:\s]+(\w+)/i);t&&(e.submissionStatus=t[1]||t[2]);const i=n.message.match(/\((\d+)\/(\d+)\)|(\d+)\/(\d+)/);return i&&(e.passedCases=parseInt(i[1]||i[3]),e.totalCases=parseInt(i[2]||i[4])),e}const zc=n=>{switch(n){case Jr.ONLINE:return"text-green-500";case Jr.IN_MATCH:return"text-yellow-500";case Jr.OFFLINE:default:return"text-gray-400"}},BO=n=>{switch(n){case Jr.ONLINE:return"Online";case Jr.IN_MATCH:return"In Match";case Jr.OFFLINE:return"Offline"}};function kM(n){const e=Me.c(21),{order:t,username:i,rank:s,userStatus:a,onInviteClick:o,onUsernameClick:c,className:f}=n,h=f===void 0?"":f;let m;e[0]!==o||e[1]!==i?(m=async()=>{try{const j=await vM(i);console.log("Match invitation sent, notification ID:",j),o(j,i)}catch(j){console.error("Failed to send match invitation:",j),alert("Failed to send invitation. Please try again.")}},e[0]=o,e[1]=i,e[2]=m):m=e[2];const g=m,x=`grid grid-cols-[60px_1fr_auto_120px] gap-4 px-6 py-3 items-center hover:bg-sidebar/20 transition-colors ${h}`;let y;e[3]!==t?(y=p.jsx("span",{className:"text-text text-center font-anta text-sm",children:t}),e[3]=t,e[4]=y):y=e[4];const v=zs[s];let S;e[5]!==v?(S={color:v},e[5]=v,e[6]=S):S=e[6];let w;e[7]!==c||e[8]!==S||e[9]!==i?(w=p.jsx("button",{onClick:c,className:"font-anta text-sm font-bold truncate text-left hover:opacity-80 transition-colors",style:S,children:i}),e[7]=c,e[8]=S,e[9]=i,e[10]=w):w=e[10];let C;e[11]!==a?(C=a&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"relative flex items-center",children:p.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${zc(a).replace("text-","bg-")}`,children:a===Jr.ONLINE&&p.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"})})}),p.jsx("span",{className:`font-anta text-xs ${zc(a)}`,children:BO(a)})]}),e[11]=a,e[12]=C):C=e[12];let R;e[13]!==g?(R=p.jsx("button",{onClick:g,className:`\r
                    border border-emerald-500/30 bg-emerald-500/5 text-emerald-400\r
                    hover:bg-emerald-500 hover:text-white hover:border-emerald-500 \r
                    hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]\r
                    px-4 py-2 rounded-full \r
                    font-anta text-xs uppercase tracking-widest \r
                    transition-all duration-300\r
                `,children:"Invite"}),e[13]=g,e[14]=R):R=e[14];let E;return e[15]!==x||e[16]!==y||e[17]!==w||e[18]!==C||e[19]!==R?(E=p.jsxs("div",{className:x,children:[y,w,C,R]}),e[15]=x,e[16]=y,e[17]=w,e[18]=C,e[19]=R,e[20]=E):E=e[20],E}function TM({isOpen:n,onClose:e,onInvite:t}){const[i,s]=T.useState([]),[a,o]=T.useState([]),[c,f]=T.useState(""),[h,m]=T.useState(!1),[g,x]=T.useState(!1),[y,v]=T.useState(0),[S,w]=T.useState(!0),C=T.useRef(null);T.useEffect(()=>{n||(f(""),s([]),o([]),v(0),w(!0))},[n]),T.useEffect(()=>{if(!n)return;(async()=>{x(!0);try{const D=await b0(0,20);s(D.content),v(0),w(!D.last)}catch(D){console.error("Failed to fetch friends:",D),s([])}finally{x(!1)}})()},[n]);const R=T.useCallback(async()=>{if(!(g||!S)){x(!0);try{const $=y+1,D=await b0($,20);s(L=>[...L,...D.content]),v($),w(!D.last)}catch($){console.error("Failed to load more friends:",$)}finally{x(!1)}}},[y,S,g]);T.useEffect(()=>{const $=new IntersectionObserver(L=>{L[0].isIntersecting&&S&&!g&&!c.trim()&&R()},{threshold:.1}),D=C.current;return D&&$.observe(D),()=>{D&&$.unobserve(D)}},[S,g,R,c]),T.useEffect(()=>{if(!n)return;if(!c.trim()){o([]);return}const $=setTimeout(async()=>{m(!0);try{const D=await xM(c,0,100);o(D.content)}catch(D){console.error("Failed to search friends:",D),o([])}finally{m(!1)}},300);return()=>clearTimeout($)},[c,n]);const E=($,D)=>{t($,D),e()},j=()=>{e()};if(!n)return null;const Q=c.trim().length>0,M=Q?a:i,k=Q?h:g&&i.length===0;return p.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-sidebar rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl border border-gray-700",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[p.jsx("h2",{className:"text-2xl font-bold text-orange font-anta uppercase tracking-wider",children:"Friend Matching"}),p.jsx("button",{onClick:j,className:"text-gray-400 hover:text-white transition-colors",children:p.jsx(Lc,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"p-4 border-b border-gray-700",children:p.jsxs("div",{className:"relative",children:[p.jsx(q3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",value:c,onChange:$=>f($.target.value),placeholder:"Search friends by username...",className:"w-full pl-10 pr-4 py-2 bg-background border border-gray-600 rounded-lg text-text placeholder-gray-400 focus:outline-none focus:border-orange focus:ring-1 focus:ring-orange transition-colors font-anta"})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll",children:k?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx("div",{className:"text-text font-anta",children:Q?"Searching...":"Loading friends..."})}):M.length===0?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx("div",{className:"text-text font-anta text-center px-4",children:Q?`No friends found matching "${c}"`:"No friends yet. Add some friends first!"})}):p.jsxs(p.Fragment,{children:[M.map(($,D)=>p.jsx(kM,{userStatus:$.userStatus,order:D+1,username:$.username,rank:Xh($.currentRate),onInviteClick:E,onUsernameClick:()=>{}},`${$.username}-${D}`)),!Q&&p.jsxs("div",{ref:C,className:"py-4 text-center",children:[g&&p.jsx("div",{className:"text-text font-anta text-sm",children:"Loading more..."}),!S&&i.length>0&&p.jsx("div",{className:"text-gray-400 font-anta text-sm",children:"No more friends to load"})]})]})})]})})}const EM=({matchType:n,invitedUser:e,notificationId:t,onCancel:i})=>{const[s,a]=T.useState(0),[o,c]=T.useState(!1);T.useEffect(()=>{const g=setInterval(()=>{a(x=>x+1)},1e3);return()=>clearInterval(g)},[]);const f=g=>{const x=Math.floor(g/60),y=g%60;return`${x.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`},h=()=>n==="friend"?e?`Waiting for ${e}'s acceptance`:"Waiting for acceptance":"Finding Opponent",m=async()=>{if(!o){c(!0);try{n==="friend"&&t?await SM(t):(console.log("Random matchmaking cancelled"),console.log("Reason: matchType="+n+", notificationId="+t)),i()}catch(g){console.error("Failed to cancel match:",g),console.error("Error details:",g),alert("Failed to cancel invitation. Please try again.")}finally{c(!1)}}};return p.jsx("div",{className:"bg-background flex flex-col flex-1 items-center justify-center min-h-screen gap-8",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("svg",{width:"300",height:"100",viewBox:"0 0 207 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mb-8 fade-in-scale elegant-glow",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"paint0_linear_match",x1:"63",y1:"23",x2:"63",y2:"36",gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#4F5869"}),p.jsx("stop",{offset:"1",stopColor:"#9CADCF"})]}),p.jsxs("linearGradient",{id:"paint1_linear_match",x1:"146.436",y1:"6.76953",x2:"146.436",y2:"55.7852",gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#4F5869"}),p.jsx("stop",{offset:"1",stopColor:"#9CADCF"})]}),p.jsxs("linearGradient",{id:"paint2_linear_match",x1:"185.5",y1:"7",x2:"185.5",y2:"54",gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#4F5869"}),p.jsx("stop",{offset:"1",stopColor:"#9CADCF"})]}),p.jsxs("linearGradient",{id:"shimmerGradient_match",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"transparent",children:p.jsx("animate",{attributeName:"offset",values:"0;1",dur:"1s",repeatCount:"indefinite"})}),p.jsx("stop",{offset:"50%",stopColor:"rgba(255,255,255,0.4)",children:p.jsx("animate",{attributeName:"offset",values:"0.5;1.5",dur:"1s",repeatCount:"indefinite"})}),p.jsx("stop",{offset:"100%",stopColor:"transparent",children:p.jsx("animate",{attributeName:"offset",values:"1;2",dur:"1s",repeatCount:"indefinite"})})]})]}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:p.jsx("path",{d:"M23 38H36.3726C45.3808 55.132 64.6853 44.0007 66.7749 39.2433L75 46.3621C68.2692 58.9166 29.6603 64.9275 23 38Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.05s backwards"},children:p.jsx("path",{d:"M65.0421 18.2669L73 10.2199C61.7476 -3.91188 27.231 -6.56321 23 23H35.4625C40.755 6.26912 58.1143 10.2199 65.0421 18.2669Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s backwards"},children:p.jsx("path",{d:"M75 38H88.1154C96.9504 55.132 115.884 44.0007 117.933 39.2433L126 46.3621C119.399 58.9166 81.5322 64.9275 75 38Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s backwards"},children:p.jsx("path",{d:"M116.201 18.2669L124 10.2199C112.973 -3.91188 79.1463 -6.56321 75 23H87.2132C92.3999 6.26912 109.412 10.2199 116.201 18.2669Z",fill:"#EC7438"})}),p.jsx("g",{style:{animation:"slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s backwards"},children:p.jsx("path",{d:"M117.892 30.7718H25.6263C24.9629 30.7718 24.4251 30.234 24.4251 29.5706C24.4251 28.9073 24.9629 28.3695 25.6263 28.3695H116.894C117.514 28.3695 118.074 28.0017 118.32 27.4333C118.765 26.4069 118.013 25.2608 116.894 25.2608H10.6569C9.8725 25.2608 9.11925 25.568 8.55861 26.1167L7.58121 27.0733C6.37899 28.2499 6.37899 30.1848 7.58121 31.3614L8.55861 32.318C9.11925 32.8666 9.8725 33.1739 10.6569 33.1739H116.501C117.282 33.1739 117.915 33.8065 117.915 34.5869C117.915 35.3674 117.282 36 116.501 36H9.02642C8.31055 36 7.61827 35.744 7.07462 35.2783L2.77705 31.5965C1.34001 30.3653 1.38775 28.1275 2.87599 26.9588L7.10137 23.6406C7.62983 23.2256 8.28231 23 8.95424 23H119.429C122 23 123.379 26.0226 121.695 27.9652L120.159 29.737C119.589 30.3943 118.762 30.7718 117.892 30.7718Z",fill:"url(#paint0_linear_match)",stroke:"url(#shimmerGradient_match)",strokeWidth:"1"})}),p.jsx("g",{style:{animation:"slideInRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.25s backwards"},children:p.jsx("path",{d:"M150.864 24.7275H169.404L161.407 37.9365H150.864V55.7852L140.299 48.9658V37.7666C140.185 37.7945 140.065 37.8109 139.942 37.8096L126.44 37.6621C124.102 37.6363 122.691 35.0639 123.926 33.0781L128.237 26.1436C128.785 25.2631 129.748 24.7276 130.785 24.7275H140.06C140.141 24.7275 140.221 24.7359 140.299 24.75V13.042L150.864 6.76953V24.7275ZM140.299 27.3711C140.221 27.3852 140.141 27.3945 140.06 27.3945H132.355C131.339 27.3946 130.392 27.9091 129.839 28.7617L128.77 30.4102C127.466 32.4193 128.927 35.0698 131.321 35.042L139.941 34.9414C140.065 34.94 140.184 34.9545 140.299 34.9824V27.3711Z",fill:"url(#paint1_linear_match)",stroke:"url(#shimmerGradient_match)",strokeWidth:"1"})}),p.jsx("g",{style:{animation:"slideInRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s backwards"},children:p.jsx("path",{d:"M191.283 25.9548H207L199.29 38.14H191.283V54L180.903 47.6173V38.14H164L172.106 25.3745H180.903V13.0927L191.283 7V25.9548Z",fill:"url(#paint2_linear_match)",stroke:"url(#shimmerGradient_match)",strokeWidth:"1"})})]}),p.jsxs("div",{className:"flex items-center gap-1 mb-6",children:[p.jsx("span",{className:"text-orange text-3xl font-anta tracking-wide",children:h()}),p.jsx("div",{className:"flex gap-1 ml-1",children:[0,.1,.2].map((g,x)=>p.jsx("span",{className:"rounded-full text-3xl font-bold text-orange jump",style:{animationDelay:`${g}s`},children:"."},x))})]}),p.jsx("div",{className:"mb-8 pulse",children:p.jsx("div",{className:"text-orange text-5xl font-anta font-bold tracking-wider",children:f(s)})}),p.jsx("button",{onClick:m,disabled:o,className:`\r
            border border-red-500/30 bg-red-500/5 text-red-400\r
            hover:bg-red-500 hover:text-white hover:border-red-500 \r
            hover:shadow-[0_0_15px_rgba(239,68,68,0.4)]\r
            disabled:opacity-50 disabled:cursor-not-allowed\r
            px-12 py-4 rounded-full \r
            font-anta text-2xl uppercase tracking-widest \r
            transition-all duration-300\r
          `,children:o?"Cancelling...":"Cancel"})]})})},RM={BRONZE:"#CD7F32",SILVER:"#C0C0C0",GOLD:"#FFD700",DIAMOND:"#00FFFF",MASTER:"#8A2BE2",CHAMPION:"#4169E1",LEGEND:"#80FFA1"};function QM(n){const e=Me.c(154),{player1:t,player2:i,onComplete:s}=n,[a,o]=T.useState("slide-in");let c,f;e[0]!==s?(c=()=>{const pe=setTimeout(()=>o("pulse"),1500),Se=setTimeout(()=>o("fade-out"),3500),Te=setTimeout(()=>s(),4500);return()=>{clearTimeout(pe),clearTimeout(Se),clearTimeout(Te)}},f=[s],e[0]=s,e[1]=c,e[2]=f):(c=e[1],f=e[2]),T.useEffect(c,f);const h=MM,m=`fixed inset-0 z-50 flex items-center justify-center bg-sidebar transition-opacity duration-1000
      ${a==="fade-out"?"opacity-0":"opacity-100"}`;let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g=p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sidebar via-background to-container"}),e[3]=g):g=e[3];let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=p.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[g,p.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 2px, #D1D5DB 2px, #D1D5DB 4px)"}}),[...Array(30)].map(jM),p.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 border-t-4 border-l-4 border-diamond/50"}),p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 border-t-4 border-r-4 border-orange/50"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 border-b-4 border-l-4 border-master/50"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 border-b-4 border-r-4 border-loseRed/50"})]}),e[4]=x):x=e[4];const y=`absolute left-0 flex flex-col items-center gap-6 transition-all duration-1000 ease-out
        ${a==="slide-in"?"-translate-x-full opacity-0":"translate-x-0 opacity-100"}`;let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v={left:"12%"},e[5]=v):v=e[5];let S;e[6]!==t.rank?(S=h(t.rank),e[6]=t.rank,e[7]=S):S=e[7];let w;e[8]!==S?(w=p.jsx("div",{className:"absolute inset-0 rounded-full blur-3xl animate-pulse",style:{backgroundColor:S,opacity:.6,transform:"scale(1.3)"}}),e[8]=S,e[9]=w):w=e[9];let C;e[10]!==t.rank?(C=h(t.rank),e[10]=t.rank,e[11]=C):C=e[11];let R;e[12]!==C?(R=p.jsx("div",{className:"absolute inset-0 rounded-full blur-xl",style:{backgroundColor:C,opacity:.8,transform:"scale(1.15)"}}),e[12]=C,e[13]=R):R=e[13];let E;e[14]!==t.rank?(E=h(t.rank),e[14]=t.rank,e[15]=E):E=e[15];let j;e[16]!==t.rank?(j=h(t.rank),e[16]=t.rank,e[17]=j):j=e[17];const Q=`0 0 40px ${j}80`;let M;e[18]!==E||e[19]!==Q?(M={borderColor:E,boxShadow:Q},e[18]=E,e[19]=Q,e[20]=M):M=e[20];let k;e[21]!==t.avatarUrl||e[22]!==t.username?(k=p.jsx("img",{src:t.avatarUrl,alt:t.username,className:"w-full h-full object-cover"}),e[21]=t.avatarUrl,e[22]=t.username,e[23]=k):k=e[23];let $;e[24]!==M||e[25]!==k?($=p.jsx("div",{className:"relative w-64 h-64 rounded-full border-8 overflow-hidden shadow-2xl bg-container",style:M,children:k}),e[24]=M,e[25]=k,e[26]=$):$=e[26];let D;e[27]!==t.rank?(D=h(t.rank),e[27]=t.rank,e[28]=D):D=e[28];let L;e[29]!==t.rank?(L=h(t.rank),e[29]=t.rank,e[30]=L):L=e[30];const V=`0 4px 20px ${L}80`;let z;e[31]!==D||e[32]!==V?(z={backgroundColor:D,borderColor:"rgba(209, 213, 219, 0.3)",color:"#000000",boxShadow:V},e[31]=D,e[32]=V,e[33]=z):z=e[33];let I;e[34]!==t.rank||e[35]!==z?(I=p.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 px-6 py-2 rounded-button font-bold text-lg shadow-lg border-2 bg-container",style:z,children:t.rank}),e[34]=t.rank,e[35]=z,e[36]=I):I=e[36];let H;e[37]===Symbol.for("react.memo_cache_sentinel")?(H=[...Array(8)],e[37]=H):H=e[37];let F;e[38]!==t.rank?(F=H.map((pe,Se)=>p.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:h(t.rank),top:"50%",left:"50%",animation:"orbit 3s linear infinite",animationDelay:`${Se*.375}s`,transform:`rotate(${Se*45}deg) translateX(150px)`,boxShadow:`0 0 10px ${h(t.rank)}`}},Se)),e[38]=t.rank,e[39]=F):F=e[39];let P;e[40]!==R||e[41]!==$||e[42]!==I||e[43]!==F||e[44]!==w?(P=p.jsxs("div",{className:"relative",children:[w,R,$,I,F]}),e[40]=R,e[41]=$,e[42]=I,e[43]=F,e[44]=w,e[45]=P):P=e[45];let Z;e[46]!==t.rank?(Z=h(t.rank),e[46]=t.rank,e[47]=Z):Z=e[47];let K;e[48]!==t.rank?(K=h(t.rank),e[48]=t.rank,e[49]=K):K=e[49];let ie;e[50]!==t.rank?(ie=h(t.rank),e[50]=t.rank,e[51]=ie):ie=e[51];const le=`0 0 20px ${K}80, 0 0 40px ${ie}40`;let _;e[52]!==Z||e[53]!==le?(_={color:Z,textShadow:le},e[52]=Z,e[53]=le,e[54]=_):_=e[54];let X;e[55]!==t.username||e[56]!==_?(X=p.jsx("div",{className:"text-center mt-4",children:p.jsx("h2",{className:"text-5xl font-black tracking-wider drop-shadow-2xl font-anta",style:_,children:t.username})}),e[55]=t.username,e[56]=_,e[57]=X):X=e[57];let te;e[58]!==t.rank?(te=h(t.rank),e[58]=t.rank,e[59]=te):te=e[59];const ce=`linear-gradient(to right, ${te}, transparent)`;let me;e[60]!==t.rank?(me=h(t.rank),e[60]=t.rank,e[61]=me):me=e[61];const be=`0 0 20px ${me}`;let Ce;e[62]!==ce||e[63]!==be?(Ce=p.jsx("div",{className:"absolute top-1/2 left-full w-40 h-1 -translate-y-1/2",children:p.jsx("div",{className:"h-full animate-pulse",style:{background:ce,boxShadow:be}})}),e[62]=ce,e[63]=be,e[64]=Ce):Ce=e[64];let tt;e[65]!==P||e[66]!==X||e[67]!==Ce||e[68]!==y?(tt=p.jsxs("div",{className:y,style:v,children:[P,X,Ce]}),e[65]=P,e[66]=X,e[67]=Ce,e[68]=y,e[69]=tt):tt=e[69];const Xe=`relative z-10 transition-all duration-500
        ${a==="pulse"?"scale-125":"scale-100"}`;let it;e[70]===Symbol.for("react.memo_cache_sentinel")?(it=p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"w-64 h-64 rounded-full bg-orange/40 blur-3xl animate-pulse",style:{filter:"blur(60px)"}})}),e[70]=it):it=e[70];let Ye;e[71]===Symbol.for("react.memo_cache_sentinel")?(Ye=p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"w-48 h-48 rounded-full bg-loseRed/30 blur-2xl animate-pulse",style:{animationDelay:"0.5s",filter:"blur(40px)"}})}),e[71]=Ye):Ye=e[71];let Mt;e[72]===Symbol.for("react.memo_cache_sentinel")?(Mt=p.jsx("span",{className:"absolute text-[12rem]",style:{transform:"translate(12px, 12px)",color:"#FF242460"},children:"VS"}),e[72]=Mt):Mt=e[72];let dn;e[73]===Symbol.for("react.memo_cache_sentinel")?(dn=p.jsx("span",{className:"absolute text-[12rem]",style:{transform:"translate(8px, 8px)",color:"#EC743860"},children:"VS"}),e[73]=dn):dn=e[73];let Bt;e[74]===Symbol.for("react.memo_cache_sentinel")?(Bt=p.jsx("span",{className:"absolute text-[12rem]",style:{transform:"translate(4px, 4px)",color:"#FFD70040"},children:"VS"}),e[74]=Bt):Bt=e[74];let Qt,Nn;e[75]===Symbol.for("react.memo_cache_sentinel")?(Qt=p.jsx("div",{className:"relative font-black italic flex items-center justify-center font-anta",children:p.jsxs("div",{className:"relative",children:[Mt,dn,Bt,p.jsx("span",{className:"relative text-[12rem]",style:{background:"linear-gradient(135deg, #FFD700, #EC7438, #FF2424)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0 0 30px rgba(236, 116, 56, 0.9)) drop-shadow(0 0 60px rgba(255, 36, 36, 0.6))"},children:"VS"})]})}),Nn=[...Array(4)].map(NM),e[75]=Qt,e[76]=Nn):(Qt=e[75],Nn=e[76]);let pt;e[77]!==Xe?(pt=p.jsxs("div",{className:Xe,children:[it,Ye,Qt,Nn]}),e[77]=Xe,e[78]=pt):pt=e[78];const qt=`absolute right-0 flex flex-col items-center gap-6 transition-all duration-1000 ease-out
        ${a==="slide-in"?"translate-x-full opacity-0":"translate-x-0 opacity-100"}`;let Ai;e[79]===Symbol.for("react.memo_cache_sentinel")?(Ai={right:"12%"},e[79]=Ai):Ai=e[79];let Ci;e[80]!==i.rank?(Ci=h(i.rank),e[80]=i.rank,e[81]=Ci):Ci=e[81];let ki;e[82]!==Ci?(ki=p.jsx("div",{className:"absolute inset-0 rounded-full blur-3xl animate-pulse",style:{backgroundColor:Ci,opacity:.6,transform:"scale(1.3)"}}),e[82]=Ci,e[83]=ki):ki=e[83];let bs;e[84]!==i.rank?(bs=h(i.rank),e[84]=i.rank,e[85]=bs):bs=e[85];let wn;e[86]!==bs?(wn=p.jsx("div",{className:"absolute inset-0 rounded-full blur-xl",style:{backgroundColor:bs,opacity:.8,transform:"scale(1.15)"}}),e[86]=bs,e[87]=wn):wn=e[87];let St;e[88]!==i.rank?(St=h(i.rank),e[88]=i.rank,e[89]=St):St=e[89];let Ys;e[90]!==i.rank?(Ys=h(i.rank),e[90]=i.rank,e[91]=Ys):Ys=e[91];const ys=`0 0 40px ${Ys}80`;let en;e[92]!==St||e[93]!==ys?(en={borderColor:St,boxShadow:ys},e[92]=St,e[93]=ys,e[94]=en):en=e[94];let Zt;e[95]!==i.avatarUrl||e[96]!==i.username?(Zt=p.jsx("img",{src:i.avatarUrl,alt:i.username,className:"w-full h-full object-cover"}),e[95]=i.avatarUrl,e[96]=i.username,e[97]=Zt):Zt=e[97];let Hi;e[98]!==en||e[99]!==Zt?(Hi=p.jsx("div",{className:"relative w-64 h-64 rounded-full border-8 overflow-hidden shadow-2xl bg-container",style:en,children:Zt}),e[98]=en,e[99]=Zt,e[100]=Hi):Hi=e[100];let Gi;e[101]!==i.rank?(Gi=h(i.rank),e[101]=i.rank,e[102]=Gi):Gi=e[102];let vs;e[103]!==i.rank?(vs=h(i.rank),e[103]=i.rank,e[104]=vs):vs=e[104];const ha=`0 4px 20px ${vs}80`;let Pt;e[105]!==Gi||e[106]!==ha?(Pt={backgroundColor:Gi,borderColor:"rgba(209, 213, 219, 0.3)",color:"#000000",boxShadow:ha},e[105]=Gi,e[106]=ha,e[107]=Pt):Pt=e[107];let Nt;e[108]!==i.rank||e[109]!==Pt?(Nt=p.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 px-6 py-2 rounded-button font-bold text-lg shadow-lg border-2 bg-container",style:Pt,children:i.rank}),e[108]=i.rank,e[109]=Pt,e[110]=Nt):Nt=e[110];let An;e[111]===Symbol.for("react.memo_cache_sentinel")?(An=[...Array(8)],e[111]=An):An=e[111];let jt;e[112]!==i.rank?(jt=An.map((pe,Se)=>p.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:h(i.rank),top:"50%",left:"50%",animation:"orbit 3s linear infinite",animationDelay:`${Se*.375}s`,transform:`rotate(${Se*45}deg) translateX(150px)`,boxShadow:`0 0 10px ${h(i.rank)}`}},Se)),e[112]=i.rank,e[113]=jt):jt=e[113];let Ss;e[114]!==ki||e[115]!==wn||e[116]!==Hi||e[117]!==Nt||e[118]!==jt?(Ss=p.jsxs("div",{className:"relative",children:[ki,wn,Hi,Nt,jt]}),e[114]=ki,e[115]=wn,e[116]=Hi,e[117]=Nt,e[118]=jt,e[119]=Ss):Ss=e[119];let Wi;e[120]!==i.rank?(Wi=h(i.rank),e[120]=i.rank,e[121]=Wi):Wi=e[121];let Fi;e[122]!==i.rank?(Fi=h(i.rank),e[122]=i.rank,e[123]=Fi):Fi=e[123];let Ti;e[124]!==i.rank?(Ti=h(i.rank),e[124]=i.rank,e[125]=Ti):Ti=e[125];const Ei=`0 0 20px ${Fi}80, 0 0 40px ${Ti}40`;let li;e[126]!==Wi||e[127]!==Ei?(li={color:Wi,textShadow:Ei},e[126]=Wi,e[127]=Ei,e[128]=li):li=e[128];let mn;e[129]!==i.username||e[130]!==li?(mn=p.jsx("div",{className:"text-center mt-4",children:p.jsx("h2",{className:"text-5xl font-black tracking-wider drop-shadow-2xl font-anta",style:li,children:i.username})}),e[129]=i.username,e[130]=li,e[131]=mn):mn=e[131];let Ki;e[132]!==i.rank?(Ki=h(i.rank),e[132]=i.rank,e[133]=Ki):Ki=e[133];const Ri=`linear-gradient(to left, ${Ki}, transparent)`;let Ji;e[134]!==i.rank?(Ji=h(i.rank),e[134]=i.rank,e[135]=Ji):Ji=e[135];const es=`0 0 20px ${Ji}`;let oi;e[136]!==Ri||e[137]!==es?(oi=p.jsx("div",{className:"absolute top-1/2 right-full w-40 h-1 -translate-y-1/2",children:p.jsx("div",{className:"h-full animate-pulse",style:{background:Ri,boxShadow:es}})}),e[136]=Ri,e[137]=es,e[138]=oi):oi=e[138];let Bn;e[139]!==qt||e[140]!==Ss||e[141]!==mn||e[142]!==oi?(Bn=p.jsxs("div",{className:qt,style:Ai,children:[Ss,mn,oi]}),e[139]=qt,e[140]=Ss,e[141]=mn,e[142]=oi,e[143]=Bn):Bn=e[143];const da=`absolute bottom-20 left-1/2 -translate-x-1/2 text-center transition-all duration-1000
        ${a==="slide-in"?"opacity-0 translate-y-10":"opacity-100 translate-y-0"}`;let B;e[144]===Symbol.for("react.memo_cache_sentinel")?(B=p.jsx("p",{className:"text-4xl font-bold text-white tracking-[0.3em] font-anta",style:{textShadow:"0 0 20px rgba(255,255,255,0.5), 0 0 40px rgba(236, 116, 56, 0.4)",animation:"pulse 2s ease-in-out infinite"},children:"PREPARE FOR BATTLE"}),e[144]=B):B=e[144];let G;e[145]!==da?(G=p.jsx("div",{className:da,children:B}),e[145]=da,e[146]=G):G=e[146];let se;e[147]===Symbol.for("react.memo_cache_sentinel")?(se=p.jsx("style",{children:`
        @keyframes orbit {
          from {
            transform: rotate(0deg) translateX(150px);
          }
          to {
            transform: rotate(360deg) translateX(150px);
          }
        }
      `}),e[147]=se):se=e[147];let de;return e[148]!==m||e[149]!==tt||e[150]!==pt||e[151]!==Bn||e[152]!==G?(de=p.jsxs("div",{className:m,children:[x,tt,pt,Bn,G,se]}),e[148]=m,e[149]=tt,e[150]=pt,e[151]=Bn,e[152]=G,e[153]=de):de=e[153],de}function NM(n,e){return p.jsx("div",{className:"absolute top-1/2 left-1/2 bg-orange",style:{width:"2px",height:"80px",background:"linear-gradient(to bottom, #EC7438, transparent)",transform:`translate(-50%, -50%) rotate(${e*90}deg) translateY(-120px)`,boxShadow:"0 0 10px #EC7438",animation:"pulse 1.5s ease-in-out infinite",animationDelay:`${e*.2}s`}},e)}function jM(n,e){return p.jsx("div",{className:"absolute w-1 h-1 bg-text rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`,opacity:Math.random()*.5+.2}},e)}function MM(n){return RM[n.toUpperCase()]||"#FFFFFF"}const K3=n=>{sessionStorage.setItem("activeMatchId",n)},PM=()=>sessionStorage.getItem("activeMatchId"),gc=()=>{sessionStorage.removeItem("activeMatchId")},J3=()=>sessionStorage.getItem("activeMatchId")!==null,_M=n=>{const e={username:n.username,rank:n.rank,currentRate:n.currentRate,maxRate:n.maxRate,friendCount:n.friendCount,avatarUrl:n.avatarUrl,userStatus:n.userStatus},t=n.stats,i=n.categories;return{profileBasic:e,stats:t,categories:i}};async function eA(){return Qe({method:"GET",url:"/users/profile"})}async function DM(n){return Qe({method:"GET",url:`/users/profile/${n}`})}async function $M(n){return Qe({method:"GET",url:"/users/search-with-friend-status",params:{username:n}})}async function LM(n=0,e=20){return Qe({method:"GET",url:"/super-admin/users",params:{page:n,size:e}})}async function zM(n,e=0,t=20){return Qe({method:"GET",url:"/super-admin/users/search",params:{keyword:n,page:e,size:t}})}async function BM(n){return Qe({method:"PUT",url:`/super-admin/users/${n}/promote-to-admin`})}async function ZM(n){return Qe({method:"PUT",url:`/super-admin/users/${n}/demote-to-user`})}async function UM(n,e=0,t=20){return Qe({method:"GET",url:"/super-admin/users/filter",params:{role:n,page:e,size:t}})}async function XM(n){const e=new FormData;return e.append("file",n),Qe({method:"POST",url:"/users/profile/image",data:e})}async function IM(n=0,e=20){return Qe({method:"GET",url:"/users/leaderboard",params:{page:n,size:e}})}function YM(){const n=Me.c(1);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[0]=e):e=n[0],T.useEffect(VM,e)}function VM(){const n=qM;n();const e=setInterval(()=>{n()},3e4);return()=>clearInterval(e)}function qM(){const n=J3()?"/users/status/in-match":"/users/status/online";Qe({method:"POST",url:n}).catch(console.error)}async function HM(){try{await Qe({method:"POST",url:"/users/status/online"})}catch(n){console.error("Failed to update status to online:",n)}}async function GM(){try{await Qe({method:"POST",url:"/users/status/in-match"})}catch(n){console.error("Failed to update status to in-match:",n)}}const v0={BRONZE:"BRONZE",SILVER:"SILVER",GOLD:"GOLD",DIAMOND:"DIAMOND",MASTER:"MASTER",CHAMPION:"CHAMPION",LEGEND:"LEGEND"},x2=300;function WM(n){const e=Object.values(v0),t=Math.floor(n/x2);if(t>=e.length-1)return{nextRate:0,nextRank:"MAX",nextRankColor:zs.LEGEND,isMaxRank:!0};const i=t+1,a=i*x2-n,o=e[i],c=zs[o];return{nextRate:a,nextRank:o,nextRankColor:c,isMaxRank:!1}}function FM(n){return n==="MAX"?zs.LEGEND:zs[n]||"#6B7280"}async function KM(n,e){return Qe({method:"POST",url:`/matches/${n}/submit`,data:e})}async function S0(n){return Qe({method:"GET",url:`/matches/${n}/submission-log`})}async function b2(n){return Qe({method:"POST",url:`/matches/${n}/resign`})}async function JM(n){return Qe({method:"GET",url:`/matches/${n}/problem`})}async function tA(n){return Qe({method:"GET",url:`/matches/${n}`})}async function eP(n){return Qe({method:"GET",url:`/matches/${n}/results`})}async function tP(){return Qe({method:"POST",url:"/matches/search-opponent"})}async function y2(){return Qe({method:"DELETE",url:"/matches/search-opponent/cancel"})}async function nP(n=0,e=10,t="All Matches"){let i=null;return t==="Rated Only"&&(i=!0),t==="Friendly Only"&&(i=!1),Qe({method:"GET",url:"/matches/my-history",params:{page:n,size:e,rated:i}})}async function nA(){return Qe({method:"GET",url:"/matches/on-going"})}function iP(n,e){n.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const i=new Date,s=Math.random().toString().substring(2,8),a=this.onclose;this.onclose=o=>{const c=new Date().getTime()-i.getTime();e(`Discarded socket (#${s})  closed after ${c}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),a?.call(n,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Oc={LF:`
`,NULL:"\0"};class Vr{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:i,body:s,binaryBody:a,escapeHeaderValues:o,skipContentLengthHeader:c}=e;this.command=t,this.headers=Object.assign({},i||{}),a?(this._binaryBody=a,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=c||!1}static fromRawFrame(e,t){const i={},s=a=>a.replace(/^\s+|\s+$/g,"");for(const a of e.headers.reverse()){a.indexOf(":");const o=s(a[0]);let c=s(a[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(c=Vr.hdrValueUnEscape(c)),i[o]=c}return new Vr({command:e.command,headers:i,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?Vr.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Oc.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const i=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${Vr.hdrValueEscape(`${i}`)}`):e.push(`${t}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Oc.LF)+Oc.LF+Oc.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){const i=new TextEncoder().encode(e),s=new Uint8Array([0]),a=new Uint8Array(i.length+t.length+s.length);return a.set(i),a.set(t,i.length),a.set(s,i.length+t.length),a}static marshall(e){return new Vr(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const v2=0,Vf=10,qf=13,sP=58;let rP=class{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let i;if(typeof e=="string"?i=this._encoder.encode(e):i=new Uint8Array(e),t&&i[i.length-1]!==0){const s=new Uint8Array(i.length+1);s.set(i,0),s[i.length]=0,i=s}for(let s=0;s<i.length;s++){const a=i[s];this._onByte(a)}}_collectFrame(e){if(e!==v2&&e!==qf){if(e===Vf){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==qf){if(e===Vf){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==qf){if(e===Vf){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===sP){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==qf){if(e===Vf){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===v2){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var qr;(function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"})(qr||(qr={}));var as;(function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"})(as||(as={}));var Ih;(function(n){n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL"})(Ih||(Ih={}));var Bc;(function(n){n.Interval="interval",n.Worker="worker"})(Bc||(Bc={}));class aP{constructor(e,t=Bc.Interval,i){this._interval=e,this._strategy=t,this._debug=i,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Bc.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Ln{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Ln.V1_0="1.0";Ln.V1_1="1.1";Ln.V1_2="1.2";Ln.default=new Ln([Ln.V1_2,Ln.V1_1,Ln.V1_0]);class lP{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,i){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Ln.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const a=s.headers.subscription,o=this._subscriptions[a]||this.onUnhandledMessage,c=s,f=this,h=this._connectedVersion===Ln.V1_2?c.headers.ack:c.headers["message-id"];c.ack=(m={})=>f.ack(h,a,m),c.nack=(m={})=>f.nack(h,a,m),o(c)},RECEIPT:s=>{const a=this._receiptWatchers[s.headers["receipt-id"]];a?(a(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatToleranceMultiplier=i.heartbeatGracePeriods,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame,this.onHeartbeatReceived=i.onHeartbeatReceived,this.onHeartbeatLost=i.onHeartbeatLost}start(){const e=new rP(t=>{const i=Vr.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${i}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Ln.V1_1&&e.version!==Ln.V1_2||!e["heart-beat"])return;const[t,i]=e["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&i!==0){const s=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${s}ms`),this._pinger=new aP(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===qr.OPEN&&(this._webSocket.send(Oc.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){const s=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const a=Date.now()-this._lastServerActivityTS;a>s*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${a}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===qr.CONNECTING||this._webSocket.readyState===qr.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&iP(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:i,body:s,binaryBody:a,skipContentLengthHeader:o}=e,c=new Vr({command:t,headers:i,body:s,binaryBody:a,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o});let f=c.serialize();if(this.logRawCommunication?this.debug(`>>> ${f}`):this.debug(`>>> ${c}`),this.forceBinaryWSFrames&&typeof f=="string"&&(f=new TextEncoder().encode(f)),typeof f!="string"||!this.splitLargeFrames)this._webSocket.send(f);else{let h=f;for(;h.length>0;){const m=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(m),this.debug(`chunk sent = ${m.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===qr.CONNECTING||this._webSocket.readyState===qr.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:i,body:s,binaryBody:a,skipContentLengthHeader:o}=e,c=Object.assign({destination:t},i);this._transmit({command:"SEND",headers:c,body:s,binaryBody:a,skipContentLengthHeader:o})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,i={}){i=Object.assign({},i),i.id||(i.id=`sub-${this._counter++}`),i.destination=e,this._subscriptions[i.id]=t,this._transmit({command:"SUBSCRIBE",headers:i});const s=this;return{id:i.id,unsubscribe(a){return s.unsubscribe(i.id,a)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const i=this;return{id:t,commit(){i.commit(t)},abort(){i.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,i={}){i=Object.assign({},i),this._connectedVersion===Ln.V1_2?i.id=e:i["message-id"]=e,i.subscription=t,this._transmit({command:"ACK",headers:i})}nack(e,t,i={}){return i=Object.assign({},i),this._connectedVersion===Ln.V1_2?i.id=e:i["message-id"]=e,i.subscription=t,this._transmit({command:"NACK",headers:i})}}class oP{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===as.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Ln.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=Ih.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Bc.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=as.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onHeartbeatReceived=t,this.onHeartbeatLost=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(as.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===as.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new lP(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===as.DEACTIVATING&&this._changeState(as.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Ih.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){const t=e.force||!1,i=this.active;let s;if(this.state===as.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(as.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==qr.CLOSED){const a=this._stompHandler.onWebSocketClose;s=new Promise((o,c)=>{this._stompHandler.onWebSocketClose=f=>{a(f),o()}})}else return this._changeState(as.INACTIVE),Promise.resolve();return t?this._stompHandler?.discardWebsocket():i&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,i={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,i)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,i={}){this._checkConnection(),this._stompHandler.ack(e,t,i)}nack(e,t,i={}){this._checkConnection(),this._stompHandler.nack(e,t,i)}}class cP{client=null;subscriptions=new Map;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=5e3;statusCallback;messageCallback;connect(e,t,i){if(this.client?.connected){console.log("WS already connected");return}this.statusCallback=t,this.messageCallback=i,this.statusCallback("connecting");const s="wss://fugally-nonrepatriable-belle.ngrok-free.dev/ws";this.client=new oP({brokerURL:s,reconnectDelay:this.reconnectDelay,heartbeatIncoming:2e4,heartbeatOutgoing:2e4,connectHeaders:e?{Authorization:`Bearer ${e}`}:{},debug:a=>{a.includes("ERROR")&&console.error("STOMP:",a)},onConnect:()=>{console.log(" WebSocket connected successfully"),this.reconnectAttempts=0,this.statusCallback?.("connected")},onDisconnect:()=>{console.log(" WebSocket disconnected"),this.statusCallback?.("disconnected"),this.subscriptions.clear()},onStompError:a=>{console.error(" STOMP error:",a.headers.message),this.statusCallback?.("error"),this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,this.statusCallback?.("reconnecting"))},onWebSocketError:a=>{console.error(" WebSocket error:",a),this.statusCallback?.("error")}}),this.client.activate()}subscribe(e,t){if(!this.client||!this.client.connected){console.warn(" Cannot subscribe: WS not connected");return}const i=this.client.subscribe(e,s=>{try{const a=JSON.parse(s.body);this.messageCallback?.(a),t(a)}catch(a){console.error(" Failed to parse WS message:",a)}});return this.subscriptions.set(e,i),()=>{i.unsubscribe(),this.subscriptions.delete(e)}}send(e,t){if(!this.client||!this.client.connected){console.warn(" Cannot send: WS not connected");return}this.client.publish({destination:e,body:JSON.stringify(t)})}disconnect(){console.log("Disconnecting WebSocket..."),this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions.clear(),this.client?.deactivate(),this.client=null,this.statusCallback?.("disconnected")}isConnected(){return this.client?.connected??!1}}const iA=T.createContext(void 0),uP=n=>{const e=Me.c(21),{children:t}=n,[i,s]=T.useState("disconnected");let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[o,c]=T.useState(a);let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=new cP,e[1]=f):f=e[1];const h=T.useRef(f);let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=new Set,e[2]=m):m=e[2];const g=T.useRef(m);let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=P=>{const Z=`${P.notificationType}-${P.matchId||""}-${P.senderUsername||""}-${P.submissionStatus||""}-${Math.floor(Date.now()/1e3)}`;if(g.current.has(Z)){console.log(" Skipping duplicate message:",Z);return}g.current.add(Z),g.current.size>100&&Array.from(g.current).slice(0,50).forEach(le=>g.current.delete(le));const K=fP(P);K&&c(ie=>ie.some(_=>_.title===K.title&&_.message===K.message&&Date.now()-_.timestamp.getTime()<2e3)?(console.log(" Duplicate notification detected in state, skipping"),ie):(console.log(" Adding new notification:",K.title),[K,...ie].slice(0,50)))},e[3]=x):x=e[3];const y=x;let v,S;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{const P=localStorage.getItem("token"),Z=En();if(!(!P||P==="undefined"||!Z))return h.current.connect(P,s,y),setTimeout(()=>{h.current.isConnected()&&Z&&(console.log(" Subscribing to notifications for:",Z),h.current.subscribe(`/topic/match-pop/${Z}`,hP))},1e3),()=>{h.current.disconnect(),g.current.clear()}},S=[y],e[4]=v,e[5]=S):(v=e[4],S=e[5]),T.useEffect(v,S);let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=(P,Z)=>h.current.subscribe(P,Z),e[6]=w):w=e[6];const C=w;let R;e[7]===Symbol.for("react.memo_cache_sentinel")?(R=(P,Z)=>{h.current.send(P,Z)},e[7]=R):R=e[7];const E=R;let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=P=>{c(Z=>Z.map(K=>K.id===P?{...K,read:!0}:K))},e[8]=j):j=e[8];const Q=j;let M;e[9]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{c(mP)},e[9]=M):M=e[9];const k=M;let $;e[10]===Symbol.for("react.memo_cache_sentinel")?($=P=>{c(Z=>Z.filter(K=>K.id!==P))},e[10]=$):$=e[10];const D=$;let L;e[11]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{c([])},e[11]=L):L=e[11];const V=L;let z;e[12]!==o?(z=o.filter(pP),e[12]=o,e[13]=z):z=e[13];const I=z.length;let H;e[14]!==i||e[15]!==o||e[16]!==I?(H={connectionStatus:i,notifications:o,unreadCount:I,subscribe:C,send:E,markAsRead:Q,markAllAsRead:k,removeNotification:D,clearAll:V},e[14]=i,e[15]=o,e[16]=I,e[17]=H):H=e[17];let F;return e[18]!==t||e[19]!==H?(F=p.jsx(iA.Provider,{value:H,children:t}),e[18]=t,e[19]=H,e[20]=F):F=e[20],F},Ld=()=>{const n=T.useContext(iA);if(!n)throw new Error("useWebSocket must be used within WebSocketProvider");return n};function fP(n){const e={id:`${Date.now()}-${Math.random()}`,timestamp:new Date,read:!1,metadata:n};switch(n.notificationType){case"MATCH_STARTED":return{...e,type:"success",title:"Match Started!",message:"Your match has begun. Good luck!"};case"MATCH_COMPLETED":return{...e,type:"info",title:"Match Completed",message:"The match has ended. Check your results!"};case"USER_RESIGNED":return{...e,type:"success",title:"Opponent Resigned",message:`${n.senderUsername} has resigned from the match.`};case"SUBMISSION_RECEIVED":return{...e,type:"info",title:"Code Submitted",message:`${n.senderUsername} submitted a solution`};case"SUBMISSION_RESULT":{const t=n.submissionStatus==="ACCEPTED";return{...e,type:t?"success":"error",title:t?"Solution Accepted":"Submission Failed",message:`${n.senderUsername} ${t?"passed":"failed"} ${n.passedCases}/${n.totalCases} test cases`}}case"FRIEND_REQUEST_RECEIVED":return{...e,type:"info",title:"New Friend Request",message:`${n.senderUsername} sent you a friend request`};case"FRIEND_REQUEST_ACCEPTED":return{...e,type:"success",title:"Friend Request Accepted",message:`${n.accepterUsername} accepted your friend request`};default:return{...e,type:"info",title:n.title||"Notification",message:n.message||"You have a new notification"}}}function hP(n){console.log(" WebSocket message received:",n.notificationType)}function dP(n){return{...n,read:!0}}function mP(n){return n.map(dP)}function pP(n){return!n.read}function gP(){const n=vt(),{notifications:e}=Ld(),[t,i]=T.useState(!1),[s,a]=T.useState(!1),[o,c]=T.useState("opponent"),[f,h]=T.useState(""),[m,g]=T.useState(!1),[x,y]=T.useState(null),[v,S]=T.useState(),[w,C]=T.useState({currentRate:0,currentRank:v0.BRONZE,nextRankInfo:{nextRate:0,nextRank:v0.BRONZE,nextRankColor:"#6B7280",isMaxRank:!1}}),[R,E]=T.useState(!0),j=T.useRef(!1);T.useEffect(()=>{j.current=s},[s]),T.useEffect(()=>{(async()=>{try{const V=En();if(!V){E(!1);return}const z=await nA();if(console.log("Ongoing match check:",z),z){console.log("Found ongoing match, fetching details...");const[F,P]=await Promise.all([S0(z),tA(z)]),Z=F.find(K=>K.username!==V);if(!Z){console.error("Opponent not found in submission log"),E(!1);return}y({matchId:z,problemId:P.problemId,player1:{username:V,avatarUrl:F.find(K=>K.username===V)?.avatarUrl||"",rank:F.find(K=>K.username===V)?.rank||"BRONZE"},player2:{username:Z.username,avatarUrl:Z.avatarUrl||"/default-avatar.png",rank:Z.rank}}),g(!0);return}const I=await eA(),H=WM(I.currentRate);C({currentRate:I.currentRate,currentRank:I.rank,nextRankInfo:H})}catch(V){console.error("Failed to initialize data",V)}finally{E(!1)}})()},[]),T.useEffect(()=>{const L=e.find(V=>V.metadata?.notificationType==="MATCH_STARTED"&&!V.read);L&&(async()=>{try{const z=L.metadata;console.log("Match started notification:",z);const I=await S0(z.matchId),H=En();if(!H)return;const F=I.find(P=>P.username!==H);if(!F){console.error("Opponent not found in submission log");return}y({matchId:z.matchId,problemId:z.problemId,player1:{username:H,avatarUrl:I.find(P=>P.username===H)?.avatarUrl||"",rank:I.find(P=>P.username===H)?.rank||"BRONZE"},player2:{username:F.username,avatarUrl:F.avatarUrl||"/default-avatar.png",rank:F.rank}}),a(!1),g(!0)}catch(z){console.error("Failed to process match started",z)}})()},[e]),T.useEffect(()=>()=>{j.current&&y2().catch(console.error)},[]);const Q=()=>{x&&(K3(x.matchId.toString()),n(`/play-game/${x.matchId}`,{state:{problemId:x.problemId}}))},M=FM(w.currentRank),k=async()=>{c("opponent"),h(""),S(void 0),a(!0);try{await tP(),console.log("Started searching for opponent")}catch(L){console.error("Failed to start opponent search",L),a(!1)}},$=async()=>{a(!1),h(""),S(void 0);try{await y2(),console.log("Cancelled opponent search")}catch(L){console.error("Failed to cancel opponent search",L)}},D=(L,V)=>{c("friend"),h(V),S(L),a(!0),i(!1)};return m&&x?p.jsx(QM,{player1:x.player1,player2:x.player2,onComplete:Q}):s?p.jsx(EM,{matchType:o,invitedUser:f,notificationId:v,onCancel:$}):p.jsxs("div",{className:"flex flex-col h-screen font-anta relative bg-background",children:[p.jsxs("div",{className:"flex-1 flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-center gap-24 pt-8 pb-4 px-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl text-gray-300 mb-3 font-anta",children:"Current Rate"}),p.jsx("div",{className:"text-6xl font-bold font-anta",style:{color:M},children:R?"...":w.currentRate})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl text-gray-300 mb-3 font-anta",children:"Current Rank"}),p.jsx("div",{className:"text-6xl font-bold font-anta",style:{color:M},children:R?"...":w.currentRank})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl text-gray-300 mb-2 font-anta",children:w.nextRankInfo.isMaxRank?"Max Rank!":"Points to Next Rank"}),p.jsx("div",{className:"text-6xl font-bold font-anta",style:{color:w.nextRankInfo.nextRankColor},children:R?"...":w.nextRankInfo.isMaxRank?"":w.nextRankInfo.nextRate})]})]}),p.jsx("div",{className:"px-4 py-16",children:p.jsx("div",{className:"flex justify-center",children:p.jsx("img",{src:"/src/assets/logo.svg",alt:"App Logo",className:"w-[900px] h-auto"})})}),p.jsx("div",{className:"flex flex-col items-center justify-center px-15",children:p.jsxs("div",{className:"flex flex-col gap-8",children:[p.jsx("button",{onClick:k,className:`\r
                                flex items-center justify-center\r
                                border border-cyan-500/30 bg-cyan-500/5 text-cyan-500\r
                                hover:bg-cyan-500 hover:text-white hover:border-cyan-500 hover:shadow-[0_0_15px_rgba(6,182,212,0.4)]\r
                                px-8 py-4 rounded-full \r
                                font-anta text-2xl uppercase tracking-widest \r
                                transition-all duration-300\r
                            `,children:"Opponent Matching"}),p.jsx("button",{onClick:()=>i(!0),className:`\r
                                flex items-center justify-center\r
                                border border-emerald-500/30 bg-emerald-500/5 text-emerald-500\r
                                hover:bg-emerald-500 hover:text-white hover:border-emerald-500 hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]\r
                                px-8 py-4 rounded-full \r
                                font-anta text-2xl uppercase tracking-widest \r
                                transition-all duration-300\r
                            `,children:"Friend Matching"})]})})]}),p.jsx(TM,{isOpen:t,onClose:()=>i(!1),onInvite:D})]})}function Zc(n){const e=Me.c(19),{isOpen:t,onClose:i,onConfirm:s,title:a,message:o,confirmText:c,cancelText:f,isLoading:h}=n,m=c===void 0?"Confirm":c,g=f===void 0?"Cancel":f,x=h===void 0?!1:h;if(!t)return null;let y;e[0]!==a?(y=p.jsx("h3",{className:"text-2xl font-bold text-white font-anta mb-2",children:a}),e[0]=a,e[1]=y):y=e[1];let v;e[2]!==o?(v=p.jsx("p",{className:"text-text font-anta text-lg mb-8 leading-relaxed opacity-90",children:o}),e[2]=o,e[3]=v):v=e[3];let S;e[4]!==g||e[5]!==x||e[6]!==i?(S=p.jsx("button",{onClick:i,disabled:x,className:"px-6 py-2 rounded-button font-anta text-text hover:text-white border border-transparent hover:border-text/20 transition-all",children:g}),e[4]=g,e[5]=x,e[6]=i,e[7]=S):S=e[7];const w=x?"Processing...":m;let C;e[8]!==x||e[9]!==s||e[10]!==w?(C=p.jsx("button",{onClick:s,disabled:x,className:"bg-orange hover:bg-orange/90 text-white px-8 py-2 rounded-button font-anta shadow-lg transition-all disabled:opacity-50",children:w}),e[8]=x,e[9]=s,e[10]=w,e[11]=C):C=e[11];let R;e[12]!==S||e[13]!==C?(R=p.jsxs("div",{className:"flex gap-4 justify-end",children:[S,C]}),e[12]=S,e[13]=C,e[14]=R):R=e[14];let E;return e[15]!==y||e[16]!==v||e[17]!==R?(E=p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:p.jsxs("div",{className:"w-full max-w-md bg-container border border-sidebar shadow-2xl rounded-button p-6 transform transition-all scale-100",children:[y,v,R]})}),e[15]=y,e[16]=v,e[17]=R,e[18]=E):E=e[18],E}function OP(n){const e=Me.c(41),{startAt:t,durationMinutes:i,isMatchOver:s,onTimeExpire:a}=n,[o,c]=T.useState(0),[f,h]=T.useState(!1);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m={x:window.innerWidth-220,y:100},e[0]=m):m=e[0];const[g,x]=T.useState(m),[y,v]=T.useState(!1);let S;e[1]===Symbol.for("react.memo_cache_sentinel")?(S={x:0,y:0},e[1]=S):S=e[1];const w=T.useRef(S),C=T.useRef(!1);let R;e[2]!==i||e[3]!==s||e[4]!==a||e[5]!==t?(R=()=>{const ie=()=>{if(s)return;const _=new Date(t).getTime()+i*60*1e3,X=new Date().getTime(),te=_-X;if(te<=0){c(0),a&&a();return}c(te)};if(ie(),!s){const le=setInterval(ie,1e3);return()=>clearInterval(le)}},e[2]=i,e[3]=s,e[4]=a,e[5]=t,e[6]=R):R=e[6];let E;e[7]!==i||e[8]!==s||e[9]!==t?(E=[t,i,s],e[7]=i,e[8]=s,e[9]=t,e[10]=E):E=e[10],T.useEffect(R,E);let j;e[11]!==g.x||e[12]!==g.y?(j=ie=>{ie.target.closest("button")||(C.current=!1,v(!0),w.current={x:ie.clientX-g.x,y:ie.clientY-g.y})},e[11]=g.x,e[12]=g.y,e[13]=j):j=e[13];const Q=j;let M,k;e[14]!==y?(M=()=>{const ie=_=>{if(!y)return;C.current=!0;let X=_.clientX-w.current.x,te=_.clientY-w.current.y;X=Math.max(0,Math.min(X,window.innerWidth-50)),te=Math.max(0,Math.min(te,window.innerHeight-50)),x({x:X,y:te})},le=()=>v(!1);return y&&(window.addEventListener("mousemove",ie),window.addEventListener("mouseup",le)),()=>{window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",le)}},k=[y],e[14]=y,e[15]=M,e[16]=k):(M=e[15],k=e[16]),T.useEffect(M,k);const $=bP;let D;e[17]!==s||e[18]!==o?(D=()=>{if(s||o===0)return"text-text";const ie=o/6e4;return ie<5?"text-loseRed":ie<15?"text-statusAttempted":"text-statusSolved"},e[17]=s,e[18]=o,e[19]=D):D=e[19];const L=D;if(f){let ie;e[20]!==g.x||e[21]!==g.y?(ie={left:g.x,top:g.y},e[20]=g.x,e[21]=g.y,e[22]=ie):ie=e[22];let le;e[23]===Symbol.for("react.memo_cache_sentinel")?(le=()=>{C.current||h(!1)},e[23]=le):le=e[23];let _;e[24]===Symbol.for("react.memo_cache_sentinel")?(_=p.jsx("span",{className:"text-2xl",children:""}),e[24]=_):_=e[24];let X;return e[25]!==Q||e[26]!==ie?(X=p.jsx("div",{style:ie,className:"fixed z-50 cursor-pointer bg-container border border-sidebar p-3 rounded-full shadow-xl hover:bg-sidebar transition-transform hover:scale-110 flex items-center justify-center",onMouseDown:Q,onClick:le,title:"Show Timer",children:_}),e[25]=Q,e[26]=ie,e[27]=X):X=e[27],X}let V;e[28]!==g.x||e[29]!==g.y?(V={left:g.x,top:g.y},e[28]=g.x,e[29]=g.y,e[30]=V):V=e[30];let z,I;e[31]===Symbol.for("react.memo_cache_sentinel")?(z=p.jsx("span",{className:"text-xs text-text/80 font-anta uppercase tracking-wider font-bold",children:"Time Left"}),I=()=>h(!0),e[31]=z,e[32]=I):(z=e[31],I=e[32]);let H;e[33]===Symbol.for("react.memo_cache_sentinel")?(H=p.jsxs("div",{className:"flex items-center justify-between bg-sidebar px-3 py-2 border-b border-gray-700/50",children:[z,p.jsx("button",{onClick:I,className:"text-text hover:text-white transition-colors cursor-pointer p-1 rounded hover:bg-white/10",onMouseDown:xP,children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]}),e[33]=H):H=e[33];const F=`text-4xl font-mono font-bold ${L()} drop-shadow-md`,P=$(o);let Z;e[34]!==F||e[35]!==P?(Z=p.jsx("div",{className:"flex flex-col justify-center items-center py-4 bg-container gap-3",children:p.jsx("span",{className:F,children:P})}),e[34]=F,e[35]=P,e[36]=Z):Z=e[36];let K;return e[37]!==Q||e[38]!==Z||e[39]!==V?(K=p.jsxs("div",{style:V,onMouseDown:Q,className:"fixed z-50 w-48 bg-container border border-orange/20 shadow-2xl rounded-xl backdrop-blur-md select-none overflow-hidden cursor-move active:cursor-grabbing",children:[H,Z]}),e[37]=Q,e[38]=Z,e[39]=V,e[40]=K):K=e[40],K}function xP(n){return n.stopPropagation()}function bP(n){const e=Math.floor(n/1e3),t=Math.floor(e/60),i=e%60;return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}var Cg,S2;function yP(){if(S2)return Cg;S2=1;var n={linear:function(e,t,i,s){var a=i-t;return a*e/s+t},easeInQuad:function(e,t,i,s){var a=i-t;return a*(e/=s)*e+t},easeOutQuad:function(e,t,i,s){var a=i-t;return-a*(e/=s)*(e-2)+t},easeInOutQuad:function(e,t,i,s){var a=i-t;return(e/=s/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,s){var a=i-t;return a*(e/=s)*e*e+t},easeOutCubic:function(e,t,i,s){var a=i-t;return a*((e=e/s-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,s){var a=i-t;return(e/=s/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,s){var a=i-t;return a*(e/=s)*e*e*e+t},easeOutQuart:function(e,t,i,s){var a=i-t;return-a*((e=e/s-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,s){var a=i-t;return(e/=s/2)<1?a/2*e*e*e*e+t:-a/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,s){var a=i-t;return a*(e/=s)*e*e*e*e+t},easeOutQuint:function(e,t,i,s){var a=i-t;return a*((e=e/s-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,s){var a=i-t;return(e/=s/2)<1?a/2*e*e*e*e*e+t:a/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,s){var a=i-t;return-a*Math.cos(e/s*(Math.PI/2))+a+t},easeOutSine:function(e,t,i,s){var a=i-t;return a*Math.sin(e/s*(Math.PI/2))+t},easeInOutSine:function(e,t,i,s){var a=i-t;return-a/2*(Math.cos(Math.PI*e/s)-1)+t},easeInExpo:function(e,t,i,s){var a=i-t;return e==0?t:a*Math.pow(2,10*(e/s-1))+t},easeOutExpo:function(e,t,i,s){var a=i-t;return e==s?t+a:a*(-Math.pow(2,-10*e/s)+1)+t},easeInOutExpo:function(e,t,i,s){var a=i-t;return e===0?t:e===s?t+a:(e/=s/2)<1?a/2*Math.pow(2,10*(e-1))+t:a/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,i,s){var a=i-t;return-a*(Math.sqrt(1-(e/=s)*e)-1)+t},easeOutCirc:function(e,t,i,s){var a=i-t;return a*Math.sqrt(1-(e=e/s-1)*e)+t},easeInOutCirc:function(e,t,i,s){var a=i-t;return(e/=s/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+t:a/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,s){var a=i-t,o,c,f;return f=1.70158,c=0,o=a,e===0?t:(e/=s)===1?t+a:(c||(c=s*.3),o<Math.abs(a)?(o=a,f=c/4):f=c/(2*Math.PI)*Math.asin(a/o),-(o*Math.pow(2,10*(e-=1))*Math.sin((e*s-f)*(2*Math.PI)/c))+t)},easeOutElastic:function(e,t,i,s){var a=i-t,o,c,f;return f=1.70158,c=0,o=a,e===0?t:(e/=s)===1?t+a:(c||(c=s*.3),o<Math.abs(a)?(o=a,f=c/4):f=c/(2*Math.PI)*Math.asin(a/o),o*Math.pow(2,-10*e)*Math.sin((e*s-f)*(2*Math.PI)/c)+a+t)},easeInOutElastic:function(e,t,i,s){var a=i-t,o,c,f;return f=1.70158,c=0,o=a,e===0?t:(e/=s/2)===2?t+a:(c||(c=s*(.3*1.5)),o<Math.abs(a)?(o=a,f=c/4):f=c/(2*Math.PI)*Math.asin(a/o),e<1?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e*s-f)*(2*Math.PI)/c))+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*s-f)*(2*Math.PI)/c)*.5+a+t)},easeInBack:function(e,t,i,s,a){var o=i-t;return a===void 0&&(a=1.70158),o*(e/=s)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,i,s,a){var o=i-t;return a===void 0&&(a=1.70158),o*((e=e/s-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,i,s,a){var o=i-t;return a===void 0&&(a=1.70158),(e/=s/2)<1?o/2*(e*e*(((a*=1.525)+1)*e-a))+t:o/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(e,t,i,s){var a=i-t,o;return o=n.easeOutBounce(s-e,0,a,s),a-o+t},easeOutBounce:function(e,t,i,s){var a=i-t;return(e/=s)<1/2.75?a*(7.5625*e*e)+t:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+t:a*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,s){var a=i-t,o;return e<s/2?(o=n.easeInBounce(e*2,0,a,s),o*.5+t):(o=n.easeOutBounce(e*2-s,0,a,s),o*.5+a*.5+t)}};return Cg=n,Cg}var vP=yP();function SP(n){return n*Math.PI/180}function xi(n,e){return n+Math.random()*(e-n)}function wP(n,e){return Math.floor(n+Math.random()*(e-n+1))}var Cc;(function(n){n[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip"})(Cc||(Cc={}));var Zr;(function(n){n[n.Positive=1]="Positive",n[n.Negative=-1]="Negative"})(Zr||(Zr={}));const AP=1e3/60;class CP{constructor(e,t,i,s){this.getOptions=t;const{colors:a,initialVelocityX:o,initialVelocityY:c}=this.getOptions();this.context=e,this.x=i,this.y=s,this.w=xi(5,20),this.h=xi(5,20),this.radius=xi(5,10),this.vx=typeof o=="number"?xi(-o,o):xi(o.min,o.max),this.vy=typeof c=="number"?xi(-c,0):xi(c.min,c.max),this.shape=wP(0,2),this.angle=SP(xi(0,360)),this.angularSpin=xi(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=xi(0,1),this.rotationDirection=xi(0,1)?Zr.Positive:Zr.Negative}update(e){const{gravity:t,wind:i,friction:s,opacity:a,drawShape:o}=this.getOptions(),c=e/AP;this.x+=this.vx*c,this.y+=this.vy*c,this.vy+=t*c,this.vx+=i*c,this.vx*=s**c,this.vy*=s**c,this.rotateY>=1&&this.rotationDirection===Zr.Positive?this.rotationDirection=Zr.Negative:this.rotateY<=-1&&this.rotationDirection===Zr.Negative&&(this.rotationDirection=Zr.Positive);const f=.1*this.rotationDirection*c;if(this.rotateY+=f,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case Cc.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Cc.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Cc.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class kP{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=xi(this.x,this.w+this.x),a=xi(this.y,this.h+this.y);return new CP(this.context,this.getOptions,s,a)},this.animate=s=>{const{canvas:a,context:o,particlesGenerated:c,lastNumberOfPieces:f}=this,{run:h,recycle:m,numberOfPieces:g,debug:x,tweenFunction:y,tweenDuration:v}=this.getOptions();if(!h)return!1;const S=this.particles.length,w=m?S:c;if(w<g){f!==g&&(this.tweenProgress=0,this.tweenFrom=w,this.lastNumberOfPieces=g),this.tweenProgress=Math.min(v,Math.max(0,this.tweenProgress+s));const C=y(this.tweenProgress,this.tweenFrom,g,v),R=Math.round(C-w);for(let E=0;E<R;E++)this.particles.push(this.getParticle());this.particlesGenerated+=R}x&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${S}`,a.width-10,a.height-20));for(let C=this.particles.length-1;C>=0;C--){const R=this.particles[C];R.update(s),(R.y>a.height||R.y<-100||R.x>a.width+100||R.x<-100)&&(m&&w<=g?this.particles[C]=this.getParticle():this.removeParticleAt(C))}return S>0||w<g},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=t}}const ZO={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:vP.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class TP{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const a={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...a,...ZO,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:a,onConfettiComplete:o,frameRate:c},canvas:f,context:h}=this,m=Math.min(s-this.lastFrameTime,50);if(c&&m<1e3/c){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(c?m%c:0),a&&(h.fillStyle="white",h.clearRect(0,0,f.width,f.height)),this.generator.animate(m)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new kP(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){const t=this._options?.run,i=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}}const EP=fn.createRef();class UO extends fn.Component{constructor(e){super(e),this.canvas=fn.createRef(),this.canvas=e.canvasRef||EP}componentDidMount(){if(this.canvas.current){const e=kg(this.props)[0];this.confetti=new TP(this.canvas.current,e)}}componentDidUpdate(){const e=kg(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=kg(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return p.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:i})}}UO.defaultProps={...ZO};UO.displayName="ReactConfetti";function kg(n){const e={},t={},i={},s=[...Object.keys(ZO),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(const o in n){const c=n[o];s.includes(o)?e[o]=c:a.includes(o)?a[o]=c:i[o]=c}return[e,i,t]}const RP=fn.forwardRef((n,e)=>p.jsx(UO,{canvasRef:e,...n}));var sA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w2=fn.createContext&&fn.createContext(sA),QP=["attr","size","title"];function NP(n,e){if(n==null)return{};var t=jP(n,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function jP(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Yh(){return Yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yh.apply(this,arguments)}function A2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Vh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(t),!0).forEach(function(i){MP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MP(n,e,t){return e=PP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PP(n){var e=_P(n,"string");return typeof e=="symbol"?e:e+""}function _P(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rA(n){return n&&n.map((e,t)=>fn.createElement(e.tag,Vh({key:t},e.attr),rA(e.child)))}function DP(n){return e=>fn.createElement($P,Yh({attr:Vh({},n.attr)},e),rA(n.child))}function $P(n){var e=t=>{var{attr:i,size:s,title:a}=n,o=NP(n,QP),c=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),fn.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:f,style:Vh(Vh({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&fn.createElement("title",null,a),n.children)};return w2!==void 0?fn.createElement(w2.Consumer,null,t=>e(t)):e(sA)}function LP(n){return DP({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function zP(n){const e=Me.c(45),{result:t}=n,i=vt();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={width:window.innerWidth,height:window.innerHeight},e[0]=s):s=e[0];const[a,o]=T.useState(s);let c,f;if(e[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const F=()=>o({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},f=[],e[1]=c,e[2]=f):(c=e[1],f=e[2]),T.useEffect(c,f),!t)return null;let h;t.rank===1?h="WIN":t.rank===0?h="DRAW":h="LOSE";let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m={WIN:{title:"VICTORY",msg:"You dominated the arena!",color:"text-winGreen",border:"border-winGreen",glow:"bg-winGreen"},DRAW:{title:"DRAW",msg:"An evenly matched battle.",color:"text-orange",border:"border-orange",glow:"bg-orange"},LOSE:{title:"DEFEAT",msg:"Better luck next time.",color:"text-loseRed",border:"border-loseRed",glow:"bg-loseRed"}},e[3]=m):m=e[3];const x=m[h];let y;e[4]!==t.newRating||e[5]!==t.rateChange||e[6]!==t.rated?(y=()=>{if(!t.rated)return p.jsx("div",{className:"px-3 py-1 rounded-full bg-white/10 text-s text-text/60 font-bold uppercase tracking-wider",children:"Friendly Match"});const F=t.newRating-t.rateChange,P=Ba(F),Z=Ba(t.newRating),K=t.rateChange>=0?"+":"-",ie=Math.abs(t.rateChange),le=t.rateChange>=0?"text-winGreen":t.rateChange<0?"text-loseRed":"text-text/60";return p.jsxs("div",{className:"flex flex-col items-center animate-fade-in w-full",children:[p.jsx("span",{className:"px-3 py-1 rounded-full bg-white/10 text-s text-text/60 font-bold uppercase tracking-wider mb-4",children:"Rating Update"}),p.jsxs("div",{className:"flex items-center justify-center gap-6 md:gap-8",children:[p.jsx("div",{className:"flex flex-col items-center scale-90 opacity-80",children:p.jsx("span",{className:"text-3xl md:text-4xl font-black font-anta transition-colors duration-500",style:{color:P},children:F})}),p.jsxs("div",{className:"flex flex-col items-center justify-center -mt-1",children:[p.jsxs("span",{className:`text-lg font-bold ${le} mb-1`,children:[K,ie]}),p.jsx(LP,{className:"w-10 h-10 text-text/60 opacity-90"})]}),p.jsx("div",{className:"flex flex-col items-center scale-110",children:p.jsx("span",{className:"text-4xl md:text-5xl font-black font-anta drop-shadow-lg transition-colors duration-500",style:{color:Z},children:t.newRating})})]})]})},e[4]=t.newRating,e[5]=t.rateChange,e[6]=t.rated,e[7]=y):y=e[7];const v=y;let S;e[8]!==h||e[9]!==a?(S=h==="WIN"&&p.jsx(RP,{width:a.width,height:a.height,recycle:!1,numberOfPieces:500}),e[8]=h,e[9]=a,e[10]=S):S=e[10];const w=`absolute top-0 w-full h-3 ${x.glow} shadow-[0_0_25px_currentColor]`;let C;e[11]!==w?(C=p.jsx("div",{className:w}),e[11]=w,e[12]=C):C=e[12];const R=`text-7xl font-black tracking-widest italic mb-2 drop-shadow-lg ${x.color}`;let E;e[13]!==x.title||e[14]!==R?(E=p.jsx("h1",{className:R,children:x.title}),e[13]=x.title,e[14]=R,e[15]=E):E=e[15];let j;e[16]!==x.msg?(j=p.jsx("p",{className:"text-text/60 tracking-wide text-xl mb-10 uppercase text-center",children:x.msg}),e[16]=x.msg,e[17]=j):j=e[17];const Q=`w-48 h-48 rounded-full border-4 object-cover shadow-2xl ${x.border}`;let M;e[18]!==t.avatarUrl||e[19]!==Q?(M=p.jsx("img",{src:t.avatarUrl,className:Q}),e[18]=t.avatarUrl,e[19]=Q,e[20]=M):M=e[20];let k;e[21]!==t.newRating?(k=Ba(t.newRating),e[21]=t.newRating,e[22]=k):k=e[22];let $;e[23]!==k?($={color:k},e[23]=k,e[24]=$):$=e[24];let D;e[25]!==t.username||e[26]!==$?(D=p.jsx("h2",{className:"text-4xl font-bold tracking-wide drop-shadow-md",style:$,children:t.username}),e[25]=t.username,e[26]=$,e[27]=D):D=e[27];let L;e[28]!==M||e[29]!==D?(L=p.jsxs("div",{className:"flex flex-col items-center gap-4 mb-8 w-full",children:[M,D]}),e[28]=M,e[29]=D,e[30]=L):L=e[30];let V;e[31]!==v?(V=p.jsx("div",{className:"flex flex-col items-center justify-center w-full py-8 border-t border-sidebar",children:v()}),e[31]=v,e[32]=V):V=e[32];let z;e[33]!==i?(z=p.jsxs("div",{className:"flex gap-6 w-full mt-6",children:[p.jsx("button",{onClick:()=>i(`/profile/${En()}`),className:"flex-1 py-4 text-lg rounded-button bg-white/40 hover:bg-white/50 text-white font-bold transition-all",children:"Profile"}),p.jsx("button",{onClick:()=>i("/play-game"),className:"flex-1 py-4 text-lg rounded-button bg-orange hover:bg-orange/90 text-white font-bold transition-all",children:"Match Page"})]}),e[33]=i,e[34]=z):z=e[34];let I;e[35]!==E||e[36]!==j||e[37]!==L||e[38]!==V||e[39]!==z||e[40]!==C?(I=p.jsxs("div",{className:"relative flex flex-col items-center max-w-2xl w-full p-10 rounded-2xl bg-container border border-sidebar shadow-2xl overflow-hidden animate-scale-up",children:[C,E,j,L,V,z]}),e[35]=E,e[36]=j,e[37]=L,e[38]=V,e[39]=z,e[40]=C,e[41]=I):I=e[41];let H;return e[42]!==I||e[43]!==S?(H=p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 font-anta animate-fade-in",children:[S,I]}),e[42]=I,e[43]=S,e[44]=H):H=e[44],H}const BP=({matchId:n,onResign:e,enabled:t=!0})=>{const i=vt(),[s,a]=T.useState(!1),[o,c]=T.useState(null),[f,h]=T.useState(!1),m=IR(({currentLocation:y,nextLocation:v})=>!t||f?!1:y.pathname!==v.pathname&&!v.pathname.startsWith(`/play-game/${n}`));return T.useEffect(()=>{m.state==="blocked"&&(a(!0),c(m.location?.pathname||null))},[m.state]),T.useEffect(()=>{if(!t)return;const y=v=>(v.preventDefault(),v.returnValue="You have an active match. Are you sure you want to leave?",v.returnValue);return window.addEventListener("beforeunload",y),()=>window.removeEventListener("beforeunload",y)},[t]),{showResignModal:s,setShowResignModal:a,handleResignConfirm:async()=>{try{h(!0),await e(),a(!1),m.state==="blocked"&&m.proceed?m.proceed():o&&i(o)}catch(y){console.error("Failed to resign from match:",y),alert("Failed to resign from match. Please try again.")}finally{h(!1),c(null)}},handleResignCancel:()=>{a(!1),c(null),m.state==="blocked"&&m.reset&&m.reset()}}};function ZP(){const{id:n}=fs(),{notifications:e}=Ld(),[t,i]=T.useState(!1),[s,a]=T.useState(!1),[o,c]=T.useState(null),[f,h]=T.useState(null),[m,g]=T.useState(!1),x=o?.state==="ONGOING";T.useEffect(()=>(n&&(GM(),K3(n)),()=>{x||gc()}),[n,x]);const y=async()=>{if(n)try{const j=await eP(Number(n));h(j),g(!0),c(Q=>Q?{...Q,state:"COMPLETED"}:null),gc(),await HM()}catch(j){console.error("Failed to load match results",j)}};T.useEffect(()=>{if(!n)return;(async()=>{try{const Q=await tA(Number(n));c({startAt:Q.startAt,duration:Q.duration,state:Q.matchState,problemId:Q.problemId}),(Q.matchState==="COMPLETED"||Q.matchState==="RESIGNED")&&y()}catch(Q){console.error("Could not fetch match data",Q)}})()},[n]),T.useEffect(()=>{e.filter(Q=>Q.metadata?.matchId===Number(n)&&!Q.read&&["MATCH_COMPLETED","USER_RESIGNED"].includes(Q.metadata?.notificationType)).forEach(Q=>{const M=Q.metadata;M.notificationType==="MATCH_COMPLETED"?(c(k=>k?{...k,state:"COMPLETED"}:null),setTimeout(()=>{y()},1e3)):M.notificationType==="USER_RESIGNED"&&c(k=>k?{...k,state:"COMPLETED"}:null)})},[e,n]);const v=async()=>{if(n)try{await b2(Number(n)),c(j=>j?{...j,state:"COMPLETED"}:null),gc()}catch(j){throw console.error("Resignation failed",j),j}},{showResignModal:S,handleResignConfirm:w,handleResignCancel:C}=BP({matchId:n||"",onResign:v,enabled:x}),R=()=>i(!0),E=async()=>{if(n){a(!0);try{await b2(Number(n)),c(j=>j?{...j,state:"COMPLETED"}:null),gc(),i(!1)}catch(j){console.error("Resignation failed",j),alert("Failed to resign.")}finally{a(!1)}}};return p.jsxs("div",{className:"flex flex-col h-screen font-anta relative bg-background",children:[p.jsxs("div",{className:"relative w-full",children:[p.jsx(hu,{navigators:hU}),x&&p.jsx("div",{className:"absolute top-3 right-4 h-full flex items-center pr-2 pointer-events-none",children:p.jsx("button",{onClick:R,className:`pointer-events-auto bg-orange hover:bg-orange/90 text-white \r
                                       px-6 py-2 rounded-button text-sm font-bold tracking-wide font-anta \r
                                       shadow-md transition-all duration-200`,children:"Resign"})})]}),p.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto custom-scroll",children:p.jsx(Ia,{context:{problemId:o?.problemId}})}),o&&p.jsx(OP,{startAt:o.startAt,durationMinutes:o.duration,isMatchOver:!x}),m&&f&&p.jsx(zP,{result:f}),p.jsx(Zc,{isOpen:t,onClose:()=>i(!1),onConfirm:E,title:"Resign?",message:"Are you sure you want to resign?",confirmText:"Yes, Resign",cancelText:"No, Keep Playing",isLoading:s}),p.jsx(Zc,{isOpen:S,onClose:C,onConfirm:w,title:"Leave Match",message:"You must resign from the match to leave. This will count as a loss. Are you sure?",confirmText:"Resign & Leave",cancelText:"Stay in Match"})]})}const aA={BRONZE:"Bronze",SILVER:"Silver",GOLD:"Gold",DIAMOND:"Diamond",MASTER:"Master",CHAMPION:"Champion",LEGEND:"Legend"};function UP(n){const e=Me.c(35),{position:t,username:i,rank:s,rankColor:a,rate:o,onUsernameClick:c}=n,f=t<=3;let h;e[0]!==t?(h={1:"bg-gradient-to-r from-yellow-500/20 to-transparent border-l-4 border-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.1)]",2:"bg-gradient-to-r from-slate-400/15 to-transparent border-l-4 border-slate-400",3:"bg-gradient-to-r from-amber-700/15 to-transparent border-l-4 border-amber-700"}[t]||"border-l-4 border-transparent hover:bg-white/5",e[0]=t,e[1]=h):h=e[1];const m=h,g=f?"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]":"",x=`
                grid grid-cols-[80px_1fr_1fr_120px] gap-4 px-6 py-4 items-center 
                transition-all duration-300 cursor-pointer mb-1 rounded-r-md
                ${m}
            `;let y;e[2]!==t?(y=t===1&&p.jsx("span",{className:"text-xl",children:""}),e[2]=t,e[3]=y):y=e[3];const v=`font-anta text-lg ${f?"font-bold":"text-text/40"}`,S=t===1?"":`#${t}`;let w;e[4]!==v||e[5]!==S?(w=p.jsx("span",{className:v,children:S}),e[4]=v,e[5]=S,e[6]=w):w=e[6];let C;e[7]!==y||e[8]!==w?(C=p.jsxs("div",{className:"flex justify-center items-center gap-1",children:[y,w]}),e[7]=y,e[8]=w,e[9]=C):C=e[9];const R=`font-anta text-base font-bold text-center tracking-wide ${g}`;let E;e[10]!==a?(E={color:a},e[10]=a,e[11]=E):E=e[11];let j;e[12]!==R||e[13]!==E||e[14]!==i?(j=p.jsx("span",{className:R,style:E,children:i}),e[12]=R,e[13]=E,e[14]=i,e[15]=j):j=e[15];const Q=`${a}40`,M=`${a}10`;let k;e[16]!==a||e[17]!==Q||e[18]!==M?(k={borderColor:Q,color:a,backgroundColor:M},e[16]=a,e[17]=Q,e[18]=M,e[19]=k):k=e[19];const $=aA[s]||s;let D;e[20]!==k||e[21]!==$?(D=p.jsx("div",{className:"flex justify-center",children:p.jsx("span",{className:"font-anta text-[10px] px-3 py-1 rounded-full border uppercase tracking-widest",style:k,children:$})}),e[20]=k,e[21]=$,e[22]=D):D=e[22];let L;e[23]!==o?(L=p.jsx("span",{className:"text-white font-anta text-xl font-bold group-hover:text-orange transition-colors",children:o}),e[23]=o,e[24]=L):L=e[24];let V;e[25]===Symbol.for("react.memo_cache_sentinel")?(V=p.jsx("span",{className:"text-[9px] text-orange uppercase tracking-tighter opacity-70",children:"Points"}),e[25]=V):V=e[25];let z;e[26]!==L?(z=p.jsxs("div",{className:"flex flex-col items-center group",children:[L,V]}),e[26]=L,e[27]=z):z=e[27];let I;return e[28]!==c||e[29]!==j||e[30]!==D||e[31]!==z||e[32]!==x||e[33]!==C?(I=p.jsxs("div",{onClick:c,className:x,children:[C,j,D,z]}),e[28]=c,e[29]=j,e[30]=D,e[31]=z,e[32]=x,e[33]=C,e[34]=I):I=e[34],I}function XP(){const[n,e]=T.useState([]),[t,i]=T.useState(0),[s,a]=T.useState(1),[o,c]=T.useState(!1),f=vt(),h=20;async function m(g=0){c(!0);const x=Date.now();try{const y=await IM(g,h);await Us(x),e(y.content),a(y.totalPages),i(g)}catch(y){console.error("Failed to load leaderboard",y)}finally{c(!1)}}return T.useEffect(()=>{m()},[]),o?p.jsx("div",{className:"flex flex-col h-screen font-anta",children:p.jsx(ps,{loadingMessage:"Loading Problems"})}):p.jsxs("div",{className:"flex flex-col h-[90vh] space-y-6 p-6 max-w-6xl mx-auto w-full",children:[p.jsxs("div",{className:"text-center py-4",children:[p.jsxs("h1",{className:"text-4xl font-anta text-white uppercase tracking-[0.25em]",children:["Hall of ",p.jsx("span",{className:"text-orange",children:"Fame"})]}),p.jsx("p",{className:"text-text/30 font-anta text-[10px] uppercase mt-1 tracking-[0.4em]",children:"Global Rankings"})]}),p.jsx("div",{className:"flex-1 overflow-hidden flex flex-col bg-sidebar/20 backdrop-blur-sm rounded-xl border border-white/5",children:p.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll",children:p.jsx(ri,{data:n,columns:["POS","USER","TIER","ELO"],gridCols:"grid-cols-[80px_1fr_1fr_120px]",renderRow:g=>p.jsx(UP,{position:t*h+n.indexOf(g)+1,username:g.username,rank:Xh(g.currentRate),rankColor:Ba(g.currentRate),rate:g.currentRate,onUsernameClick:()=>f(`/profile/${g.username}/overview`)},g.username)})})}),p.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[p.jsx("button",{onClick:()=>m(t-1),disabled:t===0||o,className:"font-anta text-xs text-text/40 hover:text-orange disabled:opacity-10 transition-colors uppercase tracking-widest",children:"Previous"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-[1px] w-8 bg-white/10"}),p.jsxs("span",{className:"font-anta text-xs text-orange tracking-widest",children:[t+1," / ",s]}),p.jsx("div",{className:"h-[1px] w-8 bg-white/10"})]}),p.jsx("button",{onClick:()=>m(t+1),disabled:t>=s-1||o,className:"font-anta text-xs text-text/40 hover:text-orange disabled:opacity-10 transition-colors uppercase tracking-widest",children:"Next"})]})]})}function IP(){const n=Me.c(2);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=p.jsx(hu,{navigators:fU}),n[0]=e):e=n[0];let t;return n[1]===Symbol.for("react.memo_cache_sentinel")?(t=p.jsxs("div",{className:"flex flex-col h-screen font-anta",children:[e,p.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll",children:p.jsx(Ia,{})})]}),n[1]=t):t=n[1],t}const YP=async n=>{const e=await Qe({method:"POST",url:"/auth/signup",data:n});return localStorage.clear(),localStorage.setItem("token",e.token),e},lA=async n=>{const e=await Qe({method:"POST",url:"/auth/login",data:n});return localStorage.clear(),localStorage.setItem("token",e.token),e},VP=async(n,e)=>{const t=await Qe({method:"POST",url:"/auth/GoogleSignUp/completeRegistration",data:{username:n,email:e},withCredentials:!0});return localStorage.setItem("token",t.token),t},qP=async n=>Qe({method:"POST",url:"/auth/recovery-question",data:n,headers:{"Content-Type":"text/plain"}}),HP=async n=>Qe({method:"POST",url:"/auth/verify-recovery",data:n}),GP=async n=>Qe({method:"POST",url:"/auth/reset-password",data:n});function Jl(n){const e=Me.c(10),{type:t,placeholder:i,value:s,onChange:a,error:o}=n,c=t===void 0?"text":t;let f;e[0]!==a||e[1]!==i||e[2]!==c||e[3]!==s?(f=p.jsx("input",{type:c,placeholder:i,value:s,onChange:a,className:"w-full p-3 rounded-button bg-background text-white placeholder-gray-400 border border-gray-600"}),e[0]=a,e[1]=i,e[2]=c,e[3]=s,e[4]=f):f=e[4];let h;e[5]!==o?(h=o&&p.jsx("p",{className:"text-red-500 text-sm",children:o}),e[5]=o,e[6]=h):h=e[6];let m;return e[7]!==f||e[8]!==h?(m=p.jsxs("div",{children:[f,h]}),e[7]=f,e[8]=h,e[9]=m):m=e[9],m}function Uc(n){const e=Me.c(20),{placeholder:t,value:i,onChange:s,error:a}=n,[o,c]=T.useState(!1),f=o?"text":"password";let h;e[0]!==s||e[1]!==t||e[2]!==f||e[3]!==i?(h=p.jsx("input",{type:f,placeholder:t,value:i,onChange:s,className:"w-full p-3 rounded-button bg-background text-white placeholder-gray-400 border border-gray-600"}),e[0]=s,e[1]=t,e[2]=f,e[3]=i,e[4]=h):h=e[4];let m;e[5]!==o?(m=()=>c(!o),e[5]=o,e[6]=m):m=e[6];let g;e[7]!==o?(g=o?p.jsx(Yj,{size:20}):p.jsx(qj,{size:20}),e[7]=o,e[8]=g):g=e[8];let x;e[9]!==m||e[10]!==g?(x=p.jsx("span",{onClick:m,className:"absolute right-3 top-3 cursor-pointer",children:g}),e[9]=m,e[10]=g,e[11]=x):x=e[11];let y;e[12]!==h||e[13]!==x?(y=p.jsxs("div",{className:"relative",children:[h,x]}),e[12]=h,e[13]=x,e[14]=y):y=e[14];let v;e[15]!==a?(v=a&&p.jsx("p",{className:"text-red-500 text-sm",children:a}),e[15]=a,e[16]=v):v=e[16];let S;return e[17]!==y||e[18]!==v?(S=p.jsxs("div",{children:[y,v]}),e[17]=y,e[18]=v,e[19]=S):S=e[19],S}const oA=[{value:"MOTHERS_FRIEND",label:"What is your mother's friend name?"},{value:"FIRST_PET",label:"What was the name of your first pet?"},{value:"FIRST_CITY",label:"What was the first city you lived in?"},{value:"FAVORITE_MOVIE",label:"What is your favorite movie?"}],WP=oA.reduce((n,e)=>(n[e.value]=e.label,n),{}),FP=n=>WP[n]||n;function KP(n){const e=Me.c(25),{isOpen:t,onClose:i,recoveryQuestion:s,setRecoveryQuestion:a,recoveryAnswer:o,setRecoveryAnswer:c,errorQuestion:f,errorAnswer:h}=n;if(!t)return null;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=p.jsx("h2",{className:"text-lg mb-4",children:"Recovery Question"}),e[0]=m):m=e[0];let g;e[1]!==a?(g=Q=>a(Q.target.value),e[1]=a,e[2]=g):g=e[2];let x,y;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=p.jsx("option",{value:"",children:"Select recovery question"}),y=oA.map(JP),e[3]=x,e[4]=y):(x=e[3],y=e[4]);let v;e[5]!==s||e[6]!==g?(v=p.jsxs("select",{value:s,onChange:g,className:"w-full p-3 rounded-button bg-background text-white border border-gray-600 focus:outline-none focus:border-orange",children:[x,y]}),e[5]=s,e[6]=g,e[7]=v):v=e[7];let S;e[8]!==f?(S=f&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:f}),e[8]=f,e[9]=S):S=e[9];let w;e[10]!==c?(w=Q=>c(Q.target.value),e[10]=c,e[11]=w):w=e[11];let C;e[12]!==o||e[13]!==w?(C=p.jsx("input",{type:"text",placeholder:"Recovery Answer",value:o,onChange:w,className:"w-full p-3 mt-3 rounded-button bg-background text-white border border-gray-600 focus:outline-none focus:border-orange"}),e[12]=o,e[13]=w,e[14]=C):C=e[14];let R;e[15]!==h?(R=h&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:h}),e[15]=h,e[16]=R):R=e[16];let E;e[17]!==i?(E=p.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[p.jsx("button",{type:"button",className:"bg-background border border-gray-600 p-2 rounded-button text-gray-300 hover:text-white",onClick:i,children:"Cancel"}),p.jsx("button",{type:"button",className:"bg-orange p-2 rounded-button hover:opacity-90 text-white",onClick:i,children:"Save"})]}),e[17]=i,e[18]=E):E=e[18];let j;return e[19]!==E||e[20]!==v||e[21]!==S||e[22]!==C||e[23]!==R?(j=p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 z-50",children:p.jsxs("div",{className:"bg-container p-6 rounded-button shadow-lg w-full max-w-md text-white",children:[m,v,S,C,R,E]})}),e[19]=E,e[20]=v,e[21]=S,e[22]=C,e[23]=R,e[24]=j):j=e[24],j}function JP(n){return p.jsx("option",{value:n.value,children:n.label},n.value)}function XO(){const n=Me.c(17);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e={background:"#151924",container:"#212530",orange:"#EC7438",black:"#000000"},n[0]=e):e=n[0];const t=e;let i;n[1]===Symbol.for("react.memo_cache_sentinel")?(i=Array.from({length:225}),n[1]=i):i=n[1];const s=i;let a,o;n[2]===Symbol.for("react.memo_cache_sentinel")?(a={backgroundColor:t.background},o=p.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -30px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        @keyframes drift {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }
        @keyframes driftX {
          0%, 100% { transform: translateX(0px); }
          50% { transform: translateX(20px); }
        }
        .float-animate { animation: float 20s ease-in-out infinite; }
        .drift-y { animation: drift 15s ease-in-out infinite; }
        .drift-x { animation: driftX 12s ease-in-out infinite; }
        
        /* Tactical Diamond Shape */
        .diamond {
          clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        }
      `}),n[2]=a,n[3]=o):(a=n[2],o=n[3]);let c;n[4]===Symbol.for("react.memo_cache_sentinel")?(c=p.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20 pointer-events-auto",children:p.jsx("div",{className:"grid grid-cols-[repeat(15,minmax(0,1fr))] w-[120vw] h-[120vh] rotate-[15deg]",children:s.map((j,Q)=>p.jsx("div",{className:"diamond border border-white/5 transition-all duration-700 ease-out hover:duration-75",style:{backgroundColor:`${t.container}44`},onMouseEnter:M=>{const k=M.target;k.style.backgroundColor=t.orange,k.style.transform="scale(1.1) translateZ(20px)",k.style.opacity="0.8"},onMouseLeave:M=>{const k=M.target;k.style.backgroundColor=`${t.container}44`,k.style.transform="scale(0.95)",k.style.opacity="1"}},Q))})}),n[4]=c):c=n[4];let f;n[5]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-gradient-to-br from-[#EC7438]/20 via-[#EC7438]/10 to-transparent rounded-full blur-3xl float-animate"}),n[5]=f):f=n[5];let h;n[6]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx("div",{className:"absolute top-1/4 -right-32 w-[500px] h-[500px] bg-gradient-to-bl from-blue-500/10 via-blue-600/5 to-transparent rounded-full blur-3xl float-animate",style:{animationDelay:"-5s"}}),n[6]=h):h=n[6];let m;n[7]===Symbol.for("react.memo_cache_sentinel")?(m=p.jsx("div",{className:"absolute top-20 left-20 text-6xl font-mono opacity-25 drift-y",style:{color:t.orange},children:"</>"}),n[7]=m):m=n[7];let g;n[8]===Symbol.for("react.memo_cache_sentinel")?(g=p.jsx("div",{className:"absolute top-32 right-40 text-blue-400 text-7xl font-mono opacity-20 float-animate",style:{animationDelay:"3s"},children:"{}"}),n[8]=g):g=n[8];let x;n[9]===Symbol.for("react.memo_cache_sentinel")?(x=p.jsx("div",{className:"absolute bottom-40 left-32 text-blue-300 text-7xl font-mono opacity-20 drift-x",style:{animationDelay:"2s"},children:"[]"}),n[9]=x):x=n[9];let y;n[10]===Symbol.for("react.memo_cache_sentinel")?(y=p.jsx("div",{className:"absolute bottom-24 right-24 text-6xl font-mono opacity-25 float-animate",style:{color:t.orange,animationDelay:"4s"},children:"()"}),n[10]=y):y=n[10];let v;n[11]===Symbol.for("react.memo_cache_sentinel")?(v={color:t.orange},n[11]=v):v=n[11];let S;n[12]===Symbol.for("react.memo_cache_sentinel")?(S=p.jsx("br",{}),n[12]=S):S=n[12];let w;n[13]===Symbol.for("react.memo_cache_sentinel")?(w=p.jsxs("div",{className:"absolute top-0 left-1/4 text-xs font-mono whitespace-pre leading-relaxed drift-y opacity-20",style:v,children:["01001000",S,"10110101",p.jsx("br",{}),"11010010"]}),n[13]=w):w=n[13];let C;n[14]===Symbol.for("react.memo_cache_sentinel")?(C={animationDelay:"4s"},n[14]=C):C=n[14];let R;n[15]===Symbol.for("react.memo_cache_sentinel")?(R=p.jsx("br",{}),n[15]=R):R=n[15];let E;return n[16]===Symbol.for("react.memo_cache_sentinel")?(E=p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",style:a,children:[o,c,p.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[f,h,m,g,x,y,w,p.jsxs("div",{className:"absolute bottom-10 right-1/4 text-blue-300/20 text-xs font-mono whitespace-pre leading-relaxed drift-y",style:C,children:["01101001",R,"11100101",p.jsx("br",{}),"00010110"]})]}),p.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_200px_#000000] opacity-90 pointer-events-none"})]}),n[16]=E):E=n[16],E}const cA=n=>n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?{isValid:!0}:{isValid:!1,error:"Please enter a valid email address."}:{isValid:!1,error:"Email is required"},e_=n=>n.trim()?n.length<4?{isValid:!1,error:"Username is too short"}:/^[a-zA-Z0-9_-]{4,32}$/.test(n)?{isValid:!0}:{isValid:!1,error:"Username must be 432 characters and contain only letters, numbers, '_' or '-'."}:{isValid:!1,error:"Username is required"},IO=n=>n.trim()?n.length<8||n.length>64?{isValid:!1,error:"Password must be 864 characters long."}:{isValid:!0}:{isValid:!1,error:"Password is required"},uA=(n,e)=>n!==e?{isValid:!1,error:"Passwords do not match."}:{isValid:!0},w0=n=>n.trim()?n.length<2||n.length>100?{isValid:!1,error:"Recovery answer must be 2100 characters."}:{isValid:!0}:{isValid:!1,error:"Please enter an answer."},C2=n=>n.trim()?{isValid:!0}:{isValid:!1,error:"Please select a recovery question."},t_=n=>n.trim()?n.length<4?{isValid:!1,error:"Username/Email is too short"}:{isValid:!0}:{isValid:!1,error:"Email/Username is required"};function n_(){const[n,e]=T.useState({username:"",email:"",password:"",confirmPassword:"",recoveryQuestion:"",recoveryAnswer:""}),[t,i]=T.useState(!1),[s,a]=T.useState({}),[o,c]=T.useState(!1),f=vt(),h=v=>S=>{e(w=>({...w,[v]:S.target.value})),s[v]&&a(w=>({...w,[v]:""}))},m=()=>{sessionStorage.setItem("oauth_flow","signup"),window.location.href=`${$d}/oauth2/authorization/google`},g=()=>{const v={},S=e_(n.username);S.isValid||(v.username=S.error);const w=cA(n.email);w.isValid||(v.email=w.error);const C=IO(n.password);C.isValid||(v.password=C.error);const R=uA(n.password,n.confirmPassword);R.isValid||(v.confirmPassword=R.error);const E=C2(n.recoveryQuestion);E.isValid||(v.recoveryQuestion=E.error);const j=w0(n.recoveryAnswer);return j.isValid||(v.recoveryAnswer=j.error),a(v),Object.keys(v).length===0},x=async v=>{if(v.preventDefault(),a({}),!g())return;c(!0);const S={username:n.username,email:n.email,password:n.password,recoveryQuestion:n.recoveryQuestion,recoveryAnswer:n.recoveryAnswer};try{await YP(S),f(`/profile/${n.username}/overview`,{replace:!0})}catch(w){a({global:w||"Registration failed"})}finally{c(!1)}},y=(v,S)=>{e(w=>({...w,recoveryQuestion:v,recoveryAnswer:S})),s.recoveryQuestion&&C2(v).isValid&&a(w=>({...w,recoveryQuestion:""})),s.recoveryAnswer&&w0(S).isValid&&a(w=>({...w,recoveryAnswer:""}))};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background font-anta relative overflow-hidden",children:[p.jsx(XO,{}),p.jsxs("div",{className:"bg-container p-8 rounded-button shadow-lg w-full max-w-md text-white relative z-10",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("img",{src:"/src/assets/logo.svg",alt:"App Logo",className:"w-48"})}),s.global&&p.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 text-red-100 text-sm rounded text-center",children:s.global}),p.jsxs("form",{onSubmit:x,className:"flex flex-col gap-4",children:[p.jsx(Jl,{placeholder:"Username",value:n.username,onChange:h("username"),error:s.username}),p.jsx(Jl,{type:"email",placeholder:"Email",value:n.email,onChange:h("email"),error:s.email}),p.jsx(Uc,{placeholder:"Password",value:n.password,onChange:h("password"),error:s.password}),p.jsx(Uc,{placeholder:"Confirm Password",value:n.confirmPassword,onChange:h("confirmPassword"),error:s.confirmPassword}),p.jsx("button",{type:"button",onClick:()=>i(!0),className:`bg-background border p-2 rounded-button hover:opacity-90 transition-colors
              ${s.recoveryQuestion||s.recoveryAnswer?"border-red-500 text-red-100":"border-gray-600"}
            `,children:n.recoveryQuestion?" Recovery Question Set":"Set Recovery Question"}),(s.recoveryQuestion||s.recoveryAnswer)&&p.jsx("p",{className:"text-red-500 text-sm text-center",children:s.recoveryQuestion||s.recoveryAnswer}),p.jsx("button",{type:"submit",disabled:o,className:`bg-orange text-white py-2 rounded-button mt-2 transition-all flex justify-center items-center
              ${o?"opacity-50 cursor-not-allowed":"hover:opacity-90"}
            `,children:o?p.jsx("span",{children:"Creating account..."}):"Sign Up"})]}),p.jsxs("div",{className:"flex items-center my-4",children:[p.jsx("div",{className:"flex-grow border-t border-gray-600"}),p.jsx("span",{className:"px-2 text-gray-400",children:"OR"}),p.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),p.jsxs("button",{onClick:m,disabled:o,className:"flex items-center justify-center gap-2 bg-background border border-gray-600 py-2 rounded-button w-full hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx("img",{src:"/src/assets/google-icon-1.png",alt:"Google Icon",className:"w-7 h-7"}),"Sign up with Google"]}),p.jsxs("div",{className:"text-center text-sm mt-4",children:[p.jsx("span",{children:"Already have an account? "}),p.jsx(Ya,{to:"/log-in",className:"text-orange hover:underline",children:"Log in"})]})]}),p.jsx(KP,{isOpen:t,onClose:()=>i(!1),recoveryQuestion:n.recoveryQuestion,setRecoveryQuestion:v=>y(v,n.recoveryAnswer),recoveryAnswer:n.recoveryAnswer,setRecoveryAnswer:v=>y(n.recoveryQuestion,v),errorQuestion:s.recoveryQuestion,errorAnswer:s.recoveryAnswer})]})}function i_(){const[n,e]=T.useState(""),[t,i]=T.useState(""),[s,a]=T.useState({email:"",password:""}),[o,c]=T.useState(""),[f,h]=T.useState(!1),m=vt(),g=async v=>{v.preventDefault();const S={email:"",password:""};c("");let w=!0;const C=t_(n);C.isValid||(S.email=C.error,w=!1);const R=IO(t);if(R.isValid||(S.password=R.error,w=!1),a(S),!!w){h(!0);try{await lA({email:n,password:t});const j=await nA();j?m(`/play-game/${j}`,{replace:!0}):m(`/profile/${En()}/overview`,{replace:!0})}catch(E){c(E||"Login failed. Please try again.")}finally{h(!1)}}},x=()=>{sessionStorage.setItem("oauth_flow","login"),window.location.href=`${$d}/oauth2/authorization/google`},y=n.trim().length>=4&&t.trim().length>=8;return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background font-anta relative overflow-hidden",children:[p.jsx(XO,{}),p.jsxs("div",{className:"bg-container p-8 rounded-button shadow-lg w-full max-w-md text-white relative z-10",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("img",{src:"/src/assets/logo.svg",alt:"App Logo",className:"w-48"})}),o&&p.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 text-red-100 text-sm rounded text-center",children:o}),p.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[p.jsx(Jl,{placeholder:"Email",value:n,onChange:v=>{e(v.target.value),s.email&&a(S=>({...S,email:""}))},error:s.email}),p.jsx(Uc,{placeholder:"Password",value:t,onChange:v=>{i(v.target.value),s.password&&a(S=>({...S,password:""}))},error:s.password}),p.jsx("div",{className:"text-right text-sm",children:p.jsx(Ya,{to:"/password-recovery",className:"text-orange hover:underline",children:"Forgot password?"})}),p.jsx("button",{type:"submit",disabled:!y||f,className:`bg-orange text-white py-2 rounded-button mt-2 transition-all flex justify-center items-center
              ${!y||f?"opacity-50 cursor-not-allowed":"hover:opacity-90"}
            `,children:f?p.jsx("span",{children:"Logging in..."}):"Log In"})]}),p.jsxs("div",{className:"flex items-center my-4",children:[p.jsx("div",{className:"flex-grow border-t border-gray-600"}),p.jsx("span",{className:"px-2 text-gray-400",children:"OR"}),p.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),p.jsxs("button",{onClick:x,type:"button",disabled:f,className:"flex items-center justify-center gap-2 bg-background border border-gray-600 py-2 rounded-button w-full hover:bg-gray-800 transition-colors",children:[p.jsx("img",{src:"src/assets/google-icon-1.png",alt:"Google Icon",className:"w-7 h-7"}),"Log in with Google"]}),p.jsxs("div",{className:"text-center text-sm mt-4",children:[p.jsx("span",{children:"Don't have an account? "}),p.jsx(Ya,{to:"/sign-up",className:"text-orange hover:underline",children:"Sign up"})]})]})]})}function s_(){const n=Me.c(2);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=En(),n[0]=e):e=n[0];const t=e;let i;return n[1]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen w-full bg-container font-anta",children:[p.jsx("h1",{className:"text-9xl font-bold text-text mb-4",children:"404"}),p.jsx("h2",{className:"text-3xl font-semibold text-text/50 mb-4",children:"Page Not Found"}),p.jsx("p",{className:"text-text mb-8 text-center max-w-lg",children:"The page you're looking for doesn't exist or has been moved."}),p.jsx(Nd,{to:`/profile/${t}/overview`,className:"px-6 py-3 bg-orange text-white rounded-lg hover:bg-orange/80 transition-colors",children:"Go to Profile"})]}),n[1]=i):i=n[1],i}function r_(){const[n,e]=T.useState(""),[t,i]=T.useState(""),[s,a]=T.useState({}),[o,c]=T.useState(!1),f=wi(),h=vt();T.useEffect(()=>{if(f.state?.token){const y=$c(f.state.token)?.sub||"";i(y)}else{const x=localStorage.getItem("token");if(x){const y=$c(x);y?.sub&&i(y.sub)}}sessionStorage.setItem("oauth_processed","true")},[f.state]);const m=()=>{const x={};return/^[a-zA-Z0-9_-]{4,32}$/.test(n)||(x.username="Username must be 4-32 characters and contain only letters, numbers, '_' or '-'."),a(x),Object.keys(x).length===0},g=async()=>{if(m()){c(!0),a({});try{await VP(n,t),sessionStorage.removeItem("oauth_flow"),await new Promise(x=>setTimeout(x,1e3)),h(`/profile/${n}/overview`,{replace:!0})}catch(x){a({username:x.response?.data?.message||"Username already taken or an error occurred."})}finally{c(!1)}}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background font-anta",children:p.jsxs("div",{className:"bg-container p-8 rounded-button shadow-lg w-full max-w-md text-white",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("img",{src:"/src/assets/logo.svg",alt:"App Logo",className:"w-48"})}),p.jsx("h2",{className:"text-2xl mb-4 text-center",children:"Complete Your Registration"}),p.jsxs("p",{className:"text-gray-400 mb-6 text-center text-sm",children:["Email: ",p.jsx("span",{className:"text-white",children:t||"Not found"})]}),p.jsx(Jl,{placeholder:"Username",value:n,onChange:x=>e(x.target.value),error:s.username}),p.jsx("div",{className:"flex items-center my-4"}),p.jsx("button",{onClick:g,className:"bg-orange hover:opacity-90 py-2 px-8 rounded-lg text-white mt-2 block mx-auto",children:o?"Finalizing...":"Complete Registration"})]})})}function a_(){const n=Me.c(12),e=vt(),t=wi(),[i,s]=T.useState(null);let a;n[0]!==t.search||n[1]!==e?(a=()=>{const h=new URLSearchParams(t.search).get("token");if(!h){s("Authentication failed: No token received."),setTimeout(()=>e("/sign-up"),2500);return}localStorage.setItem("token",h);const g=$c(h)?.username||"";g&&g.trim()!==""?e(`/profile/${g}/overview`,{replace:!0}):e("/complete-registration",{state:{token:h},replace:!0})},n[0]=t.search,n[1]=e,n[2]=a):a=n[2];let o;if(n[3]!==t||n[4]!==e?(o=[t,e],n[3]=t,n[4]=e,n[5]=o):o=n[5],T.useEffect(a,o),i){let f;n[6]!==i?(f=p.jsx("p",{className:"text-red-500 mb-4",children:i}),n[6]=i,n[7]=f):f=n[7];let h;n[8]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx("p",{children:"Redirecting to sign up..."}),n[8]=h):h=n[8];let m;return n[9]!==f?(m=p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background font-anta text-white p-4",children:p.jsxs("div",{className:"text-center",children:[f,h]})}),n[9]=f,n[10]=m):m=n[10],m}let c;return n[11]===Symbol.for("react.memo_cache_sentinel")?(c=p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background font-anta text-white",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange mx-auto mb-4"}),p.jsx("p",{children:"Finalizing authentication..."})]})}),n[11]=c):c=n[11],c}function Hf(n){const e=Me.c(7),{header:t,children:i}=n;let s;e[0]!==t?(s=p.jsx("h2",{className:"font-anta mb-2 text-problem-section ml-2",children:t}),e[0]=t,e[1]=s):s=e[1];let a;e[2]!==i?(a=p.jsx("div",{className:"font-code p-4 bg-container rounded-xl",children:i}),e[2]=i,e[3]=a):a=e[3];let o;return e[4]!==s||e[5]!==a?(o=p.jsxs("div",{className:"w-full mb-4",children:[s,a]}),e[4]=s,e[5]=a,e[6]=o):o=e[6],o}const fA=n=>{const e=Me.c(9),{testcases:t}=n,[i,s]=T.useState(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=(m,g)=>{navigator.clipboard.writeText(m).then(()=>{s(g),setTimeout(()=>s(null),1500)})},e[0]=a):a=e[0];const o=a;let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=p.jsx("h2",{className:"text-problem-section font-anta text-white mb-3",children:"Test Cases"}),e[1]=c):c=e[1];let f;if(e[2]!==i||e[3]!==t){let m;e[5]!==i?(m=(g,x)=>p.jsxs("div",{className:"mb-6 last:mb-0",children:[p.jsxs("p",{className:"font-anta text-white mb-3",children:["Test Case ",x+1,":"]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("span",{className:"text-sm text-text font-anta mb-2 block",children:"Input:"}),p.jsxs("div",{className:"relative p-4 bg-black rounded-lg",children:[p.jsx("button",{className:"absolute top-2 right-2 text-xs text-white bg-gray-700 px-3 py-1 rounded hover:bg-gray-600 transition",onClick:()=>o(g.input,x*2),children:i===x*2?"Copied!":"Copy"}),p.jsx("pre",{className:"font-code text-sm text-white whitespace-pre-wrap overflow-x-auto pr-20",children:g.input})]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-sm text-text font-anta mb-2 block",children:"Output:"}),p.jsxs("div",{className:"relative p-4 bg-black rounded-lg",children:[p.jsx("button",{className:"absolute top-2 right-2 text-xs text-white bg-gray-700 px-3 py-1 rounded hover:bg-gray-600 transition",onClick:()=>o(g.output,x*2+1),children:i===x*2+1?"Copied!":"Copy"}),p.jsx("pre",{className:"font-code text-sm text-white whitespace-pre-wrap overflow-x-auto pr-20",children:g.output})]})]})]},x),e[5]=i,e[6]=m):m=e[6],f=t.map(m),e[2]=i,e[3]=t,e[4]=f}else f=e[4];let h;return e[7]!==f?(h=p.jsxs("div",{className:"mb-6",children:[c,p.jsx("div",{className:"bg-container rounded-xl p-3",children:f})]}),e[7]=f,e[8]=h):h=e[8],h};function hA(n){const e=Me.c(12);let t;e[0]!==n.title?(t=p.jsx("h1",{className:"text-3xl mb-3",children:n.title}),e[0]=n.title,e[1]=t):t=e[1];let i;e[2]!==n.timeLimit?(i=p.jsxs("p",{children:["Time Limit Per Test: ",n.timeLimit," MS"]}),e[2]=n.timeLimit,e[3]=i):i=e[3];let s;e[4]!==n.memoryLimit?(s=p.jsxs("p",{children:["Memory Limit Per Test: ",n.memoryLimit," MB"]}),e[4]=n.memoryLimit,e[5]=s):s=e[5];let a;e[6]!==i||e[7]!==s?(a=p.jsxs("div",{className:"text-sm text-text space-y-1",children:[i,s]}),e[6]=i,e[7]=s,e[8]=a):a=e[8];let o;return e[9]!==t||e[10]!==a?(o=p.jsxs("div",{className:"mb-8 text-center",children:[t,a]}),e[9]=t,e[10]=a,e[11]=o):o=e[11],o}function qh(){const n=Me.c(29),{id:e}=fs(),t=vt(),i=wi(),s=Number(e),[a,o]=T.useState(null),[c,f]=T.useState(!0),h=i.pathname.startsWith("/practice")?"practice":"match";let m,g;if(n[0]!==h||n[1]!==t||n[2]!==s?(m=()=>{if(!s||isNaN(s)){t("/not-found",{replace:!0});return}const j=Date.now();(h==="practice"?X3(s):JM(s)).then(async M=>{M?(h==="practice"&&await Us(j),o(M)):t("/not-found",{replace:!0})}).catch(()=>{t("/not-found",{replace:!0})}).finally(()=>f(!1))},g=[s,t,h],n[0]=h,n[1]=t,n[2]=s,n[3]=m,n[4]=g):(m=n[3],g=n[4]),T.useEffect(m,g),c){let j;return n[5]===Symbol.for("react.memo_cache_sentinel")?(j=p.jsx("div",{className:"flex flex-col flex-1 font-anta",children:p.jsx(ps,{loadingMessage:"Loading Problem"})}),n[5]=j):j=n[5],j}if(!a)return null;let x;n[6]!==a.memoryLimit||n[7]!==a.timeLimit||n[8]!==a.title?(x=p.jsx(hA,{title:a.title,timeLimit:a.timeLimit,memoryLimit:a.memoryLimit}),n[6]=a.memoryLimit,n[7]=a.timeLimit,n[8]=a.title,n[9]=x):x=n[9];let y;n[10]!==a.statement?(y=p.jsx(Hf,{header:"Problem Statement",children:p.jsx("p",{children:a.statement})}),n[10]=a.statement,n[11]=y):y=n[11];let v;n[12]!==a.inputFormat?(v=p.jsx(Hf,{header:"Input Format",children:p.jsx("p",{children:a.inputFormat})}),n[12]=a.inputFormat,n[13]=v):v=n[13];let S;n[14]!==a.outputFormat?(S=p.jsx(Hf,{header:"Output Format",children:p.jsx("p",{children:a.outputFormat})}),n[14]=a.outputFormat,n[15]=S):S=n[15];let w;n[16]!==a.visibleTestCases?(w=a.visibleTestCases||[],n[16]=a.visibleTestCases,n[17]=w):w=n[17];let C;n[18]!==w?(C=p.jsx(fA,{testcases:w}),n[18]=w,n[19]=C):C=n[19];let R;n[20]!==a.notes?(R=a.notes&&p.jsx(Hf,{header:"Notes",children:p.jsx("p",{children:a.notes})}),n[20]=a.notes,n[21]=R):R=n[21];let E;return n[22]!==x||n[23]!==y||n[24]!==v||n[25]!==S||n[26]!==C||n[27]!==R?(E=p.jsx("div",{className:"w-full text-white font-anta my-8 p-scroll-x",children:p.jsxs("div",{className:"max-w-6xl mx-auto w-full",children:[x,y,v,S,C,R]})}),n[22]=x,n[23]=y,n[24]=v,n[25]=S,n[26]=C,n[27]=R,n[28]=E):E=n[28],E}const Hh={PYTHON_3_8:"PYTHON_3_8",PYTHON_2_7:"PYTHON_2_7",C_GCC_7_4:"C_GCC_7_4",C_GCC_8_3:"C_GCC_8_3",C_GCC_9_2:"C_GCC_9_2",C_CLANG_7_0:"C_CLANG_7_0",CPP_GCC_7_4:"CPP_GCC_7_4",CPP_GCC_8_3:"CPP_GCC_8_3",CPP_GCC_9_2:"CPP_GCC_9_2",CPP_CLANG_7_0:"CPP_CLANG_7_0",JAVA_OPENJDK_13:"JAVA_OPENJDK_13",JAVA_OPENJDK_11:"JAVA_OPENJDK_11",JAVASCRIPT_NODEJS_12:"JAVASCRIPT_NODEJS_12",CSHARP_MONO:"CSHARP_MONO",GO:"GO",KOTLIN:"KOTLIN",RUST:"RUST",RUBY:"RUBY",PHP:"PHP",LUA:"LUA",SWIFT:"SWIFT",R:"R",BASH:"BASH",BASIC:"BASIC",CLOJURE:"CLOJURE",COBOL:"COBOL",COMMON_LISP:"COMMON_LISP",D:"D",ELIXIR:"ELIXIR",ERLANG:"ERLANG",FORTRAN:"FORTRAN",GROOVY:"GROOVY",HASKELL:"HASKELL",OCAML:"OCAML",OCTAVE:"OCTAVE",PASCAL:"PASCAL",PERL:"PERL",PROLOG:"PROLOG",OBJECTIVEC:"OBJECTIVEC",FSHARP:"FSHARP",SQL:"SQL",VISUAL_BASIC:"VISUAL_BASIC",MULTIFILE_PROGRAM:"MULTIFILE_PROGRAM",EXECUTABLE:"EXECUTABLE"};function zd(n){const e=Me.c(47),{label:t,options:i,value:s,onChange:a,width:o,placeholder:c}=n,f=o===void 0?"w-52":o,h=c===void 0?"Select an option":c,[m,g]=T.useState(!1),[x,y]=T.useState(""),v=T.useRef(null);let S;if(e[0]!==i||e[1]!==x){let X;e[3]!==x?(X=te=>te.toLowerCase().includes(x.toLowerCase()),e[3]=x,e[4]=X):X=e[4],S=i.filter(X),e[0]=i,e[1]=x,e[2]=S}else S=e[2];const w=S;let C,R;e[5]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{const X=te=>{v.current&&!v.current.contains(te.target)&&(g(!1),y(""))};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},R=[],e[5]=C,e[6]=R):(C=e[5],R=e[6]),T.useEffect(C,R);let E;e[7]!==a?(E=X=>{a(X),g(!1),y("")},e[7]=a,e[8]=E):E=e[8];const j=E;let Q;e[9]!==a?(Q=()=>{a(null)},e[9]=a,e[10]=Q):Q=e[10];const M=Q;let k;e[11]!==w||e[12]!==j?(k=X=>{X.key==="Enter"&&w.length!==0&&j(w[0])},e[11]=w,e[12]=j,e[13]=k):k=e[13];const $=k;let D;e[14]!==t?(D=p.jsx("span",{className:"text-text font-anta text-sm whitespace-nowrap",children:t}),e[14]=t,e[15]=D):D=e[15];let L;e[16]!==m?(L=()=>g(!m),e[16]=m,e[17]=L):L=e[17];const V=`${f} bg-container text-text/50 px-4 py-3 rounded-xl border border-sidebar/30 
      hover:border-orange/50 transition-colors font-anta flex items-center gap-2 justify-between truncate`,z=s||h;let I;e[18]!==z?(I=p.jsx("span",{className:"text-sm truncate",children:z}),e[18]=z,e[19]=I):I=e[19];let H;e[20]!==M||e[21]!==s?(H=s&&p.jsx("button",{type:"button","aria-label":"Clear selection",onClick:X=>{X.stopPropagation(),M()},className:`flex items-center justify-center w-6 h-6 rounded-full \r
                      text-red-500 hover:bg-red-500/10 hover:text-red-600 \r
                      transition-all duration-200`,children:p.jsx("span",{className:"text-xl leading-none font-bold",children:""})}),e[20]=M,e[21]=s,e[22]=H):H=e[22];const F=`w-4 h-4 transition-transform duration-300 ${m?"rotate-180":""}`;let P;e[23]!==F?(P=p.jsx(zO,{className:F}),e[23]=F,e[24]=P):P=e[24];let Z;e[25]!==H||e[26]!==P?(Z=p.jsxs("div",{className:"flex items-center gap-1",children:[H,P]}),e[25]=H,e[26]=P,e[27]=Z):Z=e[27];let K;e[28]!==L||e[29]!==V||e[30]!==I||e[31]!==Z?(K=p.jsxs("button",{onClick:L,className:V,children:[I,Z]}),e[28]=L,e[29]=V,e[30]=I,e[31]=Z,e[32]=K):K=e[32];let ie;e[33]!==w||e[34]!==$||e[35]!==m||e[36]!==x||e[37]!==j||e[38]!==s||e[39]!==f?(ie=m&&p.jsxs("div",{className:`${f} absolute top-full mt-2 bg-sidebar border border-sidebar/40 
            rounded-xl z-50 shadow-lg max-h-64 overflow-y-auto custom-scroll`,children:[p.jsx("div",{className:"px-3 py-2 bg-sidebar border-b border-container",children:p.jsx("input",{className:"w-full bg-sidebar text-text placeholder-text/40 px-2 py-1 rounded-md font-anta text-sm",placeholder:"Type to filter",value:x,onChange:X=>y(X.target.value),onKeyDown:$})}),w.map(X=>{const te=s===X;return p.jsxs("button",{onClick:()=>j(X),className:`w-full text-left px-3 py-2 transition-colors font-anta text-sm flex items-center justify-between truncate
                    ${te?"bg-orange/20 text-orange":"text-text hover:bg-gray-800"}
                  `,children:[p.jsx("span",{className:"truncate",children:X}),te&&p.jsx("span",{className:"text-orange font-bold",children:""})]},X)})]}),e[33]=w,e[34]=$,e[35]=m,e[36]=x,e[37]=j,e[38]=s,e[39]=f,e[40]=ie):ie=e[40];let le;e[41]!==K||e[42]!==ie?(le=p.jsxs("div",{className:"relative",children:[K,ie]}),e[41]=K,e[42]=ie,e[43]=le):le=e[43];let _;return e[44]!==le||e[45]!==D?(_=p.jsxs("div",{className:"flex items-center gap-4",ref:v,children:[D,le]}),e[44]=le,e[45]=D,e[46]=_):_=e[46],_}function k2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function l_(n){if(Array.isArray(n))return n}function o_(n,e,t){return(e=p_(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c_(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,a,o,c=[],f=!0,h=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(f=(i=a.call(t)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){h=!0,s=m}finally{try{if(!f&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw s}}return c}}function u_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function E2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(t),!0).forEach(function(i){o_(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f_(n,e){if(n==null)return{};var t,i,s=h_(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function h_(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function d_(n,e){return l_(n)||c_(n,e)||g_(n,e)||u_()}function m_(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function p_(n){var e=m_(n,"string");return typeof e=="symbol"?e:e+""}function g_(n,e){if(n){if(typeof n=="string")return k2(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k2(n,e):void 0}}function O_(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Q2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(t),!0).forEach(function(i){O_(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function x_(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return e.reduceRight(function(s,a){return a(s)},i)}}function xc(n){return function e(){for(var t=this,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return e.apply(t,[].concat(s,c))}}}function Gh(n){return{}.toString.call(n).includes("Object")}function b_(n){return!Object.keys(n).length}function Xc(n){return typeof n=="function"}function y_(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function v_(n,e){return Gh(e)||ea("changeType"),Object.keys(e).some(function(t){return!y_(n,t)})&&ea("changeField"),e}function S_(n){Xc(n)||ea("selectorType")}function w_(n){Xc(n)||Gh(n)||ea("handlerType"),Gh(n)&&Object.values(n).some(function(e){return!Xc(e)})&&ea("handlersType")}function A_(n){n||ea("initialIsRequired"),Gh(n)||ea("initialType"),b_(n)&&ea("initialContent")}function C_(n,e){throw new Error(n[e]||n.default)}var k_={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ea=xc(C_)(k_),Gf={changes:v_,selector:S_,handler:w_,initial:A_};function T_(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gf.initial(n),Gf.handler(e);var t={current:n},i=xc(Q_)(t,e),s=xc(R_)(t),a=xc(Gf.changes)(n),o=xc(E_)(t);function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(m){return m};return Gf.selector(h),h(t.current)}function f(h){x_(i,s,a,o)(h)}return[c,f]}function E_(n,e){return Xc(e)?e(n.current):e}function R_(n,e){return n.current=Q2(Q2({},n.current),e),e}function Q_(n,e,t){return Xc(e)?e(n.current):Object.keys(t).forEach(function(i){var s;return(s=e[i])===null||s===void 0?void 0:s.call(e,n.current[i])}),t}var N_={create:T_},j_={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function M_(n){return function e(){for(var t=this,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return e.apply(t,[].concat(s,c))}}}function P_(n){return{}.toString.call(n).includes("Object")}function __(n){return n||N2("configIsRequired"),P_(n)||N2("configType"),n.urls?(D_(),{paths:{vs:n.urls.monacoBase}}):n}function D_(){console.warn(dA.deprecation)}function $_(n,e){throw new Error(n[e]||n.default)}var dA={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},N2=M_($_)(dA),L_={config:__},z_=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(s){return t.reduceRight(function(a,o){return o(a)},s)}};function mA(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],mA(n[t],e[t]))}),E2(E2({},n),e)}var B_={type:"cancelation",msg:"operation is manually canceled"};function Tg(n){var e=!1,t=new Promise(function(i,s){n.then(function(a){return e?s(B_):i(a)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var Z_=["monaco"],U_=N_.create({config:j_,isInitialized:!1,resolve:null,reject:null,monaco:null}),pA=d_(U_,2),Ou=pA[0],Bd=pA[1];function X_(n){var e=L_.config(n),t=e.monaco,i=f_(e,Z_);Bd(function(s){return{config:mA(s.config,i),monaco:t}})}function I_(){var n=Ou(function(e){var t=e.monaco,i=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:i,resolve:s}});if(!n.isInitialized){if(Bd({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Tg(Eg);if(window.monaco&&window.monaco.editor)return gA(window.monaco),n.resolve(window.monaco),Tg(Eg);z_(Y_,q_)(H_)}return Tg(Eg)}function Y_(n){return document.body.appendChild(n)}function V_(n){var e=document.createElement("script");return n&&(e.src=n),e}function q_(n){var e=Ou(function(i){var s=i.config,a=i.reject;return{config:s,reject:a}}),t=V_("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function H_(){var n=Ou(function(t){var i=t.config,s=t.resolve,a=t.reject;return{config:i,resolve:s,reject:a}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){var i=t.m||t;gA(i),n.resolve(i)},function(t){n.reject(t)})}function gA(n){Ou().monaco||Bd({monaco:n})}function G_(){return Ou(function(n){var e=n.monaco;return e})}var Eg=new Promise(function(n,e){return Bd({resolve:n,reject:e})}),OA={config:X_,init:I_,__getMonacoInstance:G_},W_={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Rg=W_,F_={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},K_=F_;function J_({children:n}){return fn.createElement("div",{style:K_.container},n)}var e6=J_,t6=e6;function n6({width:n,height:e,isEditorReady:t,loading:i,_ref:s,className:a,wrapperProps:o}){return fn.createElement("section",{style:{...Rg.wrapper,width:n,height:e},...o},!t&&fn.createElement(t6,null,i),fn.createElement("div",{ref:s,style:{...Rg.fullWidth,...!t&&Rg.hide},className:a}))}var i6=n6,xA=T.memo(i6);function s6(n){T.useEffect(n,[])}var bA=s6;function r6(n,e,t=!0){let i=T.useRef(!0);T.useEffect(i.current||!t?()=>{i.current=!1}:n,e)}var vi=r6;function kc(){}function Ll(n,e,t,i){return a6(n,i)||l6(n,e,t,i)}function a6(n,e){return n.editor.getModel(yA(n,e))}function l6(n,e,t,i){return n.editor.createModel(e,t,i?yA(n,i):void 0)}function yA(n,e){return n.Uri.parse(e)}function o6({original:n,modified:e,language:t,originalLanguage:i,modifiedLanguage:s,originalModelPath:a,modifiedModelPath:o,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:f=!1,theme:h="light",loading:m="Loading...",options:g={},height:x="100%",width:y="100%",className:v,wrapperProps:S={},beforeMount:w=kc,onMount:C=kc}){let[R,E]=T.useState(!1),[j,Q]=T.useState(!0),M=T.useRef(null),k=T.useRef(null),$=T.useRef(null),D=T.useRef(C),L=T.useRef(w),V=T.useRef(!1);bA(()=>{let F=OA.init();return F.then(P=>(k.current=P)&&Q(!1)).catch(P=>P?.type!=="cancelation"&&console.error("Monaco initialization: error:",P)),()=>M.current?H():F.cancel()}),vi(()=>{if(M.current&&k.current){let F=M.current.getOriginalEditor(),P=Ll(k.current,n||"",i||t||"text",a||"");P!==F.getModel()&&F.setModel(P)}},[a],R),vi(()=>{if(M.current&&k.current){let F=M.current.getModifiedEditor(),P=Ll(k.current,e||"",s||t||"text",o||"");P!==F.getModel()&&F.setModel(P)}},[o],R),vi(()=>{let F=M.current.getModifiedEditor();F.getOption(k.current.editor.EditorOption.readOnly)?F.setValue(e||""):e!==F.getValue()&&(F.executeEdits("",[{range:F.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),F.pushUndoStop())},[e],R),vi(()=>{M.current?.getModel()?.original.setValue(n||"")},[n],R),vi(()=>{let{original:F,modified:P}=M.current.getModel();k.current.editor.setModelLanguage(F,i||t||"text"),k.current.editor.setModelLanguage(P,s||t||"text")},[t,i,s],R),vi(()=>{k.current?.editor.setTheme(h)},[h],R),vi(()=>{M.current?.updateOptions(g)},[g],R);let z=T.useCallback(()=>{if(!k.current)return;L.current(k.current);let F=Ll(k.current,n||"",i||t||"text",a||""),P=Ll(k.current,e||"",s||t||"text",o||"");M.current?.setModel({original:F,modified:P})},[t,e,s,n,i,a,o]),I=T.useCallback(()=>{!V.current&&$.current&&(M.current=k.current.editor.createDiffEditor($.current,{automaticLayout:!0,...g}),z(),k.current?.editor.setTheme(h),E(!0),V.current=!0)},[g,h,z]);T.useEffect(()=>{R&&D.current(M.current,k.current)},[R]),T.useEffect(()=>{!j&&!R&&I()},[j,R,I]);function H(){let F=M.current?.getModel();c||F?.original?.dispose(),f||F?.modified?.dispose(),M.current?.dispose()}return fn.createElement(xA,{width:y,height:x,isEditorReady:R,loading:m,_ref:$,className:v,wrapperProps:S})}var c6=o6;T.memo(c6);function u6(n){let e=T.useRef();return T.useEffect(()=>{e.current=n},[n]),e.current}var f6=u6,Wf=new Map;function h6({defaultValue:n,defaultLanguage:e,defaultPath:t,value:i,language:s,path:a,theme:o="light",line:c,loading:f="Loading...",options:h={},overrideServices:m={},saveViewState:g=!0,keepCurrentModel:x=!1,width:y="100%",height:v="100%",className:S,wrapperProps:w={},beforeMount:C=kc,onMount:R=kc,onChange:E,onValidate:j=kc}){let[Q,M]=T.useState(!1),[k,$]=T.useState(!0),D=T.useRef(null),L=T.useRef(null),V=T.useRef(null),z=T.useRef(R),I=T.useRef(C),H=T.useRef(),F=T.useRef(i),P=f6(a),Z=T.useRef(!1),K=T.useRef(!1);bA(()=>{let _=OA.init();return _.then(X=>(D.current=X)&&$(!1)).catch(X=>X?.type!=="cancelation"&&console.error("Monaco initialization: error:",X)),()=>L.current?le():_.cancel()}),vi(()=>{let _=Ll(D.current,n||i||"",e||s||"",a||t||"");_!==L.current?.getModel()&&(g&&Wf.set(P,L.current?.saveViewState()),L.current?.setModel(_),g&&L.current?.restoreViewState(Wf.get(a)))},[a],Q),vi(()=>{L.current?.updateOptions(h)},[h],Q),vi(()=>{!L.current||i===void 0||(L.current.getOption(D.current.editor.EditorOption.readOnly)?L.current.setValue(i):i!==L.current.getValue()&&(K.current=!0,L.current.executeEdits("",[{range:L.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),L.current.pushUndoStop(),K.current=!1))},[i],Q),vi(()=>{let _=L.current?.getModel();_&&s&&D.current?.editor.setModelLanguage(_,s)},[s],Q),vi(()=>{c!==void 0&&L.current?.revealLine(c)},[c],Q),vi(()=>{D.current?.editor.setTheme(o)},[o],Q);let ie=T.useCallback(()=>{if(!(!V.current||!D.current)&&!Z.current){I.current(D.current);let _=a||t,X=Ll(D.current,i||n||"",e||s||"",_||"");L.current=D.current?.editor.create(V.current,{model:X,automaticLayout:!0,...h},m),g&&L.current.restoreViewState(Wf.get(_)),D.current.editor.setTheme(o),c!==void 0&&L.current.revealLine(c),M(!0),Z.current=!0}},[n,e,t,i,s,a,h,m,g,o,c]);T.useEffect(()=>{Q&&z.current(L.current,D.current)},[Q]),T.useEffect(()=>{!k&&!Q&&ie()},[k,Q,ie]),F.current=i,T.useEffect(()=>{Q&&E&&(H.current?.dispose(),H.current=L.current?.onDidChangeModelContent(_=>{K.current||E(L.current.getValue(),_)}))},[Q,E]),T.useEffect(()=>{if(Q){let _=D.current.editor.onDidChangeMarkers(X=>{let te=L.current.getModel()?.uri;if(te&&X.find(ce=>ce.path===te.path)){let ce=D.current.editor.getModelMarkers({resource:te});j?.(ce)}});return()=>{_?.dispose()}}return()=>{}},[Q,j]);function le(){H.current?.dispose(),x?g&&Wf.set(a,L.current.saveViewState()):L.current.getModel()?.dispose(),L.current.dispose()}return fn.createElement(xA,{width:y,height:v,isEditorReady:Q,loading:f,_ref:V,className:S,wrapperProps:w})}var d6=h6,m6=T.memo(d6),vA=m6;const SA={PYTHON_3_8:"python",PYTHON_2_7:"python",C_GCC_7_4:"c",C_GCC_8_3:"c",C_GCC_9_2:"c",C_CLANG_7_0:"c",CPP_GCC_7_4:"cpp",CPP_GCC_8_3:"cpp",CPP_GCC_9_2:"cpp",CPP_CLANG_7_0:"cpp",JAVA_OPENJDK_11:"java",JAVA_OPENJDK_13:"java",JAVASCRIPT_NODEJS_12:"javascript",CSHARP_MONO:"csharp",GO:"go",KOTLIN:"kotlin",RUST:"rust",RUBY:"ruby",PHP:"php",LUA:"lua",SWIFT:"swift",R:"r",BASH:"shell",BASIC:"basic",CLOJURE:"clojure",COBOL:"cobol",COMMON_LISP:"lisp",D:"d",ELIXIR:"elixir",ERLANG:"erlang",FORTRAN:"fortran",GROOVY:"groovy",HASKELL:"haskell",OCAML:"ocaml",OCTAVE:"octave",PASCAL:"pascal",PERL:"perl",PROLOG:"prolog",OBJECTIVEC:"objective-c",FSHARP:"fsharp",SQL:"sql",VISUAL_BASIC:"vb",MULTIFILE_PROGRAM:"plaintext",EXECUTABLE:"plaintext"};async function p6(n,e,t){return Qe({method:"POST",url:"/submissions/submit",data:{problemId:n,code:e,codeLanguage:t,matchId:null}})}async function g6(){return await Qe({method:"GET",url:"/submissions/my-submissions"})}async function O6(n){return Qe({method:"GET",url:`/submissions/status/${n}`})}async function x6(n){return Qe({method:"GET",url:`/submissions/problem-title/${n}`})}async function j2(n){return Qe({method:"GET",url:`/submissions/details/${n}`})}function Wh(){const{id:n}=fs(),e=wi(),t=vt(),[i,s]=T.useState(Hh.PYTHON_3_8),[a,o]=T.useState(""),[c,f]=T.useState(!1),[h,m]=T.useState(""),[g,x]=T.useState(""),y=e.pathname.includes("play-game"),v=y?jR().problemId:Number(n);T.useEffect(()=>{v&&x6(v).then(w=>{x(w)}).catch(()=>{x("Unknown Problem")})},[v]);const S=async()=>{if(!a.trim())return m("Please enter your code before submitting.");if(!v)return m("Problem ID is missing.");f(!0),m("");try{y?(KM(Number(n),{problemId:Number(n),code:a,codeLanguage:i,matchId:Number(n)}),m("Code submitted successfully!"),setTimeout(()=>{t(`/play-game/${n}/match-state`)},500)):(p6(Number(n),a,i),m("Code submitted successfully!"),setTimeout(()=>{t(`/profile/${En()}/submissions`)},500))}catch{m("Failed to submit code. Please try again.")}finally{f(!1)}};return p.jsxs("div",{className:"flex flex-col h-[calc(90vh-4rem)] p-6",children:[p.jsx("div",{className:"mb-4",children:p.jsxs("h2",{className:"text-2xl font-bold text-orange font-anta",children:["Problem #",v,": ",p.jsx("span",{className:"text-white",children:g})]})}),p.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[p.jsx("span",{className:"text-orange font-anta text-lg",children:"Lang:"}),p.jsx(zd,{label:"",options:Object.values(Hh),value:i,onChange:w=>s(w),placeholder:"Choose a language"})]}),p.jsx("div",{className:"flex-1 min-h-0 mb-4 border border-gray-700 rounded-lg",children:p.jsx(vA,{height:"100%",language:SA[i],theme:"vs-dark",value:a,onChange:w=>o(w||""),options:{fontSize:16,minimap:{enabled:!1},scrollBeyondLastLine:!1,smoothScrolling:!0,lineNumbers:"on",automaticLayout:!0}})}),p.jsxs("div",{className:"text-center pt-4",children:[p.jsx("button",{onClick:S,disabled:c||!a.trim(),className:`bg-orange hover:bg-orange/90 text-white px-20 py-3 rounded-button \r
                               text-lg font-anta transition-colors duration-200 \r
                               disabled:opacity-50 disabled:cursor-not-allowed`,children:c?"Submitting...":"Submit"}),h&&p.jsx("p",{className:`mt-4 text-lg font-anta ${h.includes("success")?"text-green-400":"text-red-400"}`,children:h})]})]})}function b6(){const n=Me.c(8),e=vt(),[t]=T.useState(!0),i=J3();let s;n[0]!==e?(s=()=>{zQ(),gc(),sessionStorage.clear(),e("/sign-up",{replace:!0})},n[0]=e,n[1]=s):s=n[1];const a=s;let o;n[2]!==e?(o=()=>{e(-1)},n[2]=e,n[3]=o):o=n[3];const c=o;let f;return n[4]!==c||n[5]!==a||n[6]!==t?(f=p.jsx(Zc,{isOpen:t,onClose:c,onConfirm:a,title:"Confirm Logout",message:i?"You have an active match. Logging out will resign you from the match. Are you sure?":"Are you sure you want to log out?",confirmText:"Logout",cancelText:"Cancel"}),n[4]=c,n[5]=a,n[6]=t,n[7]=f):f=n[7],f}const y6=n=>({MATCH_INVITE:"text-blue-400",MATCH_STARTED:"text-green-400",MATCH_ENDED:"text-purple-400",SUBMISSION_RECEIVED:"text-yellow-400",SUBMISSION_RESULT:"text-cyan-400",OPPONENT_RESIGNED:"text-red-400",FRIEND_REQUEST:"text-pink-400",FRIEND_ACCEPTED:"text-emerald-400"})[n]||"text-text/70",v6=n=>{const e=new Date,t=new Date(n),i=Math.floor((e.getTime()-t.getTime())/1e3);return i<60?"Just now":i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:i<604800?`${Math.floor(i/86400)}d ago`:t.toLocaleDateString()},S6=n=>String(n).includes("FRIEND")?"Friend":"Match";function w6(n){const e=Me.c(47),{type:t,senderUsername:i,title:s,message:a,createdAt:o,read:c,matchId:f,submissionStatus:h,passedCases:m,totalCases:g,onClick:x,className:y}=n,v=y===void 0?"":y;let S;e[0]!==t?(S=S6(t),e[0]=t,e[1]=S):S=e[1];const w=S;let C;e[2]!==t?(C=y6(t),e[2]=t,e[3]=C):C=e[3];const R=C,E=`
        grid grid-cols-[150px_150px_1fr_120px_120px] gap-4 px-6 py-4
        border-b border-white/5 transition-all duration-200 items-center
        hover:bg-white/5 
        ${c?"":"shadow-[inset_3px_0_0_0_rgba(255,127,80,0.4)] bg-white/[0.02]"}        
        ${v}
      `,j=`px-3 py-1 rounded-full text-xs font-anta border ${w==="Match"?"border-orange/30 text-orange":"border-pink-500/30 text-pink-400"}`;let Q;e[4]!==w||e[5]!==j?(Q=p.jsx("span",{className:j,children:w}),e[4]=w,e[5]=j,e[6]=Q):Q=e[6];let M;e[7]!==c?(M=!c&&p.jsx("span",{className:"block w-2 h-2 rounded-full bg-orange animate-pulse",title:"Unread"}),e[7]=c,e[8]=M):M=e[8];let k;e[9]!==M?(k=p.jsx("span",{className:"w-2 h-2 flex-shrink-0",children:M}),e[9]=M,e[10]=k):k=e[10];let $;e[11]!==Q||e[12]!==k?($=p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[Q,k]}),e[11]=Q,e[12]=k,e[13]=$):$=e[13];let D;e[14]!==i?(D=p.jsx("div",{className:"text-center",children:p.jsx("span",{className:"font-anta text-text/90",children:i})}),e[14]=i,e[15]=D):D=e[15];const L=`font-anta text-sm font-semibold ${R}`;let V;e[16]!==L||e[17]!==s?(V=p.jsx("span",{className:L,children:s}),e[16]=L,e[17]=s,e[18]=V):V=e[18];let z;e[19]!==a?(z=p.jsx("span",{className:"text-text/70 text-sm",children:a}),e[19]=a,e[20]=z):z=e[20];let I;e[21]!==m||e[22]!==h||e[23]!==g?(I=h&&p.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[p.jsx("span",{className:`text-xs font-anta px-2 py-0.5 rounded ${h==="ACCEPTED"?"bg-green-500/20 text-green-400":h==="WRONG_ANSWER"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:h}),m!==void 0&&g!==void 0&&p.jsxs("span",{className:"text-xs text-text/60",children:[m,"/",g," cases"]})]}),e[21]=m,e[22]=h,e[23]=g,e[24]=I):I=e[24];let H;e[25]!==f?(H=f&&p.jsxs("span",{className:"text-xs text-text/50 font-mono",children:["Match #",f]}),e[25]=f,e[26]=H):H=e[26];let F;e[27]!==V||e[28]!==z||e[29]!==I||e[30]!==H?(F=p.jsxs("div",{className:"flex flex-col gap-1 text-center",children:[V,z,I,H]}),e[27]=V,e[28]=z,e[29]=I,e[30]=H,e[31]=F):F=e[31];let P;e[32]!==o?(P=v6(o),e[32]=o,e[33]=P):P=e[33];let Z;e[34]!==P?(Z=p.jsx("div",{className:"text-center",children:p.jsx("span",{className:"text-text/60 text-sm font-anta",children:P})}),e[34]=P,e[35]=Z):Z=e[35];const K=c?"text-text/40 text-xs font-anta":"text-orange text-xs font-anta",ie=c?"Read":"Unread";let le;e[36]!==K||e[37]!==ie?(le=p.jsx("div",{className:"text-center",children:p.jsx("span",{className:K,children:ie})}),e[36]=K,e[37]=ie,e[38]=le):le=e[38];let _;return e[39]!==x||e[40]!==D||e[41]!==F||e[42]!==Z||e[43]!==le||e[44]!==E||e[45]!==$?(_=p.jsxs("div",{onClick:x,className:E,children:[$,D,F,Z,le]}),e[39]=x,e[40]=D,e[41]=F,e[42]=Z,e[43]=le,e[44]=E,e[45]=$,e[46]=_):_=e[46],_}const A6=n=>({MATCH_INVITE:"text-blue-400 border-blue-400/30 bg-blue-400/10",MATCH_STARTED:"text-green-400 border-green-400/30 bg-green-400/10",MATCH_ENDED:"text-purple-400 border-purple-400/30 bg-purple-400/10",SUBMISSION_RECEIVED:"text-yellow-400 border-yellow-400/30 bg-yellow-400/10",SUBMISSION_RESULT:"text-cyan-400 border-cyan-400/30 bg-cyan-400/10",OPPONENT_RESIGNED:"text-red-400 border-red-400/30 bg-red-400/10",FRIEND_REQUEST:"text-pink-400 border-pink-400/30 bg-pink-400/10",FRIEND_ACCEPTED:"text-emerald-400 border-emerald-400/30 bg-emerald-400/10"})[n]||"text-text/70 border-white/10 bg-white/5",C6=n=>n.split("_").map(e=>e.charAt(0)+e.slice(1).toLowerCase()).join(" "),k6=n=>new Date(n).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});function T6(n){const e=Me.c(70),{notification:t,onReturn:i}=n;let s;e[0]!==t.type?(s=A6(t.type),e[0]=t.type,e[1]=s):s=e[1];const a=s,[o,c]=T.useState(!1),[f,h]=T.useState(null),[m,g]=T.useState(!1),x=vt(),y=t.type==="MATCH_INVITATION",v=t.type==="FRIEND_REQUEST_RECEIVED"||t.type==="FRIEND_REQUEST_ACCEPTED";let S,w;e[2]!==t.id||e[3]!==t.read?(S=()=>{(async()=>{if(!t.read)try{await yM(t.id)}catch(Ce){console.error("Failed to mark notification as read:",Ce)}})()},w=[t.id,t.read],e[2]=t.id,e[3]=t.read,e[4]=S,e[5]=w):(S=e[4],w=e[5]),T.useEffect(S,w);let C;e[6]!==x||e[7]!==t.id?(C=async()=>{try{c(!0),h(null),await wM(t.id),x("../play-game",{replace:!0}),g(!0)}catch(be){const Ce=be;console.error("Failed to accept match invite:",Ce),h(Ce instanceof Error?Ce.message:"Failed to accept invite"),c(!1)}},e[6]=x,e[7]=t.id,e[8]=C):C=e[8];const R=C;let E;e[9]!==x||e[10]!==t.senderUsername?(E=async()=>{try{h(null),x(`../profile/${t.senderUsername}`,{replace:!0}),g(!0)}catch(be){const Ce=be;h(Ce instanceof Error?Ce.message:"Failed to redirect to user profile"),c(!1)}},e[9]=x,e[10]=t.senderUsername,e[11]=E):E=e[11];const j=E,Q=`px-4 py-2 rounded-xl text-sm font-anta border ${a}`;let M;e[12]!==t.type?(M=C6(t.type),e[12]=t.type,e[13]=M):M=e[13];let k;e[14]!==Q||e[15]!==M?(k=p.jsx("div",{className:"flex items-center gap-3 mb-4",children:p.jsx("span",{className:Q,children:M})}),e[14]=Q,e[15]=M,e[16]=k):k=e[16];let $;e[17]!==t.title?($=p.jsx("h1",{className:"text-3xl font-anta text-text mb-2",children:t.title}),e[17]=t.title,e[18]=$):$=e[18];let D;e[19]!==t.senderUsername?(D=p.jsxs("span",{children:["From: ",p.jsx("span",{className:"text-text/90",children:t.senderUsername})]}),e[19]=t.senderUsername,e[20]=D):D=e[20];let L;e[21]===Symbol.for("react.memo_cache_sentinel")?(L=p.jsx("span",{children:""}),e[21]=L):L=e[21];let V;e[22]!==t.createdAt?(V=k6(t.createdAt),e[22]=t.createdAt,e[23]=V):V=e[23];let z;e[24]!==V?(z=p.jsx("span",{children:V}),e[24]=V,e[25]=z):z=e[25];let I;e[26]!==D||e[27]!==z?(I=p.jsxs("div",{className:"flex items-center gap-4 text-text/60 text-sm font-anta",children:[D,L,z]}),e[26]=D,e[27]=z,e[28]=I):I=e[28];let H;e[29]!==I||e[30]!==k||e[31]!==$?(H=p.jsx("div",{className:"flex items-start justify-between mb-8",children:p.jsxs("div",{className:"flex-1",children:[k,$,I]})}),e[29]=I,e[30]=k,e[31]=$,e[32]=H):H=e[32];let F;e[33]!==t.message?(F=p.jsx("p",{className:"text-text/80 text-base leading-relaxed font-anta",children:t.message}),e[33]=t.message,e[34]=F):F=e[34];let P;e[35]!==t.matchId?(P=t.matchId&&p.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5",children:[p.jsx("h3",{className:"text-orange font-anta text-sm mb-3",children:"Match Details"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-text/60 text-sm",children:"Match ID:"}),p.jsxs("span",{className:"text-text font-mono text-sm",children:["#",t.matchId]})]})]}),e[35]=t.matchId,e[36]=P):P=e[36];let Z;e[37]!==t.passedCases||e[38]!==t.submissionStatus||e[39]!==t.totalCases?(Z=t.submissionStatus&&p.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5",children:[p.jsx("h3",{className:"text-orange font-anta text-sm mb-3",children:"Submission Results"}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-text/60 text-sm",children:"Status:"}),p.jsx("span",{className:`text-xs font-anta px-3 py-1 rounded-lg ${t.submissionStatus==="ACCEPTED"?"bg-green-500/20 text-green-400 border border-green-500/30":t.submissionStatus==="WRONG_ANSWER"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:t.submissionStatus})]}),t.passedCases!==void 0&&t.totalCases!==void 0&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-text/60 text-sm",children:"Test Cases:"}),p.jsxs("span",{className:"text-text text-sm",children:[t.passedCases," / ",t.totalCases," passed"]}),p.jsx("div",{className:"flex-1 max-w-xs",children:p.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full ${t.submissionStatus==="ACCEPTED"?"bg-green-500":"bg-orange"}`,style:{width:`${t.passedCases/t.totalCases*100}%`}})})})]})]})]}),e[37]=t.passedCases,e[38]=t.submissionStatus,e[39]=t.totalCases,e[40]=Z):Z=e[40];let K;e[41]!==m?(K=m&&p.jsx("div",{className:"mt-6 p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:p.jsx("p",{className:"text-green-400 text-sm font-anta",children:" Match invite accepted successfully!"})}),e[41]=m,e[42]=K):K=e[42];let ie;e[43]!==f?(ie=f&&p.jsx("div",{className:"mt-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:p.jsx("p",{className:"text-red-400 text-sm font-anta",children:f})}),e[43]=f,e[44]=ie):ie=e[44];let le;e[45]!==F||e[46]!==P||e[47]!==Z||e[48]!==K||e[49]!==ie?(le=p.jsx("div",{className:"flex-1 mb-8",children:p.jsxs("div",{className:"bg-container rounded-xl border border-white/5 p-6",children:[F,P,Z,K,ie]})}),e[45]=F,e[46]=P,e[47]=Z,e[48]=K,e[49]=ie,e[50]=le):le=e[50];let _;e[51]!==R||e[52]!==o||e[53]!==y||e[54]!==m?(_=y&&!m&&p.jsx("button",{type:"button",onClick:R,disabled:o,className:`\r
              flex items-center justify-center\r
              border border-emerald-500/30 bg-emerald-500/5 text-emerald-500\r
              hover:bg-emerald-500 hover:text-white hover:border-emerald-500 hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]\r
              px-10 py-3 rounded-full \r
              font-anta text-sm uppercase tracking-widest \r
              transition-all duration-300\r
              disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-emerald-500/5 disabled:hover:text-emerald-500 disabled:hover:shadow-none\r
            `,children:o?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"animate-spin mr-2",children:""}),"Accepting..."]}):"Accept Invite"}),e[51]=R,e[52]=o,e[53]=y,e[54]=m,e[55]=_):_=e[55];let X;e[56]!==j||e[57]!==v||e[58]!==t.senderUsername?(X=v&&p.jsxs("button",{type:"button",onClick:j,className:`\r
              flex items-center justify-center\r
              border border-emerald-500/30 bg-emerald-500/5 text-emerald-500\r
              hover:bg-emerald-500 hover:text-white hover:border-emerald-500 hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]\r
              px-10 py-3 rounded-full \r
              font-anta text-sm uppercase tracking-widest \r
              transition-all duration-300\r
              disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-emerald-500/5 disabled:hover:text-emerald-500 disabled:hover:shadow-none\r
            `,children:[t.senderUsername,"'s Profile"]}),e[56]=j,e[57]=v,e[58]=t.senderUsername,e[59]=X):X=e[59];let te;e[60]!==i?(te=p.jsx("button",{type:"button",onClick:i,className:`\r
            flex items-center justify-center\r
            border border-orange/30 bg-orange/5 text-orange\r
            hover:bg-orange hover:text-white hover:border-orange hover:shadow-[0_0_15px_rgba(249,115,22,0.4)]\r
            px-10 py-3 rounded-full \r
            font-anta text-sm uppercase tracking-widest \r
            transition-all duration-300\r
            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-orange/5 disabled:hover:text-orange disabled:hover:shadow-none\r
          `,children:"Return to Notifications"}),e[60]=i,e[61]=te):te=e[61];let ce;e[62]!==_||e[63]!==X||e[64]!==te?(ce=p.jsxs("div",{className:"flex justify-center gap-4",children:[_,X,te]}),e[62]=_,e[63]=X,e[64]=te,e[65]=ce):ce=e[65];let me;return e[66]!==H||e[67]!==le||e[68]!==ce?(me=p.jsxs("div",{className:"flex flex-col h-full p-8",children:[H,le,ce]}),e[66]=H,e[67]=le,e[68]=ce,e[69]=me):me=e[69],me}function M2(){const[n,e]=T.useState([]),[t,i]=T.useState("all"),[s,a]=T.useState(0),[o,c]=T.useState(1),[f,h]=T.useState(0),[m,g]=T.useState(!1),[x,y]=T.useState(null),{notificationId:v}=fs(),S=vt(),w=10,C=v?n.find(k=>k.id===parseInt(v)):null;async function R(k=0,$=!1){try{$&&g(!0),y(null);const D=await bM(t,k,w);e(D.content),c(D.totalPages||1),h(D.totalElements),a(k)}catch(D){console.error("Failed to fetch notifications:",D),y(`Failed to load notifications: ${D instanceof Error?D.message:"Unknown error"}`)}finally{g(!1)}}T.useEffect(()=>{R(0,!0)},[]),T.useEffect(()=>{R(0,!1)},[t]),T.useEffect(()=>{v||R(s,!1)},[v]);const E=k=>{S(`/notifications/${k.id}`)},j=()=>{S("/notifications")};if(C)return p.jsx("div",{className:"flex flex-col h-[90vh] space-y-4 p-scroll-x",children:p.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-white/5 bg-sidebar/10 shadow-xl",children:p.jsx("div",{className:"h-full overflow-y-auto custom-scroll",children:p.jsx(T6,{notification:C,onReturn:j})})})});const Q=()=>{s>0&&R(s-1)},M=()=>{s<o-1&&R(s+1)};return p.jsxs("div",{className:"flex flex-col h-[90vh] space-y-4 p-scroll-x",children:[p.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>i("all"),className:`
              px-4 py-2 rounded-full font-anta text-sm transition-all duration-300
              ${t==="all"?"bg-orange text-white border border-orange shadow-[0_0_10px_rgba(249,115,22,0.3)]":"bg-sidebar/50 text-text/70 border border-white/10 hover:border-orange/50 hover:text-orange"}
            `,children:"All"}),p.jsx("button",{onClick:()=>i("match"),className:`
              px-4 py-2 rounded-full font-anta text-sm transition-all duration-300
              ${t==="match"?"bg-orange text-white border border-orange shadow-[0_0_10px_rgba(249,115,22,0.3)]":"bg-sidebar/50 text-text/70 border border-white/10 hover:border-orange/50 hover:text-orange"}
            `,children:"Match"}),p.jsx("button",{onClick:()=>i("friend"),className:`
              px-4 py-2 rounded-full font-anta text-sm transition-all duration-300
              ${t==="friend"?"bg-orange text-white border border-orange shadow-[0_0_10px_rgba(249,115,22,0.3)]":"bg-sidebar/50 text-text/70 border border-white/10 hover:border-orange/50 hover:text-orange"}
            `,children:"Friend"})]}),!m&&f>0&&p.jsxs("div",{className:"text-text/60 text-sm font-anta",children:[f," notification",f!==1?"s":""," total"]})]}),p.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-white/5 bg-sidebar/10 shadow-xl",children:p.jsx("div",{className:"h-full overflow-y-auto custom-scroll",children:m?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsx("p",{className:"text-text/60 font-anta text-lg",children:"Loading notifications..."})}):x?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"text-center max-w-md",children:[p.jsx("p",{className:"text-red-400 font-anta text-lg mb-2",children:" Error Loading Notifications"}),p.jsx("p",{className:"text-text/60 text-sm mb-4",children:x}),p.jsx("button",{onClick:()=>R(s),className:"px-4 py-2 bg-orange text-white rounded-lg hover:bg-orange/80 transition-colors font-anta",children:"Retry"})]})}):f===0?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-text/60 font-anta text-lg",children:t==="all"?"No notifications yet":`No ${t} notifications`}),p.jsx("p",{className:"text-text/40 text-sm mt-2",children:"You'll see notifications here when you receive match invites or updates"})]})}):p.jsx(ri,{data:n,columns:["Type","From","Message","Time","Status"],gridCols:"grid-cols-[150px_150px_1fr_120px_120px]",onRowClick:E,renderRow:(k,$)=>p.jsx(w6,{...k,onClick:$,className:"cursor-pointer"},k.id)})})}),!m&&n.length>0&&p.jsxs("div",{className:"flex justify-center gap-4",children:[p.jsx("button",{onClick:Q,disabled:s===0,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Previous"}),p.jsxs("span",{className:"flex items-center text-text/80 font-anta text-sm bg-sidebar/30 px-4 rounded-full border border-white/5",children:["Page ",s+1," of ",o]}),p.jsx("button",{onClick:M,disabled:s>=o-1,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Next"})]})]})}function E6(){const[n,e]=T.useState(1),[t,i]=T.useState(!1),[s,a]=T.useState(""),[o,c]=T.useState(""),[f,h]=T.useState(""),[m,g]=T.useState(""),[x,y]=T.useState(""),[v,S]=T.useState({}),[w,C]=T.useState(!1),[R,E]=T.useState(null),j=vt(),Q=L=>L.message||String(L)||"An unexpected error occurred.",M=()=>{sessionStorage.setItem("oauth_flow","login"),window.location.href=`${$d}/oauth2/authorization/google`},k=async L=>{L.preventDefault(),S({}),i(!1);const V=cA(s);if(!V.isValid){S({email:V.error});return}C(!0);try{const z=await qP(s);c(z),e(2)}catch(z){const I=Q(z);I.toLowerCase().includes("google")?i(!0):S({email:I})}finally{C(!1)}},$=async L=>{L.preventDefault(),S({});const V=w0(f);if(!V.isValid){S({recoveryAnswer:V.error});return}C(!0);try{await HP({email:s,answer:f}),e(3)}catch(z){S({recoveryAnswer:Q(z)})}finally{C(!1)}},D=async L=>{L.preventDefault(),S({});const V={},z=IO(m);z.isValid||(V.newPassword=z.error);const I=uA(m,x);if(I.isValid||(V.confirmPassword=I.error),Object.keys(V).length>0){S(V);return}C(!0);try{await GP({email:s,newPassword:m}),E("Password reset successful! Logging you in..."),await lA({email:s,password:m}),setTimeout(()=>{j(`/profile/${En()}/overview`)},1200)}catch(H){S({global:Q(H)})}finally{C(!1)}};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background font-anta relative overflow-hidden",children:[p.jsx(XO,{}),p.jsxs("div",{className:"bg-container p-8 rounded-button shadow-lg w-full max-w-md text-white relative z-10",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("img",{src:"/src/assets/logo.svg",alt:"App Logo",className:"w-48"})}),t?p.jsxs("div",{className:"text-center flex flex-col gap-4",children:[p.jsx("h3",{className:"text-xl text-orange font-bold",children:"Google Account Detected"}),p.jsx("p",{className:"text-gray-300",children:"It looks like you signed up with Google. You don't need a password reset."}),p.jsxs("button",{onClick:M,className:"flex items-center justify-center gap-2 bg-background border border-gray-600 py-2 rounded-button w-full hover:bg-gray-700 transition-colors",children:[p.jsx("img",{src:"/src/assets/google-icon-1.png",alt:"Google Icon",className:"w-7 h-7"}),"Log in with Google"]}),p.jsx("button",{onClick:()=>{i(!1),e(1),S({})},className:"text-sm text-gray-500 hover:underline mt-2",children:"Back to email entry"})]}):p.jsxs(p.Fragment,{children:[n===1&&p.jsxs("form",{onSubmit:k,className:"flex flex-col gap-4",children:[p.jsx(Jl,{type:"email",placeholder:"Enter your email",value:s,onChange:L=>{a(L.target.value),v.email&&S(V=>({...V,email:""}))},error:v.email}),p.jsx("button",{type:"submit",disabled:w,className:`bg-orange text-white py-2 rounded-button transition-all 
                    ${w?"opacity-50 cursor-not-allowed":"hover:opacity-90"}
                  `,children:w?"Checking...":"Continue"}),p.jsx("div",{className:"text-center text-sm mt-4",children:p.jsx(Ya,{to:"/log-in",className:"text-orange hover:underline",children:"Back to Login"})})]}),n===2&&p.jsxs("form",{onSubmit:$,className:"flex flex-col gap-4",children:[p.jsx("p",{className:"text-gray-300 text-sm",children:"Recovery Question:"}),p.jsx("div",{className:"bg-background p-3 rounded-button border border-gray-600 text-center font-semibold text-orange",children:FP(o)}),p.jsx(Jl,{placeholder:"Your Answer",value:f,onChange:L=>{h(L.target.value),v.recoveryAnswer&&S(V=>({...V,recoveryAnswer:""}))},error:v.recoveryAnswer}),p.jsx("button",{type:"submit",disabled:w,className:`bg-orange text-white py-2 rounded-button transition-all 
                    ${w?"opacity-50 cursor-not-allowed":"hover:opacity-90"}
                  `,children:w?"Verifying...":"Verify Answer"}),p.jsx("div",{className:"text-sm mt-2 text-center",children:p.jsx("button",{type:"button",onClick:()=>{e(1),S({})},className:"text-gray-400 hover:underline",disabled:w,children:"Change email"})})]}),n===3&&p.jsxs("form",{onSubmit:D,className:"flex flex-col gap-4",children:[v.global&&p.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500 text-red-100 text-sm rounded text-center",children:v.global}),R&&p.jsx("div",{className:"p-3 bg-green-500/20 border border-green-500 text-green-100 text-sm rounded text-center",children:R}),p.jsx(Uc,{placeholder:"New Password",value:m,onChange:L=>{g(L.target.value),v.newPassword&&S(V=>({...V,newPassword:""}))},error:v.newPassword}),p.jsx(Uc,{placeholder:"Confirm Password",value:x,onChange:L=>{y(L.target.value),v.confirmPassword&&S(V=>({...V,confirmPassword:""}))},error:v.confirmPassword}),p.jsx("button",{type:"submit",disabled:w,className:`bg-orange text-white py-2 rounded-button transition-all 
                    ${w?"opacity-50 cursor-not-allowed":"hover:opacity-90"}
                  `,children:w?"Resetting...":"Reset Password"})]})]})]})]})}function R6({categories:n,color:e}){const t=n.reduce((h,m)=>h+m.value,0),i=100,s=50,a=2*Math.PI*i;let o=0;const c=n.map(h=>{const g=h.value/t*a,x=-o;return o+=g,{color:y0[h.name],dash:g,offset:x}}),f=(i+s)*2;return p.jsxs("div",{className:"relative w-64 h-64 flex-shrink-0",children:[p.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:`0 0 ${f} ${f}`,children:[p.jsx("circle",{cx:f/2,cy:f/2,r:i,fill:"none",stroke:"#4B5563",strokeWidth:s,className:"opacity-50"}),c.map((h,m)=>p.jsx("circle",{cx:f/2,cy:f/2,r:i,fill:"none",stroke:h.color,strokeWidth:s,strokeDasharray:`${h.dash} ${a-h.dash}`,strokeDashoffset:h.offset,className:"transition-all duration-500 ease-out"},m))]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-2xl font-semibold",style:{color:e},children:t}),p.jsx("div",{className:"text-sm text-text uppercase tracking-widest mt-1 opacity-60",children:"Total"})]})]})}function Q6(n){const e=Me.c(12),{categories:t,color:i}=n,s=t.reduce(j6,0);let a;e[0]!==t||e[1]!==i?(a=p.jsx(R6,{categories:t,color:i}),e[0]=t,e[1]=i,e[2]=a):a=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=p.jsx("div",{className:"w-px h-56 bg-gray-400"}),e[3]=o):o=e[3];let c;e[4]!==t||e[5]!==s?(c=s>0?t.map(N6):p.jsx("div",{className:"h-full flex items-center justify-center",children:p.jsx("span",{className:"text-gray-400 text-xl italic font-medium",children:"No problems solved"})}),e[4]=t,e[5]=s,e[6]=c):c=e[6];let f;e[7]!==c?(f=p.jsx("div",{className:"flex-1 max-h-56 overflow-y-auto custom-scroll space-y-3",children:c}),e[7]=c,e[8]=f):f=e[8];let h;return e[9]!==a||e[10]!==f?(h=p.jsxs("div",{className:"bg-container rounded-lg p-6 flex items-center gap-6 min-w-96 pr-10",children:[a,o,f]}),e[9]=a,e[10]=f,e[11]=h):h=e[11],h}function N6(n,e){return p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-4 h-4 rounded-sm flex-shrink-0"}),p.jsxs("span",{className:"text-text text-xl",style:{color:y0[n.name]},children:[n.name," :"]}),p.jsx("span",{className:"text-xl font-semibold",style:{color:y0[n.name]},children:n.value})]},e)}function j6(n,e){return n+e.value}const Wr=n=>{const e=Me.c(5),{label:t,onClick:i,variant:s,size:a}=n,f=`
    flex items-center justify-center
    rounded-full border-2 ${(a===void 0?"large":a)==="small"?"px-4 py-1 text-[10px]":"px-4 py-2 text-lg"}
    font-anta uppercase tracking-widest 
    transition-all duration-300 hover:text-white
    `;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={negative:`
        border-rose-500/30 bg-rose-500/5 text-rose-400
        hover:bg-rose-600 hover:border-rose-600 
        hover:shadow-[0_0_10px_rgba(225,29,72,0.3)]
        `,positive:`
        border-emerald-500/30 bg-emerald-500/5 text-emerald-400
        hover:bg-emerald-500 hover:border-emerald-500 
        hover:shadow-[0_0_10px_rgba(16,185,129,0.3)]
        `},e[0]=h):h=e[0];const g=`${f} ${h[s]}`;let x;return e[1]!==t||e[2]!==i||e[3]!==g?(x=p.jsx("button",{onClick:i,className:g,children:t}),e[1]=t,e[2]=i,e[3]=g,e[4]=x):x=e[4],x},M6=(n,e)=>new Promise((t,i)=>{try{const a=document.createElement("canvas");a.width=512,a.height=512;const o=a.getContext("2d");if(!o)throw new Error("Could not get canvas context");const c=n&&n.length>0?n:"User",f=e||"#999999",h=g=>{const x=g.replace("#",""),y=parseInt(x.slice(0,2),16),v=parseInt(x.slice(2,4),16),S=parseInt(x.slice(4,6),16);return`rgba(${y}, ${v}, ${S}, ${32/255})`};o.fillStyle=h(f),o.fillRect(0,0,512,512);const m=c.charAt(0).toUpperCase();o.font='bold 260px "Anta", sans-serif',o.fillStyle=f,o.textAlign="center",o.textBaseline="middle",o.fillText(m,512/2,512/2),a.toBlob(g=>{if(g)t(new File([g],`${c}_avatar.png`,{type:"image/png"}));else{const x=document.createElement("canvas");x.width=512,x.height=512,x.toBlob(y=>{y?t(new File([y],"default_avatar.png",{type:"image/png"})):i(new Error("Failed to generate avatar"))},"image/png")}},"image/png")}catch(s){i(s)}});function P6({profile:n,setProfile:e,isPrivate:t,color:i,onImageUpdated:s}){const[a,o]=T.useState(!1),[c,f]=T.useState(null),[h,m]=T.useState(null),[g,x]=T.useState("NONE"),[y,v]=T.useState(!1),S=T.useRef(!1),w=async k=>{const $=k.target.files?.[0];if(!$)return;if(!$.type.startsWith("image/")){f("Please select an image file"),setTimeout(()=>f(null),3e3);return}if($.size>10*1024*1024){f("Image must be less than 10MB"),setTimeout(()=>f(null),3e3);return}f(null);const D=new FileReader;D.onloadend=()=>{m(D.result)},D.readAsDataURL($),await C($)},C=async k=>{o(!0),f(null);try{const $=await XM(k);m(null),s&&s($.imageUrl)}catch($){f($ instanceof Error?$.message:"Failed to upload image"),m(null),setTimeout(()=>f(null),3e3)}finally{o(!1)}};T.useEffect(()=>{(async()=>{if(!(!t||n.avatarUrl||h||a||S.current)){S.current=!0;try{const $=await M6(n.username,i);await C($)}catch($){console.error("Failed to auto-generate avatar",$),S.current=!1}}})()},[t,n.avatarUrl,n.username,i]),T.useEffect(()=>{(async()=>{try{const $=await mM(n.username);x($)}catch{x("NONE")}})()},[n.username]);const R=async()=>{try{await pM(n.username),x("PENDING_SENT")}catch(k){f(k instanceof Error?k.message:"Failed to send friend request"),setTimeout(()=>f(null),3e3)}},E=async()=>{try{await G3(n.username),x("FRIENDS"),e(k=>k&&{...k,friendCount:k.friendCount+1})}catch(k){f(k instanceof Error?k.message:"Failed to accept friend request"),setTimeout(()=>f(null),3e3)}},j=async()=>{try{await W3(n.username),x("NONE")}catch(k){f(k instanceof Error?k.message:"Failed to reject friend request"),setTimeout(()=>f(null),3e3)}},Q=async()=>{try{await Uh(n.username),x("NONE"),e(k=>k&&{...k,friendCount:k.friendCount-1}),v(!1)}catch(k){f(k instanceof Error?k.message:"Failed to unFriend"),setTimeout(()=>f(null),3e3)}},M=async()=>{try{await Uh(n.username),x("NONE")}catch(k){f(k instanceof Error?k.message:"Failed to unFriend"),setTimeout(()=>f(null),3e3)}};return p.jsxs("div",{className:"bg-container rounded-lg p-8 mb-8 relative",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"text-xl mb-2",style:{color:i},children:n.rank}),p.jsx("h1",{className:"text-3xl font-bold mb-6",style:{color:i},children:n.username}),p.jsxs("div",{className:"space-y-2 text-text",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xl text-text",children:"Current Rate :"}),p.jsx("span",{className:"text-2xl font-semibold",style:{color:i},children:n.currentRate})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xl text-text",children:"Max Rate :"}),p.jsx("span",{className:"text-2xl font-semibold",style:{color:i},children:n.maxRate})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xl text-text",children:"Friend of :"}),p.jsxs("span",{className:"text-2xl font-semibold",style:{color:i},children:[n.friendCount," users"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xl text-text",children:"Status :"}),p.jsx("span",{className:`text-2xl font-semibold ${zc(n.userStatus)}`,children:BO(n.userStatus)})]})]})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"w-80 h-80 rounded-full overflow-hidden border-4 relative",style:{borderColor:i},children:[h||n.avatarUrl?p.jsx("img",{src:h||n.avatarUrl,alt:n.username,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center select-none",style:{backgroundColor:`${i}20`},children:p.jsx("span",{className:"text-9xl font-bold uppercase",style:{color:i},children:n.username.charAt(0)})}),a&&p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[p.jsx(nM,{className:"w-8 h-8 text-white animate-bounce"}),p.jsx("span",{className:"text-white font-medium",children:"Uploading..."})]})})]}),t?p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"file",id:"profile-image-input",accept:"image/*",onChange:w,className:"hidden",disabled:a}),p.jsx("div",{className:"absolute top-5 right-5 flex gap-2",children:p.jsx("label",{htmlFor:"profile-image-input",className:`bg-background rounded-full p-3 hover:bg-gray-700 transition-colors ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{border:`3px solid ${i}`},"aria-label":"Change profile image",children:p.jsx(Lj,{className:"w-8 h-8",style:{color:i}})})})]}):g==="NONE"&&p.jsx("button",{onClick:R,className:"absolute top-5 right-5  bg-background rounded-full p-4 hover:bg-gray-700 transition-colors",style:{border:`3px solid ${i}`},"aria-label":"Add friend",children:p.jsx(sM,{className:"w-6 h-6",style:{color:i}})}),c&&p.jsx("div",{className:"absolute -bottom-10 left-0 right-0 bg-red-500 bg-opacity-90 text-white text-sm px-4 py-2 rounded text-center",children:c})]})]}),!t&&p.jsxs("div",{className:"absolute bottom-9 left-8",children:[g==="PENDING_SENT"&&p.jsxs("div",{className:"flex gap-2",children:[p.jsx("span",{className:"px-4 py-2 rounded-full text-lg uppercase font-medium",style:{border:"2px solid gold",color:"gold"},children:"Request Pending"}),p.jsx(Wr,{label:"Cancel Request",onClick:M,variant:"negative",size:"large"})]}),g==="FRIENDS"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("span",{className:"px-4 py-2 rounded-full text-lg uppercase font-medium",style:{border:"2px solid  #34D399",color:"#34D399"},children:"Friends"}),p.jsx(Wr,{label:"Unfriend",onClick:()=>v(!0),variant:"negative",size:"large"})]}),p.jsx(Zc,{isOpen:y,onClose:()=>v(!1),onConfirm:Q,title:"Confirm Unfriend",message:`Are you sure you want to unfriend ${n.username}?`,confirmText:"Unfriend",cancelText:"Cancel"})]}),g==="PENDING_RECEIVED"&&p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Wr,{label:"Accept",onClick:E,variant:"positive",size:"large"}),p.jsx(Wr,{label:"Reject",onClick:j,variant:"negative",size:"large"})]})]})]})}function _6(n){const e=Me.c(29),{stats:t,color:i}=n;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=p.jsx("span",{className:"text-text text-xl",children:"Solved Problems:"}),e[0]=s):s=e[0];let a;e[1]!==i?(a={color:i},e[1]=i,e[2]=a):a=e[2];let o;e[3]!==t.solvedProblems||e[4]!==a?(o=p.jsxs("div",{className:"flex items-center gap-2",children:[s,p.jsx("span",{className:"text-2xl font-semibold",style:a,children:t.solvedProblems})]}),e[3]=t.solvedProblems,e[4]=a,e[5]=o):o=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=p.jsx("span",{className:"text-text text-xl",children:"Attempted Problems:"}),e[6]=c):c=e[6];let f;e[7]!==i?(f={color:i},e[7]=i,e[8]=f):f=e[8];let h;e[9]!==t.attemptedProblems||e[10]!==f?(h=p.jsxs("div",{className:"flex items-center gap-2",children:[c,p.jsx("span",{className:"text-2xl font-semibold",style:f,children:t.attemptedProblems})]}),e[9]=t.attemptedProblems,e[10]=f,e[11]=h):h=e[11];let m;e[12]===Symbol.for("react.memo_cache_sentinel")?(m=p.jsx("span",{className:"text-text text-xl",children:"Matches Played:"}),e[12]=m):m=e[12];let g;e[13]!==i?(g={color:i},e[13]=i,e[14]=g):g=e[14];let x;e[15]!==t.matchesPlayed||e[16]!==g?(x=p.jsxs("div",{className:"flex items-center gap-2",children:[m,p.jsx("span",{className:"text-2xl font-semibold",style:g,children:t.matchesPlayed})]}),e[15]=t.matchesPlayed,e[16]=g,e[17]=x):x=e[17];let y;e[18]===Symbol.for("react.memo_cache_sentinel")?(y=p.jsx("span",{className:"text-text text-xl",children:"Matches Won:"}),e[18]=y):y=e[18];let v;e[19]!==i?(v={color:i},e[19]=i,e[20]=v):v=e[20];let S;e[21]!==t.matchesWon||e[22]!==v?(S=p.jsxs("div",{className:"flex items-center gap-2",children:[y,p.jsx("span",{className:"text-2xl font-semibold",style:v,children:t.matchesWon})]}),e[21]=t.matchesWon,e[22]=v,e[23]=S):S=e[23];let w;return e[24]!==S||e[25]!==o||e[26]!==h||e[27]!==x?(w=p.jsx("div",{className:"bg-container rounded-lg p-8 items-center",children:p.jsxs("div",{className:"space-y-4 text-text",children:[o,h,x,S]})}),e[24]=S,e[25]=o,e[26]=h,e[27]=x,e[28]=w):w=e[28],w}function wA(){const[n,e]=T.useState(null),[t,i]=T.useState(null),[s,a]=T.useState([]),[o,c]=T.useState(!0),{username:f}=fs(),h=En(),m=f??h;T.useEffect(()=>{(async()=>{const y=Date.now();try{const v=m===h?await eA():await DM(m);await Us(y);const{profileBasic:S,stats:w,categories:C}=_M(v);e(S),i(w),a(C),console.log("here is the data"),console.log(S)}catch(v){console.error("Failed to fetch profile:",v)}finally{c(!1)}})()},[m,h]);const g=x=>{e(y=>y&&{...y,avatarUrl:x})};return o?p.jsx(ps,{loadingMessage:"Loading Profile"}):!n||!t?p.jsx("div",{className:"p-8 text-center text-3xl text-orange",children:"Failed to load profile data."}):p.jsxs("div",{className:"space-y-8 p-scroll-x",children:[p.jsx(P6,{profile:n,setProfile:e,isPrivate:m===h,color:zs[n.rank],onImageUpdated:g}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsx(_6,{stats:t,color:zs[n.rank]}),p.jsx(Q6,{categories:s,color:zs[n.rank]})]})]})}const Lt={ACCEPTED:"ACCEPTED",WAITING:"WAITING",WRONG_ANSWER:"WRONG_ANSWER",TIME_LIMIT_EXCEEDED:"TIME_LIMIT_EXCEEDED",MEMORY_LIMIT_EXCEEDED:"MEMORY_LIMIT_EXCEEDED",COMPILATION_ERROR:"COMPILATION_ERROR",RUNNING_ON_TEST:"RUNNING_ON_TEST"};function YO(n){switch(n){case Lt.ACCEPTED:return"text-statusSolved";case Lt.WAITING:return"text-text";case Lt.WRONG_ANSWER:return"text-statusUnsolved";case Lt.TIME_LIMIT_EXCEEDED:return"text-statusAttempted";case Lt.MEMORY_LIMIT_EXCEEDED:return"text-statusAttempted";case Lt.COMPILATION_ERROR:return"text-orange";default:return"text-text"}}function VO(n){switch(n){case Lt.ACCEPTED:return"Accepted";case Lt.WAITING:return"Waiting";case Lt.WRONG_ANSWER:return"Wrong Answer";case Lt.TIME_LIMIT_EXCEEDED:return"Time Limit Exceeded";case Lt.MEMORY_LIMIT_EXCEEDED:return"Memory Limit Exceeded";case Lt.COMPILATION_ERROR:return"Compilation Error";default:return"Unknown"}}function D6(n){const e=Me.c(32),{submissionStatus:t,timeTaken:i,memoryTaken:s,submittedAt:a,numberOfPassedTestCases:o,numberOfTotalTestCases:c,numberOfCurrentTestCase:f,problemTitle:h,problemId:m,onClick:g,className:x}=n,y=x===void 0?"":x;let v;e[0]!==t?(v=YO(t),e[0]=t,e[1]=v):v=e[1];const S=v,w=B6,C=z6,R=L6,E=`grid ${y} gap-4 p-4 bg-container hover:bg-sidebar 
                       transition-colors duration-200 cursor-pointer border-b border-gray-700`,j=`font-semibold font-anta ${S} text-center`;let Q;e[2]!==f||e[3]!==c||e[4]!==t?(Q=t===Lt.RUNNING_ON_TEST?`Running on Test ${f} / ${c}`:VO(t),e[2]=f,e[3]=c,e[4]=t,e[5]=Q):Q=e[5];let M;e[6]!==j||e[7]!==Q?(M=p.jsx("div",{className:j,children:Q}),e[6]=j,e[7]=Q,e[8]=M):M=e[8];const k=`/practice/problem/${m}`;let $;e[9]!==h||e[10]!==k?($=p.jsx("div",{className:"text-text font-semibold text-center",children:p.jsx(Ya,{to:k,onClick:$6,className:"text-blue-400 hover:text-blue-500 underline",children:h})}),e[9]=h,e[10]=k,e[11]=$):$=e[11];const D=w(i);let L;e[12]!==D?(L=p.jsx("div",{className:"text-text text-center",children:D}),e[12]=D,e[13]=L):L=e[13];const V=C(s);let z;e[14]!==V?(z=p.jsx("div",{className:"text-text text-center",children:V}),e[14]=V,e[15]=z):z=e[15];let I;e[16]!==o||e[17]!==c?(I=p.jsxs("div",{className:"text-text text-center",children:[o," / ",c]}),e[16]=o,e[17]=c,e[18]=I):I=e[18];let H;e[19]!==a?(H=R(a),e[19]=a,e[20]=H):H=e[20];let F;e[21]!==H?(F=p.jsx("div",{className:"text-text text-container-list text-center",children:H}),e[21]=H,e[22]=F):F=e[22];let P;return e[23]!==g||e[24]!==L||e[25]!==z||e[26]!==I||e[27]!==F||e[28]!==E||e[29]!==M||e[30]!==$?(P=p.jsxs("div",{onClick:g,className:E,children:[M,$,L,z,I,F]}),e[23]=g,e[24]=L,e[25]=z,e[26]=I,e[27]=F,e[28]=E,e[29]=M,e[30]=$,e[31]=P):P=e[31],P}function $6(n){return n.stopPropagation()}function L6(n){return new Date(n).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function z6(n){return`${n}MB`}function B6(n){return n<1e3?`${n}ms`:`${(n/1e3).toFixed(2)}s`}function A0(){return A0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},A0.apply(null,arguments)}function Z6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}let C0=[],AA=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?AA:C0).push(t=t+n[e])})();function U6(n){if(n<768)return!1;for(let e=0,t=C0.length;;){let i=e+t>>1;if(n<C0[i])t=i;else if(n>=AA[i])e=i+1;else return!0;if(e==t)return!1}}function P2(n){return n>=127462&&n<=127487}const _2=8205;function X6(n,e,t=!0,i=!0){return(t?CA:I6)(n,e,i)}function CA(n,e,t){if(e==n.length)return e;e&&kA(n.charCodeAt(e))&&TA(n.charCodeAt(e-1))&&e--;let i=Qg(n,e);for(e+=D2(i);e<n.length;){let s=Qg(n,e);if(i==_2||s==_2||t&&U6(s))e+=D2(s),i=s;else if(P2(s)){let a=0,o=e-2;for(;o>=0&&P2(Qg(n,o));)a++,o-=2;if(a%2==0)break;e+=2}else break}return e}function I6(n,e,t){for(;e>0;){let i=CA(n,e-2,t);if(i<e)return i;e--}return 0}function Qg(n,e){let t=n.charCodeAt(e);if(!TA(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return kA(i)?(t-55296<<10)+(i-56320)+65536:t}function kA(n){return n>=56320&&n<57344}function TA(n){return n>=55296&&n<56320}function D2(n){return n<65536?1:2}class nt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=eo(this,e,t);let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),js.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=eo(this,e,t);let i=[];return this.decompose(e,t,i,0),js.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new Tc(this),a=new Tc(e);for(let o=t,c=t;;){if(s.next(o),a.next(o),o=0,s.lineBreak!=a.lineBreak||s.done!=a.done||s.value!=a.value)return!1;if(c+=s.value.length,s.done||c>=i)return!0}}iter(e=1){return new Tc(this,e)}iterRange(e,t=this.length){return new EA(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new RA(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?nt.empty:e.length<=32?new It(e):js.from(It.split(e,[]))}}class It extends nt{constructor(e,t=Y6(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let a=0;;a++){let o=this.text[a],c=s+o.length;if((t?i:c)>=e)return new V6(s,c,i,o);s=c+1,i++}}decompose(e,t,i,s){let a=e<=0&&t>=this.length?this:new It($2(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let o=i.pop(),c=Th(a.text,o.text.slice(),0,a.length);if(c.length<=32)i.push(new It(c,o.length+a.length));else{let f=c.length>>1;i.push(new It(c.slice(0,f)),new It(c.slice(f)))}}else i.push(a)}replace(e,t,i){if(!(i instanceof It))return super.replace(e,t,i);[e,t]=eo(this,e,t);let s=Th(this.text,Th(i.text,$2(this.text,0,e)),t),a=this.length+i.length-(t-e);return s.length<=32?new It(s,a):js.from(It.split(s,[]),a)}sliceString(e,t=this.length,i=`
`){[e,t]=eo(this,e,t);let s="";for(let a=0,o=0;a<=t&&o<this.text.length;o++){let c=this.text[o],f=a+c.length;a>e&&o&&(s+=i),e<f&&t>a&&(s+=c.slice(Math.max(0,e-a),t-a)),a=f+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let a of e)i.push(a),s+=a.length+1,i.length==32&&(t.push(new It(i,s)),i=[],s=-1);return s>-1&&t.push(new It(i,s)),t}}class js extends nt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let a=0;;a++){let o=this.children[a],c=s+o.length,f=i+o.lines-1;if((t?f:c)>=e)return o.lineInner(e,t,i,s);s=c+1,i=f+1}}decompose(e,t,i,s){for(let a=0,o=0;o<=t&&a<this.children.length;a++){let c=this.children[a],f=o+c.length;if(e<=f&&t>=o){let h=s&((o<=e?1:0)|(f>=t?2:0));o>=e&&f<=t&&!h?i.push(c):c.decompose(e-o,t-o,i,h)}o=f+1}}replace(e,t,i){if([e,t]=eo(this,e,t),i.lines<this.lines)for(let s=0,a=0;s<this.children.length;s++){let o=this.children[s],c=a+o.length;if(e>=a&&t<=c){let f=o.replace(e-a,t-a,i),h=this.lines-o.lines+f.lines;if(f.lines<h>>4&&f.lines>h>>6){let m=this.children.slice();return m[s]=f,new js(m,this.length-(t-e)+i.length)}return super.replace(a,c,f)}a=c+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=eo(this,e,t);let s="";for(let a=0,o=0;a<this.children.length&&o<=t;a++){let c=this.children[a],f=o+c.length;o>e&&a&&(s+=i),e<f&&t>o&&(s+=c.sliceString(e-o,t-o,i)),o=f+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof js))return 0;let i=0,[s,a,o,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,a+=t){if(s==o||a==c)return i;let f=this.children[s],h=e.children[a];if(f!=h)return i+f.scanIdentical(h,t);i+=f.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let y of e)i+=y.lines;if(i<32){let y=[];for(let v of e)v.flatten(y);return new It(y,t)}let s=Math.max(32,i>>5),a=s<<1,o=s>>1,c=[],f=0,h=-1,m=[];function g(y){let v;if(y.lines>a&&y instanceof js)for(let S of y.children)g(S);else y.lines>o&&(f>o||!f)?(x(),c.push(y)):y instanceof It&&f&&(v=m[m.length-1])instanceof It&&y.lines+v.lines<=32?(f+=y.lines,h+=y.length+1,m[m.length-1]=new It(v.text.concat(y.text),v.length+1+y.length)):(f+y.lines>s&&x(),f+=y.lines,h+=y.length+1,m.push(y))}function x(){f!=0&&(c.push(m.length==1?m[0]:js.from(m,h)),h=-1,f=m.length=0)}for(let y of e)g(y);return x(),c.length==1?c[0]:new js(c,t)}}nt.empty=new It([""],0);function Y6(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Th(n,e,t=0,i=1e9){for(let s=0,a=0,o=!0;a<n.length&&s<=i;a++){let c=n[a],f=s+c.length;f>=t&&(f>i&&(c=c.slice(0,i-s)),s<t&&(c=c.slice(t-s)),o?(e[e.length-1]+=c,o=!1):e.push(c)),s=f+1}return e}function $2(n,e,t){return Th(n,[""],e,t)}class Tc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof It?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],a=this.offsets[i],o=a>>1,c=s instanceof It?s.text.length:s.children.length;if(o==(t>0?c:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof It){let f=s.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,f.length>Math.max(0,e))return this.value=e==0?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=s.children[o+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof It?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class EA{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Tc(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class RA{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(nt.prototype[Symbol.iterator]=function(){return this.iter()},Tc.prototype[Symbol.iterator]=EA.prototype[Symbol.iterator]=RA.prototype[Symbol.iterator]=function(){return this});class V6{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}function eo(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function an(n,e,t=!0,i=!0){return X6(n,e,t,i)}function q6(n){return n>=56320&&n<57344}function H6(n){return n>=55296&&n<56320}function Wn(n,e){let t=n.charCodeAt(e);if(!H6(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return q6(i)?(t-55296<<10)+(i-56320)+65536:t}function qO(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Ms(n){return n<65536?1:2}const k0=/\r\n?|\n/;var vn=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(vn||(vn={}));class Bs{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let a=this.sections[t++],o=this.sections[t++];o<0?(e(i,s,a),s+=a):s+=o,i+=a}}iterChangedRanges(e,t=!1){T0(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new Bs(e)}composeDesc(e){return this.empty?e:e.empty?this:QA(this,e)}mapDesc(e,t=!1){return e.empty?this:E0(this,e,t)}mapPos(e,t=-1,i=vn.Simple){let s=0,a=0;for(let o=0;o<this.sections.length;){let c=this.sections[o++],f=this.sections[o++],h=s+c;if(f<0){if(h>e)return a+(e-s);a+=c}else{if(i!=vn.Simple&&h>=e&&(i==vn.TrackDel&&s<e&&h>e||i==vn.TrackBefore&&s<e||i==vn.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!c)return e==s||t<0?a:a+f;a+=f}s=h}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return a}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let a=this.sections[i++],o=this.sections[i++],c=s+a;if(o>=0&&s<=t&&c>=e)return s<e&&c>t?"cover":!0;s=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Bs(e)}static create(e){return new Bs(e)}}class sn extends Bs{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return T0(this,(t,i,s,a,o)=>e=e.replace(s,s+(i-t),o),!1),e}mapDesc(e,t=!1){return E0(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,a=0;s<t.length;s+=2){let o=t[s],c=t[s+1];if(c>=0){t[s]=c,t[s+1]=o;let f=s>>1;for(;i.length<f;)i.push(nt.empty);i.push(o?e.slice(a,a+o):nt.empty)}a+=o}return new sn(t,i)}compose(e){return this.empty?e:e.empty?this:QA(this,e,!0)}map(e,t=!1){return e.empty?this:E0(this,e,t,!0)}iterChanges(e,t=!1){T0(this,e,t)}get desc(){return Bs.create(this.sections)}filter(e){let t=[],i=[],s=[],a=new Ic(this);e:for(let o=0,c=0;;){let f=o==e.length?1e9:e[o++];for(;c<f||c==f&&a.len==0;){if(a.done)break e;let m=Math.min(a.len,f-c);kn(s,m,-1);let g=a.ins==-1?-1:a.off==0?a.ins:0;kn(t,m,g),g>0&&Fr(i,t,a.text),a.forward(m),c+=m}let h=e[o++];for(;c<h;){if(a.done)break e;let m=Math.min(a.len,h-c);kn(t,m,-1),kn(s,m,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(m),c+=m}}return{changes:new sn(t,i),filtered:Bs.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],a=[],o=0,c=null;function f(m=!1){if(!m&&!s.length)return;o<t&&kn(s,t-o,-1);let g=new sn(s,a);c=c?c.compose(g.map(c)):g,s=[],a=[],o=0}function h(m){if(Array.isArray(m))for(let g of m)h(g);else if(m instanceof sn){if(m.length!=t)throw new RangeError(`Mismatched change set length (got ${m.length}, expected ${t})`);f(),c=c?c.compose(m.map(c)):m}else{let{from:g,to:x=g,insert:y}=m;if(g>x||g<0||x>t)throw new RangeError(`Invalid change range ${g} to ${x} (in doc of length ${t})`);let v=y?typeof y=="string"?nt.of(y.split(i||k0)):y:nt.empty,S=v.length;if(g==x&&S==0)return;g<o&&f(),g>o&&kn(s,g-o,-1),kn(s,x-g,S),Fr(a,s,v),o=x}}return h(e),f(!c),c}static empty(e){return new sn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")t.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((o,c)=>c&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)t.push(a[0],0);else{for(;i.length<s;)i.push(nt.empty);i[s]=nt.of(a.slice(1)),t.push(a[0],i[s].length)}}}return new sn(t,i)}static createSet(e,t){return new sn(e,t)}}function kn(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:s>=0&&e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function Fr(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(nt.empty);n.push(t)}}function T0(n,e,t){let i=n.inserted;for(let s=0,a=0,o=0;o<n.sections.length;){let c=n.sections[o++],f=n.sections[o++];if(f<0)s+=c,a+=c;else{let h=s,m=a,g=nt.empty;for(;h+=c,m+=f,f&&i&&(g=g.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)c=n.sections[o++],f=n.sections[o++];e(s,h,a,m,g),s=h,a=m}}}function E0(n,e,t,i=!1){let s=[],a=i?[]:null,o=new Ic(n),c=new Ic(e);for(let f=-1;;){if(o.done&&c.len||c.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&c.ins==-1){let h=Math.min(o.len,c.len);kn(s,h,-1),o.forward(h),c.forward(h)}else if(c.ins>=0&&(o.ins<0||f==o.i||o.off==0&&(c.len<o.len||c.len==o.len&&!t))){let h=c.len;for(kn(s,c.ins,-1);h;){let m=Math.min(o.len,h);o.ins>=0&&f<o.i&&o.len<=m&&(kn(s,0,o.ins),a&&Fr(a,s,o.text),f=o.i),o.forward(m),h-=m}c.next()}else if(o.ins>=0){let h=0,m=o.len;for(;m;)if(c.ins==-1){let g=Math.min(m,c.len);h+=g,m-=g,c.forward(g)}else if(c.ins==0&&c.len<m)m-=c.len,c.next();else break;kn(s,h,f<o.i?o.ins:0),a&&f<o.i&&Fr(a,s,o.text),f=o.i,o.forward(o.len-m)}else{if(o.done&&c.done)return a?sn.createSet(s,a):Bs.create(s);throw new Error("Mismatched change set lengths")}}}function QA(n,e,t=!1){let i=[],s=t?[]:null,a=new Ic(n),o=new Ic(e);for(let c=!1;;){if(a.done&&o.done)return s?sn.createSet(i,s):Bs.create(i);if(a.ins==0)kn(i,a.len,0,c),a.next();else if(o.len==0&&!o.done)kn(i,0,o.ins,c),s&&Fr(s,i,o.text),o.next();else{if(a.done||o.done)throw new Error("Mismatched change set lengths");{let f=Math.min(a.len2,o.len),h=i.length;if(a.ins==-1){let m=o.ins==-1?-1:o.off?0:o.ins;kn(i,f,m,c),s&&m&&Fr(s,i,o.text)}else o.ins==-1?(kn(i,a.off?0:a.len,f,c),s&&Fr(s,i,a.textBit(f))):(kn(i,a.off?0:a.len,o.off?0:o.ins,c),s&&!o.off&&Fr(s,i,o.text));c=(a.ins>f||o.ins>=0&&o.len>f)&&(c||i.length>h),a.forward2(f),o.forward(f)}}}}class Ic{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?nt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?nt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Da{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new Da(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return fe.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return fe.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return fe.range(e.anchor,e.head)}static create(e,t,i){return new Da(e,t,i)}}class fe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:fe.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new fe([this.main],0)}addRange(e,t=!0){return fe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,fe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new fe(e.ranges.map(t=>Da.fromJSON(t)),e.main)}static single(e,t=e){return new fe([fe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let a=e[s];if(a.empty?a.from<=i:a.from<i)return fe.normalized(e.slice(),t);i=a.to}return new fe(e,t)}static cursor(e,t=0,i,s){return Da.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(s??16777215)<<6)}static range(e,t,i,s){let a=(i??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?Da.create(t,e,48|a):Da.create(e,t,(t>e?8:0)|a)}static normalized(e,t=0){let i=e[t];e.sort((s,a)=>s.from-a.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let a=e[s],o=e[s-1];if(a.empty?a.from<=o.to:a.from<o.to){let c=o.from,f=Math.max(a.to,o.to);s<=t&&t--,e.splice(--s,2,a.anchor>a.head?fe.range(f,c):fe.range(c,f))}}return new fe(e,t)}}function NA(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let HO=0;class ye{constructor(e,t,i,s,a){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=HO++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new ye(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:GO),!!e.static,e.enables)}of(e){return new Eh([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eh(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eh(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function GO(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Eh{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=HO++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,a=this.id,o=e[a]>>1,c=this.type==2,f=!1,h=!1,m=[];for(let g of this.dependencies)g=="doc"?f=!0:g=="selection"?h=!0:(((t=e[g.id])!==null&&t!==void 0?t:1)&1)==0&&m.push(e[g.id]);return{create(g){return g.values[o]=i(g),1},update(g,x){if(f&&x.docChanged||h&&(x.docChanged||x.selection)||R0(g,m)){let y=i(g);if(c?!L2(y,g.values[o],s):!s(y,g.values[o]))return g.values[o]=y,1}return 0},reconfigure:(g,x)=>{let y,v=x.config.address[a];if(v!=null){let S=Kh(x,v);if(this.dependencies.every(w=>w instanceof ye?x.facet(w)===g.facet(w):w instanceof hn?x.field(w,!1)==g.field(w,!1):!0)||(c?L2(y=i(g),S,s):s(y=i(g),S)))return g.values[o]=S,0}else y=i(g);return g.values[o]=y,1}}}}function L2(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function R0(n,e){let t=!1;for(let i of e)Ec(n,i)&1&&(t=!0);return t}function G6(n,e,t){let i=t.map(f=>n[f.id]),s=t.map(f=>f.type),a=i.filter(f=>!(f&1)),o=n[e.id]>>1;function c(f){let h=[];for(let m=0;m<i.length;m++){let g=Kh(f,i[m]);if(s[m]==2)for(let x of g)h.push(x);else h.push(g)}return e.combine(h)}return{create(f){for(let h of i)Ec(f,h);return f.values[o]=c(f),1},update(f,h){if(!R0(f,a))return 0;let m=c(f);return e.compare(m,f.values[o])?0:(f.values[o]=m,1)},reconfigure(f,h){let m=R0(f,i),g=h.config.facets[e.id],x=h.facet(e);if(g&&!m&&GO(t,g))return f.values[o]=x,0;let y=c(f);return e.compare(y,x)?(f.values[o]=x,0):(f.values[o]=y,1)}}}const Ff=ye.define({static:!0});class hn{constructor(e,t,i,s,a){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=a,this.provides=void 0}static define(e){let t=new hn(HO++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ff).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let a=i.values[t],o=this.updateF(a,s);return this.compareF(a,o)?0:(i.values[t]=o,1)},reconfigure:(i,s)=>{let a=i.facet(Ff),o=s.facet(Ff),c;return(c=a.find(f=>f.field==this))&&c!=o.find(f=>f.field==this)?(i.values[t]=c.create(i),1):s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,Ff.of({field:this,create:e})]}get extension(){return this}}const ja={lowest:4,low:3,default:2,high:1,highest:0};function oc(n){return e=>new jA(e,n)}const ua={highest:oc(ja.highest),high:oc(ja.high),default:oc(ja.default),low:oc(ja.low),lowest:oc(ja.lowest)};class jA{constructor(e,t){this.inner=e,this.prec=t}}class Zd{of(e){return new Q0(this,e)}reconfigure(e){return Zd.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Q0{constructor(e,t){this.compartment=e,this.inner=t}}class Fh{constructor(e,t,i,s,a,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=a,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],a=Object.create(null),o=new Map;for(let x of W6(e,t,o))x instanceof hn?s.push(x):(a[x.facet.id]||(a[x.facet.id]=[])).push(x);let c=Object.create(null),f=[],h=[];for(let x of s)c[x.id]=h.length<<1,h.push(y=>x.slot(y));let m=i?.config.facets;for(let x in a){let y=a[x],v=y[0].facet,S=m&&m[x]||[];if(y.every(w=>w.type==0))if(c[v.id]=f.length<<1|1,GO(S,y))f.push(i.facet(v));else{let w=v.combine(y.map(C=>C.value));f.push(i&&v.compare(w,i.facet(v))?i.facet(v):w)}else{for(let w of y)w.type==0?(c[w.id]=f.length<<1|1,f.push(w.value)):(c[w.id]=h.length<<1,h.push(C=>w.dynamicSlot(C)));c[v.id]=h.length<<1,h.push(w=>G6(w,v,y))}}let g=h.map(x=>x(c));return new Fh(e,o,g,c,f,a)}}function W6(n,e,t){let i=[[],[],[],[],[]],s=new Map;function a(o,c){let f=s.get(o);if(f!=null){if(f<=c)return;let h=i[f].indexOf(o);h>-1&&i[f].splice(h,1),o instanceof Q0&&t.delete(o.compartment)}if(s.set(o,c),Array.isArray(o))for(let h of o)a(h,c);else if(o instanceof Q0){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),a(h,c)}else if(o instanceof jA)a(o.inner,o.prec);else if(o instanceof hn)i[c].push(o),o.provides&&a(o.provides,c);else if(o instanceof Eh)i[c].push(o),o.facet.extensions&&a(o.facet.extensions,ja.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(h,c)}}return a(n,ja.default),i.reduce((o,c)=>o.concat(c))}function Ec(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function Kh(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const MA=ye.define(),N0=ye.define({combine:n=>n.some(e=>e),static:!0}),PA=ye.define({combine:n=>n.length?n[0]:void 0,static:!0}),_A=ye.define(),DA=ye.define(),$A=ye.define(),LA=ye.define({combine:n=>n.length?n[0]:!1});class Xs{constructor(e,t){this.type=e,this.value=t}static define(){return new F6}}class F6{of(e){return new Xs(this,e)}}class K6{constructor(e){this.map=e}of(e){return new De(this,e)}}class De{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new De(this.type,t)}is(e){return this.type==e}static define(e={}){return new K6(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let a=s.map(t);a&&i.push(a)}return i}}De.reconfigure=De.define();De.appendConfig=De.define();class Kt{constructor(e,t,i,s,a,o){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,i&&NA(i,t.newLength),a.some(c=>c.type==Kt.time)||(this.annotations=a.concat(Kt.time.of(Date.now())))}static create(e,t,i,s,a,o){return new Kt(e,t,i,s,a,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Kt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Kt.time=Xs.define();Kt.userEvent=Xs.define();Kt.addToHistory=Xs.define();Kt.remote=Xs.define();function J6(n,e){let t=[];for(let i=0,s=0;;){let a,o;if(i<n.length&&(s==e.length||e[s]>=n[i]))a=n[i++],o=n[i++];else if(s<e.length)a=e[s++],o=e[s++];else return t;!t.length||t[t.length-1]<a?t.push(a,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function zA(n,e,t){var i;let s,a,o;return t?(s=e.changes,a=sn.empty(e.changes.length),o=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),a=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(a):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:De.mapEffects(n.effects,s).concat(De.mapEffects(e.effects,a)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function j0(n,e,t){let i=e.selection,s=Yl(e.annotations);return e.userEvent&&(s=s.concat(Kt.userEvent.of(e.userEvent))),{changes:e.changes instanceof sn?e.changes:sn.of(e.changes||[],t,n.facet(PA)),selection:i&&(i instanceof fe?i:fe.single(i.anchor,i.head)),effects:Yl(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function BA(n,e,t){let i=j0(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(t=!1);let o=!!e[a].sequential;i=zA(i,j0(n,e[a],o?i.changes.newLength:n.doc.length),o)}let s=Kt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return tD(t?eD(s):s)}function eD(n){let e=n.startState,t=!0;for(let s of e.facet(_A)){let a=s(n);if(a===!1){t=!1;break}Array.isArray(a)&&(t=t===!0?a:J6(t,a))}if(t!==!0){let s,a;if(t===!1)a=n.changes.invertedDesc,s=sn.empty(e.doc.length);else{let o=n.changes.filter(t);s=o.changes,a=o.filtered.mapDesc(o.changes).invertedDesc}n=Kt.create(e,s,n.selection&&n.selection.map(a),De.mapEffects(n.effects,a),n.annotations,n.scrollIntoView)}let i=e.facet(DA);for(let s=i.length-1;s>=0;s--){let a=i[s](n);a instanceof Kt?n=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Kt?n=a[0]:n=BA(e,Yl(a),!1)}return n}function tD(n){let e=n.startState,t=e.facet($A),i=n;for(let s=t.length-1;s>=0;s--){let a=t[s](n);a&&Object.keys(a).length&&(i=zA(i,j0(e,a,n.changes.newLength),!0))}return i==n?n:Kt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const nD=[];function Yl(n){return n==null?nD:Array.isArray(n)?n:[n]}var Rt=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(Rt||(Rt={}));const iD=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let M0;try{M0=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function sD(n){if(M0)return M0.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||iD.test(t)))return!0}return!1}function rD(n){return e=>{if(!/\S/.test(e))return Rt.Space;if(sD(e))return Rt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Rt.Word;return Rt.Other}}class et{constructor(e,t,i,s,a,o){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=a,o&&(o._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)Ec(this,c<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Ec(this,i),Kh(this,i)}update(...e){return BA(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let c of e.effects)c.is(Zd.reconfigure)?(t&&(s=new Map,t.compartments.forEach((f,h)=>s.set(h,f)),t=null),s.set(c.value.compartment,c.value.extension)):c.is(De.reconfigure)?(t=null,i=c.value):c.is(De.appendConfig)&&(t=null,i=Yl(i).concat(c.value));let a;t?a=e.startState.values.slice():(t=Fh.resolve(i,s,this),a=new et(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(f,h)=>h.reconfigure(f,this),null).values);let o=e.startState.facet(N0)?e.newSelection:e.newSelection.asSingle();new et(t,e.newDoc,o,a,(c,f)=>f.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:fe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),a=[i.range],o=Yl(i.effects);for(let c=1;c<t.ranges.length;c++){let f=e(t.ranges[c]),h=this.changes(f.changes),m=h.map(s);for(let x=0;x<c;x++)a[x]=a[x].map(m);let g=s.mapDesc(h,!0);a.push(f.range.map(g)),s=s.compose(m),o=De.mapEffects(o,m).concat(De.mapEffects(Yl(f.effects),g))}return{changes:s,selection:fe.create(a,t.mainIndex),effects:o}}changes(e=[]){return e instanceof sn?e:sn.of(e,this.doc.length,this.facet(et.lineSeparator))}toText(e){return nt.of(e.split(this.facet(et.lineSeparator)||k0))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Ec(this,t),Kh(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof hn&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let a in i)if(Object.prototype.hasOwnProperty.call(e,a)){let o=i[a],c=e[a];s.push(o.init(f=>o.spec.fromJSON(c,f)))}}return et.create({doc:e.doc,selection:fe.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=Fh.resolve(e.extensions||[],new Map),i=e.doc instanceof nt?e.doc:nt.of((e.doc||"").split(t.staticFacet(et.lineSeparator)||k0)),s=e.selection?e.selection instanceof fe?e.selection:fe.single(e.selection.anchor,e.selection.head):fe.single(0);return NA(s,i.length),t.staticFacet(N0)||(s=s.asSingle()),new et(t,i,s,t.dynamicSlots.map(()=>null),(a,o)=>o.create(a),null)}get tabSize(){return this.facet(et.tabSize)}get lineBreak(){return this.facet(et.lineSeparator)||`
`}get readOnly(){return this.facet(LA)}phrase(e,...t){for(let i of this.facet(et.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let a=+(s||1);return!a||a>t.length?i:t[a-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let a of this.facet(MA))for(let o of a(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){return rD(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),a=this.charCategorizer(e),o=e-i,c=e-i;for(;o>0;){let f=an(t,o,!1);if(a(t.slice(f,o))!=Rt.Word)break;o=f}for(;c<s;){let f=an(t,c);if(a(t.slice(c,f))!=Rt.Word)break;c=f}return o==c?null:fe.range(o+i,c+i)}}et.allowMultipleSelections=N0;et.tabSize=ye.define({combine:n=>n.length?n[0]:4});et.lineSeparator=PA;et.readOnly=LA;et.phrases=ye.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});et.languageData=MA;et.changeFilter=_A;et.transactionFilter=DA;et.transactionExtender=$A;Zd.reconfigure=De.define();function Is(n,e,t={}){let i={};for(let s of n)for(let a of Object.keys(s)){let o=s[a],c=i[a];if(c===void 0)i[a]=o;else if(!(c===o||o===void 0))if(Object.hasOwnProperty.call(t,a))i[a]=t[a](c,o);else throw new Error("Config merge conflict for field "+a)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class ia{eq(e){return this==e}range(e,t=e){return P0.create(e,t,this)}}ia.prototype.startSide=ia.prototype.endSide=0;ia.prototype.point=!1;ia.prototype.mapMode=vn.TrackDel;let P0=class ZA{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new ZA(e,t,i)}};function _0(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class WO{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let a=i?this.to:this.from;for(let o=s,c=a.length;;){if(o==c)return o;let f=o+c>>1,h=a[f]-e||(i?this.value[f].endSide:this.value[f].startSide)-t;if(f==o)return h>=0?o:c;h>=0?c=f:o=f+1}}between(e,t,i,s){for(let a=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,a);a<o;a++)if(s(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,t){let i=[],s=[],a=[],o=-1,c=-1;for(let f=0;f<this.value.length;f++){let h=this.value[f],m=this.from[f]+e,g=this.to[f]+e,x,y;if(m==g){let v=t.mapPos(m,h.startSide,h.mapMode);if(v==null||(x=y=v,h.startSide!=h.endSide&&(y=t.mapPos(m,h.endSide),y<x)))continue}else if(x=t.mapPos(m,h.startSide),y=t.mapPos(g,h.endSide),x>y||x==y&&h.startSide>0&&h.endSide<=0)continue;(y-x||h.endSide-h.startSide)<0||(o<0&&(o=x),h.point&&(c=Math.max(c,y-x)),i.push(h),s.push(x-o),a.push(y-o))}return{mapped:i.length?new WO(s,a,i,c):null,pos:o}}}class Fe{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new Fe(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:a=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(_0)),this.isEmpty)return t.length?Fe.of(t):this;let c=new UA(this,null,-1).goto(0),f=0,h=[],m=new dr;for(;c.value||f<t.length;)if(f<t.length&&(c.from-t[f].from||c.startSide-t[f].value.startSide)>=0){let g=t[f++];m.addInner(g.from,g.to,g.value)||h.push(g)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==t.length||this.chunkEnd(c.chunkIndex)<t[f].from)&&(!o||s>this.chunkEnd(c.chunkIndex)||a<this.chunkPos[c.chunkIndex])&&m.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!o||s>c.to||a<c.from||o(c.from,c.to,c.value))&&(m.addInner(c.from,c.to,c.value)||h.push(P0.create(c.from,c.to,c.value))),c.next());return m.finishInner(this.nextLayer.isEmpty&&!h.length?Fe.empty:this.nextLayer.update({add:h,filter:o,filterFrom:s,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let o=0;o<this.chunk.length;o++){let c=this.chunkPos[o],f=this.chunk[o],h=e.touchesRange(c,c+f.length);if(h===!1)s=Math.max(s,f.maxPoint),t.push(f),i.push(e.mapPos(c));else if(h===!0){let{mapped:m,pos:g}=f.map(c,e);m&&(s=Math.max(s,m.maxPoint),t.push(m),i.push(g))}}let a=this.nextLayer.map(e);return t.length==0?a:new Fe(i,t,a||Fe.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],o=this.chunk[s];if(t>=a&&e<=a+o.length&&o.between(a,e-a,t-a,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Yc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Yc.from(e).goto(t)}static compare(e,t,i,s,a=-1){let o=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=a),c=t.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=a),f=z2(o,c,i),h=new cc(o,f,a),m=new cc(c,f,a);i.iterGaps((g,x,y)=>B2(h,g,m,x,y,s)),i.empty&&i.length==0&&B2(h,0,m,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=999999999);let a=e.filter(m=>!m.isEmpty&&t.indexOf(m)<0),o=t.filter(m=>!m.isEmpty&&e.indexOf(m)<0);if(a.length!=o.length)return!1;if(!a.length)return!0;let c=z2(a,o),f=new cc(a,c,0).goto(i),h=new cc(o,c,0).goto(i);for(;;){if(f.to!=h.to||!D0(f.active,h.active)||f.point&&(!h.point||!f.point.eq(h.point)))return!1;if(f.to>s)return!0;f.next(),h.next()}}static spans(e,t,i,s,a=-1){let o=new cc(e,null,a).goto(t),c=t,f=o.openStart;for(;;){let h=Math.min(o.to,i);if(o.point){let m=o.activeForPoint(o.to),g=o.pointFrom<t?m.length+1:o.point.startSide<0?m.length:Math.min(m.length,f);s.point(c,h,o.point,m,g,o.pointRank),f=Math.min(o.openEnd(h),m.length)}else h>c&&(s.span(c,h,o.active,f),f=o.openEnd(h));if(o.to>i)return f+(o.point&&o.to>i?1:0);c=o.to,o.next()}}static of(e,t=!1){let i=new dr;for(let s of e instanceof P0?[e]:t?aD(e):e)i.add(s.from,s.to,s.value);return i.finish()}static join(e){if(!e.length)return Fe.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let s=e[i];s!=Fe.empty;s=s.nextLayer)t=new Fe(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Fe.empty=new Fe([],[],null,-1);function aD(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(_0(e,i)>0)return n.slice().sort(_0);e=i}return n}Fe.empty.nextLayer=Fe.empty;class dr{finishChunk(e){this.chunks.push(new WO(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new dr)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Fe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Fe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function z2(n,e,t){let i=new Map;for(let a of n)for(let o=0;o<a.chunk.length;o++)a.chunk[o].maxPoint<=0&&i.set(a.chunk[o],a.chunkPos[o]);let s=new Set;for(let a of e)for(let o=0;o<a.chunk.length;o++){let c=i.get(a.chunk[o]);c!=null&&(t?t.mapPos(c):c)==a.chunkPos[o]&&!t?.touchesRange(c,c+a.chunk[o].length)&&s.add(a.chunk[o])}return s}class UA{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Yc{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let a=0;a<e.length;a++)for(let o=e[a];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&s.push(new UA(o,t,i,a));return s.length==1?s[0]:new Yc(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ng(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ng(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ng(this.heap,0)}}}function Ng(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class cc{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Yc.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Kf(this.active,e),Kf(this.activeTo,e),Kf(this.activeRank,e),this.minActive=Z2(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:a}=this.cursor;for(;t<this.activeRank.length&&(a-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Jf(this.active,t,i),Jf(this.activeTo,t,s),Jf(this.activeRank,t,a),e&&Jf(e,t,this.cursor.from),this.minActive=Z2(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&Kf(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function B2(n,e,t,i,s,a){n.goto(e),t.goto(i);let o=i+s,c=i,f=i-e;for(;;){let h=n.to+f-t.to,m=h||n.endSide-t.endSide,g=m<0?n.to+f:t.to,x=Math.min(g,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&D0(n.activeForPoint(n.to),t.activeForPoint(t.to))||a.comparePoint(c,x,n.point,t.point):x>c&&!D0(n.active,t.active)&&a.compareRange(c,x,n.active,t.active),g>o)break;(h||n.openEnd!=t.openEnd)&&a.boundChange&&a.boundChange(g),c=g,m<=0&&n.next(),m>=0&&t.next()}}function D0(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Kf(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Jf(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Z2(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function fo(n,e,t=n.length){let i=0;for(let s=0;s<t&&s<n.length;)n.charCodeAt(s)==9?(i+=e-i%e,s++):(i++,s=an(n,s));return i}function $0(n,e,t,i){for(let s=0,a=0;;){if(a>=e)return s;if(s==n.length)break;a+=n.charCodeAt(s)==9?t-a%t:1,s=an(n,s)}return i===!0?-1:n.length}const L0="",U2=typeof Symbol>"u"?"__"+L0:Symbol.for(L0),z0=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),X2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class sa{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function a(o,c,f,h){let m=[],g=/^@(\w+)\b/.exec(o[0]),x=g&&g[1]=="keyframes";if(g&&c==null)return f.push(o[0]+";");for(let y in c){let v=c[y];if(/&/.test(y))a(y.split(/,\s*/).map(S=>o.map(w=>S.replace(/&/,w))).reduce((S,w)=>S.concat(w)),v,f);else if(v&&typeof v=="object"){if(!g)throw new RangeError("The value of a property ("+y+") should be a primitive value.");a(s(y),v,m,x)}else v!=null&&m.push(y.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+v+";")}(m.length||x)&&f.push((i&&!g&&!h?o.map(i):o).join(", ")+" {"+m.join(" ")+"}")}for(let o in e)a(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=X2[U2]||1;return X2[U2]=e+1,L0+e.toString(36)}static mount(e,t,i){let s=e[z0],a=i&&i.nonce;s?a&&s.setNonce(a):s=new lD(e,a),s.mount(Array.isArray(t)?t:[t],e)}}let I2=new Map;class lD{constructor(e,t){let i=e.ownerDocument||e,s=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let a=I2.get(i);if(a)return e[z0]=a;this.sheet=new s.CSSStyleSheet,I2.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[z0]=this}mount(e,t){let i=this.sheet,s=0,a=0;for(let o=0;o<e.length;o++){let c=e[o],f=this.modules.indexOf(c);if(f<a&&f>-1&&(this.modules.splice(f,1),a--,f=-1),f==-1){if(this.modules.splice(a++,0,c),i)for(let h=0;h<c.rules.length;h++)i.insertRule(c.rules[h],s++)}else{for(;a<f;)s+=this.modules[a++].rules.length;s+=c.rules.length,a++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let f=0;f<this.modules.length;f++)o+=this.modules[f].getRules()+`
`;this.styleTag.textContent=o;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ra={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Vc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oD=typeof navigator<"u"&&/Mac/.test(navigator.platform),cD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var yn=0;yn<10;yn++)ra[48+yn]=ra[96+yn]=String(yn);for(var yn=1;yn<=24;yn++)ra[yn+111]="F"+yn;for(var yn=65;yn<=90;yn++)ra[yn]=String.fromCharCode(yn+32),Vc[yn]=String.fromCharCode(yn);for(var jg in ra)Vc.hasOwnProperty(jg)||(Vc[jg]=ra[jg]);function uD(n){var e=oD&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||cD&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Vc:ra)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function xt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}e++}for(;e<arguments.length;e++)XA(n,arguments[e]);return n}function XA(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)XA(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let $n=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},B0=typeof document<"u"?document:{documentElement:{style:{}}};const Z0=/Edge\/(\d+)/.exec($n.userAgent),IA=/MSIE \d/.test($n.userAgent),U0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($n.userAgent),Ud=!!(IA||U0||Z0),Y2=!Ud&&/gecko\/(\d+)/i.test($n.userAgent),Mg=!Ud&&/Chrome\/(\d+)/.exec($n.userAgent),fD="webkitFontSmoothing"in B0.documentElement.style,X0=!Ud&&/Apple Computer/.test($n.vendor),V2=X0&&(/Mobile\/\w+/.test($n.userAgent)||$n.maxTouchPoints>2);var ve={mac:V2||/Mac/.test($n.platform),windows:/Win/.test($n.platform),linux:/Linux|X11/.test($n.platform),ie:Ud,ie_version:IA?B0.documentMode||6:U0?+U0[1]:Z0?+Z0[1]:0,gecko:Y2,gecko_version:Y2?+(/Firefox\/(\d+)/.exec($n.userAgent)||[0,0])[1]:0,chrome:!!Mg,chrome_version:Mg?+Mg[1]:0,ios:V2,android:/Android\b/.test($n.userAgent),webkit_version:fD?+(/\bAppleWebKit\/(\d+)/.exec($n.userAgent)||[0,0])[1]:0,safari:X0,safari_version:X0?+(/\bVersion\/(\d+(\.\d+)?)/.exec($n.userAgent)||[0,0])[1]:0,tabSize:B0.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function FO(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Jh=Object.create(null);function KO(n,e,t){if(n==e)return!0;n||(n=Jh),e||(e=Jh);let i=Object.keys(n),s=Object.keys(e);if(i.length-0!=s.length-0)return!1;for(let a of i)if(a!=t&&(s.indexOf(a)==-1||n[a]!==e[a]))return!1;return!0}function hD(n,e){for(let t=n.attributes.length-1;t>=0;t--){let i=n.attributes[t].name;e[i]==null&&n.removeAttribute(i)}for(let t in e){let i=e[t];t=="style"?n.style.cssText=i:n.getAttribute(t)!=i&&n.setAttribute(t,i)}}function q2(n,e,t){let i=!1;if(e)for(let s in e)t&&s in t||(i=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(i=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return i}function dD(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class gs{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Sn=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(Sn||(Sn={}));class je extends ia{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new xu(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new qa(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:a,end:o}=YA(e,t);i=(a?t?-3e8:-1:5e8)-1,s=(o?t?2e8:1:-6e8)+1}return new qa(e,i,s,t,e.widget||null,!0)}static line(e){return new bu(e)}static set(e,t=!1){return Fe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}je.none=Fe.empty;class xu extends je{constructor(e){let{start:t,end:i}=YA(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?FO(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Jh}eq(e){return this==e||e instanceof xu&&this.tagName==e.tagName&&KO(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}xu.prototype.point=!1;class bu extends je{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof bu&&this.spec.class==e.spec.class&&KO(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}bu.prototype.mapMode=vn.TrackBefore;bu.prototype.point=!0;class qa extends je{constructor(e,t,i,s,a,o){super(t,i,a,e),this.block=s,this.isReplace=o,this.mapMode=s?t<=0?vn.TrackBefore:vn.TrackAfter:vn.TrackDel}get type(){return this.startSide!=this.endSide?Sn.WidgetRange:this.startSide<=0?Sn.WidgetBefore:Sn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof qa&&mD(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}qa.prototype.point=!0;function YA(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function mD(n,e){return n==e||!!(n&&e&&n.compare(e))}function Vl(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class qc extends ia{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof qc&&this.tagName==e.tagName&&KO(this.attributes,e.attributes)}static create(e){return new qc(e.tagName,e.attributes||Jh)}static set(e,t=!1){return Fe.of(e,t)}}qc.prototype.startSide=qc.prototype.endSide=-1;function Hc(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function I0(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Rh(n,e){if(!e.anchorNode)return!1;try{return I0(n,e.anchorNode)}catch{return!1}}function Rc(n){return n.nodeType==3?Wc(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Qc(n,e,t,i){return t?H2(n,e,t,i,-1)||H2(n,e,t,i,1):!1}function aa(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function ed(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function H2(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:mr(n))){if(n.nodeName=="DIV")return!1;let a=n.parentNode;if(!a||a.nodeType!=1)return!1;e=aa(n)+(s<0?0:1),n=a}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?mr(n):0}else return!1}}function mr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Gc(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function pD(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function VA(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function gD(n,e,t,i,s,a,o,c){let f=n.ownerDocument,h=f.defaultView||window;for(let m=n,g=!1;m&&!g;)if(m.nodeType==1){let x,y=m==f.body,v=1,S=1;if(y)x=pD(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(m).position)&&(g=!0),m.scrollHeight<=m.clientHeight&&m.scrollWidth<=m.clientWidth){m=m.assignedSlot||m.parentNode;continue}let R=m.getBoundingClientRect();({scaleX:v,scaleY:S}=VA(m,R)),x={left:R.left,right:R.left+m.clientWidth*v,top:R.top,bottom:R.top+m.clientHeight*S}}let w=0,C=0;if(s=="nearest")e.top<x.top?(C=e.top-(x.top+o),t>0&&e.bottom>x.bottom+C&&(C=e.bottom-x.bottom+o)):e.bottom>x.bottom&&(C=e.bottom-x.bottom+o,t<0&&e.top-C<x.top&&(C=e.top-(x.top+o)));else{let R=e.bottom-e.top,E=x.bottom-x.top;C=(s=="center"&&R<=E?e.top+R/2-E/2:s=="start"||s=="center"&&t<0?e.top-o:e.bottom-E+o)-x.top}if(i=="nearest"?e.left<x.left?(w=e.left-(x.left+a),t>0&&e.right>x.right+w&&(w=e.right-x.right+a)):e.right>x.right&&(w=e.right-x.right+a,t<0&&e.left<x.left+w&&(w=e.left-(x.left+a))):w=(i=="center"?e.left+(e.right-e.left)/2-(x.right-x.left)/2:i=="start"==c?e.left-a:e.right-(x.right-x.left)+a)-x.left,w||C)if(y)h.scrollBy(w,C);else{let R=0,E=0;if(C){let j=m.scrollTop;m.scrollTop+=C/S,E=(m.scrollTop-j)*S}if(w){let j=m.scrollLeft;m.scrollLeft+=w/v,R=(m.scrollLeft-j)*v}e={left:e.left-R,top:e.top-E,right:e.right-R,bottom:e.bottom-E},R&&Math.abs(R-w)<1&&(i="nearest"),E&&Math.abs(E-C)<1&&(s="nearest")}if(y)break;(e.top<x.top||e.bottom>x.bottom||e.left<x.left||e.right>x.right)&&(e={left:Math.max(e.left,x.left),right:Math.min(e.right,x.right),top:Math.max(e.top,x.top),bottom:Math.min(e.bottom,x.bottom)}),m=m.assignedSlot||m.parentNode}else if(m.nodeType==11)m=m.host;else break}function OD(n){let e=n.ownerDocument,t,i;for(let s=n.parentNode;s&&!(s==e.body||t&&i);)if(s.nodeType==1)!i&&s.scrollHeight>s.clientHeight&&(i=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:i}}class xD{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?mr(t):0),i,Math.min(e.focusOffset,i?mr(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let Na=null;ve.safari&&ve.safari_version>=26&&(Na=!1);function qA(n){if(n.setActive)return n.setActive();if(Na)return n.focus(Na);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Na==null?{get preventScroll(){return Na={preventScroll:!0},!0}}:void 0),!Na){Na=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],a=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=a&&(i.scrollLeft=a)}}}let G2;function Wc(n,e,t=e){let i=G2||(G2=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function ql(n,e,t,i){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let a=new KeyboardEvent("keydown",s);a.synthetic=!0,n.dispatchEvent(a);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,n.dispatchEvent(o),a.defaultPrevented||o.defaultPrevented}function bD(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function yD(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,mr(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=mr(t))}else{if(t==n)return!0;i=aa(t),t=t.parentNode}}function HA(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function GA(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=mr(t)}else if(t.parentNode&&!ed(t))i=aa(t),t=t.parentNode;else return null}}function WA(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!ed(t))i=aa(t)+1,t=t.parentNode;else return null}}class cs{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new cs(e.parentNode,aa(e),t)}static after(e,t){return new cs(e.parentNode,aa(e)+1,t)}}var yt=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(yt||(yt={}));const Ha=yt.LTR,JO=yt.RTL;function FA(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const vD=FA("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),SD=FA("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Y0=Object.create(null),Es=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Y0[e]=t,Y0[t]=-e}function KA(n){return n<=247?vD[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?SD[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const wD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class hr{get dir(){return this.level%2?JO:Ha}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,s){let a=-1;for(let o=0;o<e.length;o++){let c=e[o];if(c.from<=t&&c.to>=t){if(c.level==i)return o;(a<0||(s!=0?s<0?c.from<t:c.to>t:e[a].level>c.level))&&(a=o)}}if(a<0)throw new RangeError("Index out of range");return a}}function JA(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=e[t];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!JA(i.inner,s.inner))return!1}return!0}const bt=[];function AD(n,e,t,i,s){for(let a=0;a<=i.length;a++){let o=a?i[a-1].to:e,c=a<i.length?i[a].from:t,f=a?256:s;for(let h=o,m=f,g=f;h<c;h++){let x=KA(n.charCodeAt(h));x==512?x=m:x==8&&g==4&&(x=16),bt[h]=x==4?2:x,x&7&&(g=x),m=x}for(let h=o,m=f,g=f;h<c;h++){let x=bt[h];if(x==128)h<c-1&&m==bt[h+1]&&m&24?x=bt[h]=m:bt[h]=256;else if(x==64){let y=h+1;for(;y<c&&bt[y]==64;)y++;let v=h&&m==8||y<t&&bt[y]==8?g==1?1:8:256;for(let S=h;S<y;S++)bt[S]=v;h=y-1}else x==8&&g==1&&(bt[h]=1);m=x,x&7&&(g=x)}}}function CD(n,e,t,i,s){let a=s==1?2:1;for(let o=0,c=0,f=0;o<=i.length;o++){let h=o?i[o-1].to:e,m=o<i.length?i[o].from:t;for(let g=h,x,y,v;g<m;g++)if(y=Y0[x=n.charCodeAt(g)])if(y<0){for(let S=c-3;S>=0;S-=3)if(Es[S+1]==-y){let w=Es[S+2],C=w&2?s:w&4?w&1?a:s:0;C&&(bt[g]=bt[Es[S]]=C),c=S;break}}else{if(Es.length==189)break;Es[c++]=g,Es[c++]=x,Es[c++]=f}else if((v=bt[g])==2||v==1){let S=v==s;f=S?0:1;for(let w=c-3;w>=0;w-=3){let C=Es[w+2];if(C&2)break;if(S)Es[w+2]|=2;else{if(C&4)break;Es[w+2]|=4}}}}}function kD(n,e,t,i){for(let s=0,a=i;s<=t.length;s++){let o=s?t[s-1].to:n,c=s<t.length?t[s].from:e;for(let f=o;f<c;){let h=bt[f];if(h==256){let m=f+1;for(;;)if(m==c){if(s==t.length)break;m=t[s++].to,c=s<t.length?t[s].from:e}else if(bt[m]==256)m++;else break;let g=a==1,x=(m<e?bt[m]:i)==1,y=g==x?g?1:2:i;for(let v=m,S=s,w=S?t[S-1].to:n;v>f;)v==w&&(v=t[--S].from,w=S?t[S-1].to:n),bt[--v]=y;f=m}else a=h,f++}}}function V0(n,e,t,i,s,a,o){let c=i%2?2:1;if(i%2==s%2)for(let f=e,h=0;f<t;){let m=!0,g=!1;if(h==a.length||f<a[h].from){let S=bt[f];S!=c&&(m=!1,g=S==16)}let x=!m&&c==1?[]:null,y=m?i:i+1,v=f;e:for(;;)if(h<a.length&&v==a[h].from){if(g)break e;let S=a[h];if(!m)for(let w=S.to,C=h+1;;){if(w==t)break e;if(C<a.length&&a[C].from==w)w=a[C++].to;else{if(bt[w]==c)break e;break}}if(h++,x)x.push(S);else{S.from>f&&o.push(new hr(f,S.from,y));let w=S.direction==Ha!=!(y%2);q0(n,w?i+1:i,s,S.inner,S.from,S.to,o),f=S.to}v=S.to}else{if(v==t||(m?bt[v]!=c:bt[v]==c))break;v++}x?V0(n,f,v,i+1,s,x,o):f<v&&o.push(new hr(f,v,y)),f=v}else for(let f=t,h=a.length;f>e;){let m=!0,g=!1;if(!h||f>a[h-1].to){let S=bt[f-1];S!=c&&(m=!1,g=S==16)}let x=!m&&c==1?[]:null,y=m?i:i+1,v=f;e:for(;;)if(h&&v==a[h-1].to){if(g)break e;let S=a[--h];if(!m)for(let w=S.from,C=h;;){if(w==e)break e;if(C&&a[C-1].to==w)w=a[--C].from;else{if(bt[w-1]==c)break e;break}}if(x)x.push(S);else{S.to<f&&o.push(new hr(S.to,f,y));let w=S.direction==Ha!=!(y%2);q0(n,w?i+1:i,s,S.inner,S.from,S.to,o),f=S.from}v=S.from}else{if(v==e||(m?bt[v-1]!=c:bt[v-1]==c))break;v--}x?V0(n,v,f,i+1,s,x,o):v<f&&o.push(new hr(v,f,y)),f=v}}function q0(n,e,t,i,s,a,o){let c=e%2?2:1;AD(n,s,a,i,c),CD(n,s,a,i,c),kD(s,a,i,c),V0(n,s,a,e,t,i,o)}function TD(n,e,t){if(!n)return[new hr(0,0,e==JO?1:0)];if(e==Ha&&!t.length&&!wD.test(n))return eC(n.length);if(t.length)for(;n.length>bt.length;)bt[bt.length]=256;let i=[],s=e==Ha?0:1;return q0(n,s,s,t,0,n.length,i),i}function eC(n){return[new hr(0,n,0)]}let tC="";function ED(n,e,t,i,s){var a;let o=i.head-n.from,c=hr.find(e,o,(a=i.bidiLevel)!==null&&a!==void 0?a:-1,i.assoc),f=e[c],h=f.side(s,t);if(o==h){let x=c+=s?1:-1;if(x<0||x>=e.length)return null;f=e[c=x],o=f.side(!s,t),h=f.side(s,t)}let m=an(n.text,o,f.forward(s,t));(m<f.from||m>f.to)&&(m=h),tC=n.text.slice(Math.min(o,m),Math.max(o,m));let g=c==(s?e.length-1:0)?null:e[c+(s?1:-1)];return g&&m==h&&g.level+(s?0:1)<f.level?fe.cursor(g.side(!s,t)+n.from,g.forward(s,t)?1:-1,g.level):fe.cursor(m+n.from,f.forward(s,t)?-1:1,f.level)}function RD(n,e,t){for(let i=e;i<t;i++){let s=KA(n.charCodeAt(i));if(s==1)return Ha;if(s==2||s==4)return JO}return Ha}const nC=ye.define(),iC=ye.define(),sC=ye.define(),rC=ye.define(),H0=ye.define(),aC=ye.define(),lC=ye.define(),e1=ye.define(),t1=ye.define(),oC=ye.define({combine:n=>n.some(e=>e)}),cC=ye.define({combine:n=>n.some(e=>e)}),uC=ye.define();class Hl{constructor(e,t="nearest",i="nearest",s=5,a=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=a,this.isSnapshot=o}map(e){return e.empty?this:new Hl(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Hl(fe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const eh=De.define({map:(n,e)=>n.map(e)}),fC=De.define();function Jn(n,e,t){let i=n.facet(rC);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const fr=ye.define({combine:n=>n.length?n[0]:!0});let QD=0;const zl=ye.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class Vt{constructor(e,t,i,s,a){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=s,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(zl.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(zl.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:s,provide:a,decorations:o}=t||{};return new Vt(QD++,e,i,s,c=>{let f=[];return o&&f.push(Fc.of(h=>{let m=h.plugin(c);return m?o(m):je.none})),a&&f.push(a(c)),f})}static fromClass(e,t){return Vt.define((i,s)=>new e(i,s),t)}}class Pg{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Jn(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Jn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Jn(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const hC=ye.define(),n1=ye.define(),Fc=ye.define(),dC=ye.define(),mC=ye.define(),yu=ye.define(),pC=ye.define();function W2(n,e){let t=n.state.facet(pC);if(!t.length)return t;let i=t.map(a=>a instanceof Function?a(n):a),s=[];return Fe.spans(i,e.from,e.to,{point(){},span(a,o,c,f){let h=a-e.from,m=o-e.from,g=s;for(let x=c.length-1;x>=0;x--,f--){let y=c[x].spec.bidiIsolate,v;if(y==null&&(y=RD(e.text,h,m)),f>0&&g.length&&(v=g[g.length-1]).to==h&&v.direction==y)v.to=m,g=v.inner;else{let S={from:h,to:m,direction:y,inner:[]};g.push(S),g=S.inner}}}}),s}const gC=ye.define();function i1(n){let e=0,t=0,i=0,s=0;for(let a of n.state.facet(gC)){let o=a(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:t,top:i,bottom:s}}const bc=ye.define();class Ui{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new Ui(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,a=0,o=0;;){let c=s<e.length?e[s].fromB:1e9,f=a<t.length?t[a]:1e9,h=Math.min(c,f);if(h==1e9)break;let m=h+o,g=h,x=m;for(;;)if(a<t.length&&t[a]<=g){let y=t[a+1];a+=2,g=Math.max(g,y);for(let v=s;v<e.length&&e[v].fromB<=g;v++)o=e[v].toA-e[v].toB;x=Math.max(x,y+o)}else if(s<e.length&&e[s].fromB<=g){let y=e[s++];g=Math.max(g,y.toB),x=Math.max(x,y.toA),o=y.toA-y.toB}else break;i.push(new Ui(m,x,h,g))}return i}}class td{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=sn.empty(this.startState.doc.length);for(let a of i)this.changes=this.changes.compose(a.changes);let s=[];this.changes.iterChangedRanges((a,o,c,f)=>s.push(new Ui(a,o,c,f))),this.changedRanges=s}static create(e,t,i){return new td(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const ND=[];class ln{constructor(e,t,i=0){this.dom=e,this.length=t,this.flags=i,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return ND}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&hD(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let i=t;for(let s of this.children){if(s==e)return i;i+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let i=aa(this.dom),s=this.length?e>0:t>0;return new cs(this.parent.dom,i+(s?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Id)return e;return null}static get(e){return e.cmTile}}class Xd extends ln{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,i=null,s,a=e?.node==t?e:null,o=0;for(let c of this.children){if(c.sync(e),o+=c.length+c.breakAfter,s=i?i.nextSibling:t.firstChild,a&&s!=c.dom&&(a.written=!0),c.dom.parentNode==t)for(;s&&s!=c.dom;)s=F2(s);else t.insertBefore(c.dom,s);i=c.dom}for(s=i?i.nextSibling:t.firstChild,a&&s&&(a.written=!0);s;)s=F2(s);this.length=o}}function F2(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Id extends Xd{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=ln.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],i=this,s=0,a=0;;)if(s==i.children.length){if(!t.length)return;i=i.parent,i.breakAfter&&a++,s=t.pop()}else{let o=i.children[s++];if(o instanceof ta)t.push(s),i=o,s=0;else{let c=a+o.length,f=e(o,a);if(f!==void 0)return f;a=c+o.breakAfter}}}resolveBlock(e,t){let i,s=-1,a,o=-1;if(this.blockTiles((c,f)=>{let h=f+c.length;if(e>=f&&e<=h){if(c.isWidget()&&t>=-1&&t<=1){if(c.flags&32)return!0;c.flags&16&&(i=void 0)}(f<e||e==h&&(t<-1?c.length:c.covers(1)))&&(!i||!c.isWidget()&&i.isWidget())&&(i=c,s=e-f),(h>e||e==f&&(t>1?c.length:c.covers(-1)))&&(!a||!c.isWidget()&&a.isWidget())&&(a=c,o=e-f)}}),!i&&!a)throw new Error("No tile at position "+e);return i&&t<0||!a?{tile:i,offset:s}:{tile:a,offset:o}}}class ta extends Xd{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let i=new ta(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class to extends Xd{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,i){let s=new to(t||document.createElement("div"),e);return(!t||!i)&&(s.flags|=4),s}get domAttrs(){return this.attrs}resolveInline(e,t,i){let s=null,a=-1,o=null,c=-1;function f(m,g){for(let x=0,y=0;x<m.children.length&&y<=g;x++){let v=m.children[x],S=y+v.length;S>=g&&(v.isComposite()?f(v,g-y):(!o||o.isHidden&&(t>0||i&&MD(o,v)))&&(S>g||v.flags&32)?(o=v,c=g-y):(y<g||v.flags&16&&!v.isHidden)&&(s=v,a=g-y)),y=S}}f(this,e);let h=(t<0?s:o)||s||o;return h?{tile:h,offset:h==s?a:c}:null}coordsIn(e,t){let i=this.resolveInline(e,t,!0);return i?i.tile.coordsIn(Math.max(0,i.offset),t):jD(this)}domIn(e,t){let i=this.resolveInline(e,t);if(i){let{tile:s,offset:a}=i;if(this.dom.contains(s.dom))return s.isText()?new cs(s.dom,Math.min(s.dom.nodeValue.length,a)):s.domPosFor(a,t);let o=i.tile.parent,c=!1;for(let f of o.children){if(c)return new cs(f.dom,0);f==i.tile&&(c=!0)}}return new cs(this.dom,0)}}function jD(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Rc(e);return t[t.length-1]||null}function MD(n,e){let t=n.coordsIn(0,1),i=e.coordsIn(0,1);return t&&i&&i.top<t.bottom}class Kn extends Xd{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let i=new Kn(t||document.createElement(e.tagName),e);return t||(i.flags|=4),i}}class $a extends ln{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let i=this.dom.nodeValue.length;e>i&&(e=i);let s=e,a=e,o=0;e==0&&t<0||e==i&&t>=0?ve.chrome||ve.gecko||(e?(s--,o=1):a<i&&(a++,o=-1)):t<0?s--:a<i&&a++;let c=Wc(this.dom,s,a).getClientRects();if(!c.length)return null;let f=c[(o?o<0:t>=0)?0:c.length-1];return ve.safari&&!o&&f.width==0&&(f=Array.prototype.find.call(c,h=>h.width)||f),o?Gc(f,o<0):f||null}static of(e,t){let i=new $a(t||document.createTextNode(e),e);return t||(i.flags|=2),i}}class no extends ln{constructor(e,t,i,s){super(e,t,s),this.widget=i}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,i){let s=this.widget.coordsAt(this.dom,e,t);if(s)return s;if(i)return Gc(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let a=this.dom.getClientRects(),o=null;if(!a.length)return null;let c=this.flags&16?!0:this.flags&32?!1:e>0;for(let f=c?a.length-1:0;o=a[f],!(e>0?f==0:f==a.length-1||o.top<o.bottom);f+=c?-1:1);return Gc(o,!c)}}get overrideDOMText(){if(!this.length)return nt.empty;let{root:e}=this;if(!e)return nt.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,i,s,a){return a||(a=e.toDOM(t),e.editable||(a.contentEditable="false")),new no(a,i,e,s)}}class nd extends ln{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!1}get overrideDOMText(){return nt.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class PD{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,i){let{tile:s,index:a,beforeBreak:o,parents:c}=this;for(;e||t>0;)if(s.isComposite())if(o){if(!e)break;i&&i.break(),e--,o=!1}else if(a==s.children.length){if(!e&&!c.length)break;i&&i.leave(s),o=!!s.breakAfter,{tile:s,index:a}=c.pop(),a++}else{let f=s.children[a],h=f.breakAfter;(t>0?f.length<=e:f.length<e)&&(!i||i.skip(f,0,f.length)!==!1||!f.isComposite)?(o=!!h,a++,e-=f.length):(c.push({tile:s,index:a}),s=f,a=0,i&&f.isComposite()&&i.enter(f))}else if(a==s.length)o=!!s.breakAfter,{tile:s,index:a}=c.pop(),a++;else if(e){let f=Math.min(e,s.length-a);i&&i.skip(s,a,a+f),e-=f,a+=f}else break;return this.tile=s,this.index=a,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class _D{constructor(e,t,i,s){this.from=e,this.to=t,this.wrapper=i,this.rank=s}}class DD{constructor(e,t,i){this.cache=e,this.root=t,this.blockWrappers=i,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,i,s){var a;this.flushBuffer();let o=this.ensureMarks(t,i),c=o.lastChild;if(c&&c.isText()&&!(c.flags&8)){this.cache.reused.set(c,2);let f=o.children[o.children.length-1]=new $a(c.dom,c.text+e);f.parent=o}else o.append(s||$a.of(e,(a=this.cache.find($a))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let i=this.curLine;i.dom!=t.line.dom&&(i.setDOM(this.cache.reused.has(t.line)?_g(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let s=i;for(let o=t.marks.length-1;o>=0;o--){let c=t.marks[o],f=s.lastChild;if(f instanceof Kn&&f.mark.eq(c.mark))f.dom!=c.dom&&f.setDOM(_g(c.dom)),s=f;else{if(this.cache.reused.get(c)){let m=ln.get(c.dom);m&&m.setDOM(_g(c.dom))}let h=Kn.of(c.mark,c.dom);s.append(h),s=h}this.cache.reused.set(c,2)}let a=new $a(e.text,e.text.nodeValue);a.flags|=8,s.append(a)}addInlineWidget(e,t,i){let s=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);s||this.flushBuffer();let a=this.ensureMarks(t,i);!s&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,i){this.flushBuffer(),this.ensureMarks(t,i).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var i;e||(e=OC);let s=to.start(e,t||((i=this.cache.find(to))===null||i===void 0?void 0:i.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=s)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var i;let s=this.curLine;for(let a=e.length-1;a>=0;a--){let o=e[a],c;if(t>0&&(c=s.lastChild)&&c instanceof Kn&&c.mark.eq(o))s=c,t--;else{let f=Kn.of(o,(i=this.cache.find(Kn,h=>h.mark.eq(o)))===null||i===void 0?void 0:i.dom);s.append(f),s=f,t=0}}return s}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!K2(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ve.ios&&K2(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Dg,0,32)||new no(Dg.toDOM(),0,Dg,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new _D(e.from,e.to,e.value,e.rank),i=this.wrappers.length;for(;i>0&&(this.wrappers[i-1].rank-t.rank||this.wrappers[i-1].to-t.to)<0;)i--;this.wrappers.splice(i,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let i of this.wrappers){let s=t.lastChild;if(i.from<this.pos&&s instanceof ta&&s.wrapper.eq(i.wrapper))t=s;else{let a=ta.of(i.wrapper,(e=this.cache.find(ta,o=>o.wrapper.eq(i.wrapper)))===null||e===void 0?void 0:e.dom);t.append(a),t=a}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),i=this.cache.find(nd,void 0,1);return i&&(i.flags=t),i||new nd(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class $D{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=s;let c=this.textOff=Math.min(e,s.length);return a?null:s.slice(0,c)}let t=Math.min(this.text.length,this.textOff+e),i=this.text.slice(this.textOff,t);return this.textOff=t,i}}const id=[no,to,$a,Kn,nd,ta,Id];for(let n=0;n<id.length;n++)id[n].bucket=n;class LD{constructor(e){this.view=e,this.buckets=id.map(()=>[]),this.index=id.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,i=this.buckets[t];i.length<6?i.push(e):i[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,i=2){let s=e.bucket,a=this.buckets[s],o=this.index[s];for(let c=a.length-1;c>=0;c--){let f=(c+o)%a.length,h=a[f];if((!t||t(h))&&!this.reused.has(h))return a.splice(f,1),f<o&&this.index[s]--,this.reused.set(h,i),h}return null}findWidget(e,t,i){let s=this.buckets[0];if(s.length)for(let a=0,o=0;;a++){if(a==s.length){if(o)return null;o=1,a=0}let c=s[a];if(!this.reused.has(c)&&(o==0?c.widget.compare(e):c.widget.constructor==e.constructor&&e.updateDOM(c.dom,this.view)))return s.splice(a,1),a<this.index[0]&&this.index[0]--,this.reused.set(c,1),c.length=t,c.flags=c.flags&-498|i,c}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}}class zD{constructor(e,t,i,s,a){this.view=e,this.decorations=s,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new LD(e),this.text=new $D(e.state.doc),this.builder=new DD(this.cache,new Id(e,e.contentDOM),Fe.iter(i)),this.cache.reused.set(t,2),this.old=new PD(t)}run(e,t){let i=t&&this.getCompositionContext(t.text);for(let s=0,a=0,o=0;;){let c=o<e.length?e[o++]:null,f=c?c.fromA:this.old.root.length;if(f>s){let h=f-s;this.preserve(h,!o,!c),s=f,a+=h}if(!c)break;this.forward(c.fromA,c.toA),t&&c.fromA<=t.range.fromA&&c.toA>=t.range.toA?(this.emit(a,t.range.fromB),this.builder.addComposition(t,i),this.emit(t.range.toB,c.toB)):this.emit(a,c.toB),a=c.toB,s=c.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,i){let s=UD(this.old),a=this.openMarks;this.old.advance(e,i?1:-1,{skip:(o,c,f)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(f-c);else{let h=f>0||c<o.length?no.of(o.widget,this.view,f-c,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);h.flags&256?(h.flags&=-2,this.builder.addBlockWidget(h)):(this.builder.addInlineWidget(h,s,a),a=s.length)}else if(o.isText())!c&&f==o.length?this.builder.addText(o.text,s,a,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(c,f),s,a)),a=s.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof nd)this.cache.add(o);else if(o instanceof Kn)this.builder.addMark(o,s,a),this.cache.reused.set(o,1);else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof Kn&&(s.unshift(o.mark),a++)),this.openWidget=!1},leave:o=>{o.isLine()?s.length&&(s.length=a=0):o instanceof Kn&&(s.shift(),a=Math.min(a,s.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let i=null,s=this.builder,a=0,o=Fe.spans(this.decorations,e,t,{point:(c,f,h,m,g,x)=>{if(h instanceof qa){if(this.disallowBlockEffectsFor[x]){if(h.block)throw new RangeError("Block decorations may not be specified via plugins");if(f>this.view.state.doc.lineAt(c).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=m.length,g>m.length)s.continueWidget(f-c);else{let y=h.widget||(h.block?io.block:io.inline),v=BD(h),S=this.cache.findWidget(y,f-c,v)||no.of(y,this.view,f-c,v);h.block?(h.startSide>0&&s.addLineStartIfNotCovered(i),s.addBlockWidget(S)):(s.ensureLine(i),s.addInlineWidget(S,m,g))}i=null}else i=ZD(i,h);f>c&&this.text.skip(f-c)},span:(c,f,h,m)=>{for(let g=c;g<f;){let x=this.text.next(Math.min(512,f-g));x==null?(s.addLineStartIfNotCovered(i),s.addBreak(),g++):(s.ensureLine(i),s.addText(x,h,m),g+=x.length),i=null}}});s.addLineStartIfNotCovered(i),this.openWidget=o>a,this.openMarks=o}forward(e,t){this.old.advance(t-e,1,{skip:(i,s,a)=>{(i.isText()||a==i.length)&&this.cache.add(i)},enter:i=>this.cache.add(i),leave:()=>{},break:()=>{}})}getCompositionContext(e){let t=[],i=null;for(let s=e.parentNode;;s=s.parentNode){let a=ln.get(s);if(s==this.view.contentDOM)break;a instanceof Kn?t.push(a):a?.isLine()?i=a:s.nodeName=="DIV"&&!i&&s!=this.view.contentDOM?i=new to(s,OC):t.push(Kn.of(new xu({tagName:s.nodeName.toLowerCase(),attributes:dD(s)}),s))}return{line:i,marks:t}}}function K2(n,e){let t=i=>{for(let s of i.children)if((e?s.isText():s.length)||t(s))return!0;return!1};return t(n)}function BD(n){let e=n.isReplace?(n.startSide<0?64:0)|(n.endSide>0?128:0):n.startSide>0?32:16;return n.block&&(e|=256),e}const OC={class:"cm-line"};function ZD(n,e){let t=e.spec.attributes,i=e.spec.class;return!t&&!i||(n||(n={class:"cm-line"}),t&&FO(t,n),i&&(n.class+=" "+i)),n}function UD(n){let e=[];for(let t=n.parents.length;t>1;t--){let i=t==n.parents.length?n.tile:n.parents[t].tile;i instanceof Kn&&e.push(i.mark)}return e}function _g(n){let e=ln.get(n);return e&&e.setDOM(n.cloneNode()),n}class io extends gs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}io.inline=new io("span");io.block=new io("div");const Dg=new class extends gs{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class J2{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=je.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Id(e,e.contentDOM),this.updateInner([new Ui(0,0,0,e.state.doc.length)],null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:m,toA:g})=>g<this.minWidthFrom||m>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!FD(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let a=s>-1?ID(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){let{from:m,to:g}=this.hasComposition;i=new Ui(m,g,e.changes.mapPos(m,-1),e.changes.mapPos(g,1)).addToSet(i.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ve.ie||ve.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,c=this.blockWrappers;this.updateDeco();let f=qD(o,this.decorations,e.changes);f.length&&(i=Ui.extendWithRanges(i,f));let h=GD(c,this.blockWrappers,e.changes);return h.length&&(i=Ui.extendWithRanges(i,h)),a&&!i.some(m=>m.fromA<=a.range.fromA&&m.toA>=a.range.toA)&&(i=a.range.addToSet(i.slice())),this.tile.flags&2&&i.length==0?!1:(this.updateInner(i,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:i}=this.view;i.ignore(()=>{if(t||e.length){let o=this.tile,c=new zD(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=c.run(e,t),G0(o,c.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ve.chrome||ve.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||i.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof $g&&s.push(a.dom);i.updateGaps(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(fC)&&(this.editContextFormatting=i.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:i}=this.tile,s=this.view.root.activeElement,a=s==i,o=!a&&!(this.view.state.facet(fr)||i.tabIndex>-1)&&Rh(i,this.view.observer.selectionRange)&&!(s&&i.contains(s));if(!(a||t||o))return;let c=this.forceSelection;this.forceSelection=!1;let f=this.view.state.selection.main,h,m;if(f.empty?m=h=this.inlineDOMNearPos(f.anchor,f.assoc||1):(m=this.inlineDOMNearPos(f.head,f.head==f.from?1:-1),h=this.inlineDOMNearPos(f.anchor,f.anchor==f.from?1:-1)),ve.gecko&&f.empty&&!this.hasComposition&&XD(h)){let x=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(x,h.node.childNodes[h.offset]||null)),h=m=new cs(x,0),c=!0}let g=this.view.observer.selectionRange;(c||!g.focusNode||(!Qc(h.node,h.offset,g.anchorNode,g.anchorOffset)||!Qc(m.node,m.offset,g.focusNode,g.focusOffset))&&!this.suppressWidgetCursorChange(g,f))&&(this.view.observer.ignore(()=>{ve.android&&ve.chrome&&i.contains(g.focusNode)&&WD(g.focusNode,i)&&(i.blur(),i.focus({preventScroll:!0}));let x=Hc(this.view.root);if(x)if(f.empty){if(ve.gecko){let y=YD(h.node,h.offset);if(y&&y!=3){let v=(y==1?GA:WA)(h.node,h.offset);v&&(h=new cs(v.node,v.offset))}}x.collapse(h.node,h.offset),f.bidiLevel!=null&&x.caretBidiLevel!==void 0&&(x.caretBidiLevel=f.bidiLevel)}else if(x.extend){x.collapse(h.node,h.offset);try{x.extend(m.node,m.offset)}catch{}}else{let y=document.createRange();f.anchor>f.head&&([h,m]=[m,h]),y.setEnd(m.node,m.offset),y.setStart(h.node,h.offset),x.removeAllRanges(),x.addRange(y)}o&&this.view.root.activeElement==i&&(i.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(h,m)),this.impreciseAnchor=h.precise?null:new cs(g.anchorNode,g.anchorOffset),this.impreciseHead=m.precise?null:new cs(g.focusNode,g.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Qc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Hc(e.root),{anchorNode:s,anchorOffset:a}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=this.lineAt(t.head);if(!o)return;let c=o.posAtStart;if(t.head==c||t.head==c+o.length)return;let f=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!f||!h||f.bottom>h.top)return;let m=this.domAtPos(t.head+t.assoc,t.assoc);i.collapse(m.node,m.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let g=e.observer.selectionRange;e.docView.posFromDOM(g.anchorNode,g.anchorOffset)!=t.from&&i.collapse(s,a)}posFromDOM(e,t){let i=this.tile.nearest(e);if(!i)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let s=i.posAtStart;if(i.isComposite()){let a;if(e==i.dom)a=i.dom.childNodes[t];else{let o=mr(e)==0?0:t==0?-1:1;for(;;){let c=e.parentNode;if(c==i.dom)break;o==0&&c.firstChild!=c.lastChild&&(e==c.firstChild?o=-1:o=1),e=c}o<0?a=e:a=e.nextSibling}if(a==i.dom.firstChild)return s;for(;a&&!ln.get(a);)a=a.nextSibling;if(!a)return s+i.length;for(let o=0,c=s;;o++){let f=i.children[o];if(f.dom==a)return c;c+=f.length+f.breakAfter}}else return i.isText()?e==i.dom?s+t:s+(t?i.length:0):s}domAtPos(e,t){let{tile:i,offset:s}=this.tile.resolveBlock(e,t);return i.isWidget()?i.domPosFor(e,t):i.domIn(s,t)}inlineDOMNearPos(e,t){let i,s=-1,a=!1,o,c=-1,f=!1;return this.tile.blockTiles((h,m)=>{if(h.isWidget()){if(h.flags&32&&i)return!0;h.flags&16&&(a=!0)}else{let g=m+h.length;if(m<=e&&(i=h,s=e-m,a=g<e),g>=e&&!o&&(o=h,c=e-m,f=m>e),m>e&&o)return!0}}),!i&&!o?this.domAtPos(e,t):(a&&o?i=null:f&&i&&(o=null),i&&t<0||!o?i.domIn(s,t):o.domIn(c,t))}coordsAt(e,t){let{tile:i,offset:s}=this.tile.resolveBlock(e,t);return i.isWidget()?i.widget instanceof $g?null:i.coordsInWidget(s,t,!0):i.coordsIn(s,t)}lineAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return t.isLine()?t:null}coordsForChar(e){let{tile:t,offset:i}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function s(a,o){if(a.isComposite())for(let c of a.children){if(c.length>=o){let f=s(c,o);if(f)return f}if(o-=c.length,o<0)break}else if(a.isText()&&o<a.length){let c=an(a.text,o);if(c==o)return null;let f=Wc(a.dom,o,c).getClientRects();for(let h=0;h<f.length;h++){let m=f[h];if(h==f.length-1||m.top<m.bottom&&m.left<m.right)return m}}return null}return s(t,i)}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,a=this.view.contentDOM.clientWidth,o=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==yt.LTR,h=0,m=(g,x,y)=>{for(let v=0;v<g.children.length&&!(x>s);v++){let S=g.children[v],w=x+S.length,C=S.dom.getBoundingClientRect(),{height:R}=C;if(y&&!v&&(h+=C.top-y.top),S instanceof ta)w>i&&m(S,x,C);else if(x>=i&&(h>0&&t.push(-h),t.push(R+h),h=0,o)){let E=S.dom.lastChild,j=E?Rc(E):[];if(j.length){let Q=j[j.length-1],M=f?Q.right-C.left:C.right-Q.left;M>c&&(c=M,this.minWidth=a,this.minWidthFrom=x,this.minWidthTo=w)}}y&&v==g.children.length-1&&(h+=y.bottom-C.bottom),x=w+S.breakAfter}};return m(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?yt.RTL:yt.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let c=0,f;for(let h of o.children){if(!h.isText()||/[^ -~]/.test(h.text))return;let m=Rc(h.dom);if(m.length!=1)return;c+=m[0].width,f=m[0].height}if(c)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:c/o.length,textHeight:f}}});if(e)return e;let t=document.createElement("div"),i,s,a;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let o=Rc(t.firstChild)[0];i=t.getBoundingClientRect().height,s=o&&o.width?o.width/27:7,a=o&&o.height?o.height:i,t.remove()}),{lineHeight:i,charWidth:s,textHeight:a}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let a=s==t.viewports.length?null:t.viewports[s],o=a?a.from-1:this.view.state.doc.length;if(o>i){let c=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(je.replace({widget:new $g(c),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!a)break;i=a.to+1}return je.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Fc).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),i=!1,s=this.view.state.facet(mC).map((a,o)=>{let c=typeof a=="function";return c&&(i=!0),c?a(this.view):a});for(s.length&&(this.dynamicDecorationMap[e++]=i,t.push(Fe.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(dC).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(uC))try{if(h(this.view,e.range,e))return!0}catch(m){Jn(this.view.state,m,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let a=i1(this.view),o={left:i.left-a.left,top:i.top-a.top,right:i.right+a.right,bottom:i.bottom+a.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;gD(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,f),-f),this.view.textDirection==yt.LTR)}lineHasWidget(e){let t=i=>i.isWidget()||i.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){G0(this.tile)}}function G0(n,e){let t=e?.get(n);if(t!=1){t==null&&n.destroy();for(let i of n.children)G0(i,e)}}function XD(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function xC(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=GA(t.focusNode,t.focusOffset),s=WA(t.focusNode,t.focusOffset),a=i||s;if(s&&i&&s.node!=i.node){let c=ln.get(s.node);if(!c||c.isText()&&c.text!=s.node.nodeValue)a=s;else if(n.docView.lastCompositionAfterCursor){let f=ln.get(i.node);!f||f.isText()&&f.text!=i.node.nodeValue||(a=s)}}if(n.docView.lastCompositionAfterCursor=a!=i,!a)return null;let o=e-a.offset;return{from:o,to:o+a.node.nodeValue.length,node:a.node}}function ID(n,e,t){let i=xC(n,t);if(!i)return null;let{node:s,from:a,to:o}=i,c=s.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(i.from,i.to)!=c)return null;let f=e.invertedDesc;return{range:new Ui(f.mapPos(a),f.mapPos(o),a,o),text:s}}function YD(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let VD=class{constructor(){this.changes=[]}compareRange(e,t){Vl(e,t,this.changes)}comparePoint(e,t){Vl(e,t,this.changes)}boundChange(e){Vl(e,e,this.changes)}};function qD(n,e,t){let i=new VD;return Fe.compare(n,e,t,i),i.changes}class HD{constructor(){this.changes=[]}compareRange(e,t){Vl(e,t,this.changes)}comparePoint(){}boundChange(e){Vl(e,e,this.changes)}}function GD(n,e,t){let i=new HD;return Fe.compare(n,e,t,i),i.changes}function WD(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function FD(n,e){let t=!1;return e&&n.iterChangedRanges((i,s)=>{i<e.to&&s>e.from&&(t=!0)}),t}class $g extends gs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function KD(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),a=e-s.from;if(s.length==0)return fe.cursor(e);a==0?t=1:a==s.length&&(t=-1);let o=a,c=a;t<0?o=an(s.text,a,!1):c=an(s.text,a);let f=i(s.text.slice(o,c));for(;o>0;){let h=an(s.text,o,!1);if(i(s.text.slice(h,o))!=f)break;o=h}for(;c<s.length;){let h=an(s.text,c);if(i(s.text.slice(c,h))!=f)break;c=h}return fe.range(o+s.from,c+s.from)}function JD(n,e,t,i,s){let a=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,f=Math.floor((s-t.top-(n.defaultLineHeight-c)*.5)/c);a+=f*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+$0(o,a,n.state.tabSize)}function W0(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let s;for(let a of i.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!s||a.type==Sn.Text&&(s.type!=a.type||(t<0?a.from<e:a.to>e)))&&(s=a)}}return s||i}return i}function e$(n,e,t,i){let s=W0(n,e.head,e.assoc||-1),a=!i||s.type!=Sn.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(a){let o=n.dom.getBoundingClientRect(),c=n.textDirectionAt(s.from),f=n.posAtCoords({x:t==(c==yt.LTR)?o.right-1:o.left+1,y:(a.top+a.bottom)/2});if(f!=null)return fe.cursor(f,t?-1:1)}return fe.cursor(t?s.to:s.from,t?-1:1)}function eS(n,e,t,i){let s=n.state.doc.lineAt(e.head),a=n.bidiSpans(s),o=n.textDirectionAt(s.from);for(let c=e,f=null;;){let h=ED(s,a,o,c,t),m=tC;if(!h){if(s.number==(t?n.state.doc.lines:1))return c;m=`
`,s=n.state.doc.line(s.number+(t?1:-1)),a=n.bidiSpans(s),h=n.visualLineSide(s,!t)}if(f){if(!f(m))return c}else{if(!i)return h;f=i(m)}c=h}}function t$(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return a=>{let o=i(a);return s==Rt.Space&&(s=o),s==o}}function n$(n,e,t,i){let s=e.head,a=t?1:-1;if(s==(t?n.state.doc.length:0))return fe.cursor(s,e.assoc);let o=e.goalColumn,c,f=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(s,e.assoc||-1),m=n.documentTop;if(h)o==null&&(o=h.left-f.left),c=a<0?h.top:h.bottom;else{let y=n.viewState.lineBlockAt(s);o==null&&(o=Math.min(f.right-f.left,n.defaultCharacterWidth*(s-y.from))),c=(a<0?y.top:y.bottom)+m}let g=f.left+o,x=i??n.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let v=c+(x+y)*a,S=F0(n,{x:g,y:v},!1,a);return fe.cursor(S.pos,S.assoc,void 0,o)}}function Nc(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(a,o,c)=>{if(e>a&&e<o){let f=i||t||(e-a<o-e?-1:1);e=f<0?a:o,i=f}});if(!i)return e}}function bC(n,e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],a=null;if(s.empty){let o=Nc(n,s.from,0);o!=s.from&&(a=fe.cursor(o,-1))}else{let o=Nc(n,s.from,-1),c=Nc(n,s.to,1);(o!=s.from||c!=s.to)&&(a=fe.range(s.from==s.anchor?o:c,s.from==s.head?o:c))}a&&(t||(t=e.ranges.slice()),t[i]=a)}return t?fe.create(t,e.mainIndex):e}function Lg(n,e,t){let i=Nc(n.state.facet(yu).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:fe.cursor(i,i<t.from?1:-1)}class Ps{constructor(e,t){this.pos=e,this.assoc=t}}function F0(n,e,t,i){let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,{x:o,y:c}=e,f=c-a,h;for(;;){if(f<0)return new Ps(0,1);if(f>n.viewState.docHeight)return new Ps(n.state.doc.length,-1);if(h=n.elementAtHeight(f),i==null)break;if(h.type==Sn.Text){let g=n.docView.coordsAt(i<0?h.from:h.to,i);if(g&&(i<0?g.top<=f+a:g.bottom>=f+a))break}let m=n.viewState.heightOracle.textHeight/2;f=i>0?h.bottom+m:h.top-m}if(n.viewport.from>=h.to||n.viewport.to<=h.from){if(t)return null;if(h.type==Sn.Text){let m=JD(n,s,h,o,c);return new Ps(m,m==h.from?1:-1)}}return h.type!=Sn.Text?f<(h.top+h.bottom)/2?new Ps(h.from,1):new Ps(h.to,-1):yC(n,n.docView.lineAt(h.from),h.from,o,c)}function yC(n,e,t,i,s){let a=-1,o=null,c=1e9,f=1e9,h=s,m=s,g=(x,y)=>{for(let v=0;v<x.length;v++){let S=x[v];if(S.top==S.bottom)continue;let w=S.left>i?S.left-i:S.right<i?i-S.right:0,C=S.top>s?S.top-s:S.bottom<s?s-S.bottom:0;S.top<=m&&S.bottom>=h&&(h=Math.min(S.top,h),m=Math.max(S.bottom,m),C=0),(a<0||(C-f||w-c)<0)&&(a>=0&&f&&c<w&&o.top<=m-2&&o.bottom>=h+2?f=0:(a=y,c=w,f=C,o=S))}};if(e.isText()){for(let y=0;y<e.length;){let v=an(e.text,y);if(g(Wc(e.dom,y,v).getClientRects(),y),!c&&!f)break;y=v}return i>(o.left+o.right)/2==(tS(n,a+t)==yt.LTR)?new Ps(t+an(e.text,a),-1):new Ps(t+a,1)}else{if(!e.length)return new Ps(t,1);for(let S=0;S<e.children.length;S++){let w=e.children[S];if(w.flags&48)continue;let C=(w.dom.nodeType==1?w.dom:Wc(w.dom,0,w.length)).getClientRects();if(g(C,S),!c&&!f)break}let x=e.children[a],y=e.posBefore(x,t);return x.isComposite()||x.isText()?yC(n,x,y,Math.max(o.left,Math.min(o.right,i)),s):i>(o.left+o.right)/2==(tS(n,a+t)==yt.LTR)?new Ps(y+x.length,-1):new Ps(y,1)}}function tS(n,e){let t=n.state.doc.lineAt(e);return n.bidiSpans(t)[hr.find(n.bidiSpans(t),e-t.from,-1,1)].dir}const yc="";class i${constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(et.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=yc}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let a=this.text.length;this.readNode(s);let o=ln.get(s),c=s.nextSibling;if(c==t){o?.breakAfter&&!c&&this.lineBreak();break}let f=ln.get(c);(o&&f?o.breakAfter:(o?o.breakAfter:ed(s))||ed(c)&&(s.nodeName!="BR"||o?.isWidget())&&this.text.length>a)&&!r$(c,t)&&this.lineBreak(),s=c}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,o=1,c;if(this.lineSeparator?(a=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(c=s.exec(t))&&(a=c.index,o=c[0].length),this.append(t.slice(i,a<0?t.length:a)),a<0)break;if(this.lineBreak(),o>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=o-1);i=a+o}}readNode(e){let t=ln.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(s$(e,i.node,i.offset)?t:0))}}function s$(n,e,t){for(;;){if(!e||t<mr(e))return!1;if(e==n)return!0;t=aa(e)+1,e=e.parentNode}}function r$(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let i=ln.get(n);if(!i?.isWidget())return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let s=i.overrideDOMText;if(s?.length)return!1}return!0}class nS{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class a${constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:a,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=vC(e.docView.tile,t,i,0))){let c=a||o?[]:o$(e),f=new i$(c,e.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=c$(c,this.bounds.from)}else{let c=e.observer.selectionRange,f=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!I0(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=o&&o.node==c.anchorNode&&o.offset==c.anchorOffset||!I0(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),m=e.viewport;if((ve.ios||ve.chrome)&&e.state.selection.main.empty&&f!=h&&(m.from>0||m.to<e.state.doc.length)){let g=Math.min(f,h),x=Math.max(f,h),y=m.from-g,v=m.to-x;(y==0||y==1||g==0)&&(v==0||v==-1||x==e.state.doc.length)&&(f=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(fe.range(h,f)):this.newSel=fe.single(h,f)}}}function vC(n,e,t,i){if(n.isComposite()){let s=-1,a=-1,o=-1,c=-1;for(let f=0,h=i,m=i;f<n.children.length;f++){let g=n.children[f],x=h+g.length;if(h<e&&x>t)return vC(g,e,t,h);if(x>=e&&s==-1&&(s=f,a=h),h>t&&g.dom.parentNode==n.dom){o=f,c=m;break}m=x,h=x+g.breakAfter}return{from:a,to:c<0?i+n.length:c,startDOM:(s?n.children[s-1].dom.nextSibling:null)||n.dom.firstChild,endDOM:o<n.children.length&&o>=0?n.children[o].dom:null}}else return n.isText()?{from:i,to:i+n.length,startDOM:n.dom,endDOM:n.dom.nextSibling}:null}function SC(n,e){let t,{newSel:i}=e,s=n.state.selection.main,a=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:c}=e.bounds,f=s.from,h=null;(a===8||ve.android&&e.text.length<c-o)&&(f=s.to,h="end");let m=wC(n.state.doc.sliceString(o,c,yc),e.text,f-o,h);m&&(ve.chrome&&a==13&&m.toB==m.from+2&&e.text.slice(m.from,m.toB)==yc+yc&&m.toB--,t={from:o+m.from,to:o+m.toA,insert:nt.of(e.text.slice(m.from,m.toB).split(yc))})}else i&&(!n.hasFocus&&n.state.facet(fr)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(ve.mac||ve.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=fe.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:nt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:n.state.doc.lineAt(s.from).to<s.to&&n.docView.lineHasWidget(s.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:s.from,to:s.to,insert:n.state.toText(n.inputState.insertingText)}:ve.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=fe.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:nt.of([" "])}),t)return s1(n,t,i,a);if(i&&!i.main.eq(s)){let o=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),c=n.inputState.lastSelectionOrigin,c=="select.pointer"&&(i=bC(n.state.facet(yu).map(f=>f(n)),i))),n.dispatch({selection:i,scrollIntoView:o,userEvent:c}),!0}else return!1}function s1(n,e,t,i=-1){if(ve.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(ve.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ql(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&ql(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&ql(n.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,c=()=>o||(o=l$(n,e,t));return n.state.facet(aC).some(f=>f(n,e.from,e.to,a,c))||n.dispatch(c()),!0}function l$(n,e,t){let i,s=n.state,a=s.selection.main,o=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let f=e.from<a.from?-1:1,h=f<0?a.from:a.to,m=Nc(s.facet(yu).map(g=>g(n)),h,f);e.from==m&&(o=m)}if(o>-1)i={changes:e,selection:fe.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let f=a.from<e.from?s.sliceDoc(a.from,e.from):"",h=a.to>e.to?s.sliceDoc(e.to,a.to):"";i=s.replaceSelection(n.state.toText(f+e.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let f=s.changes(e),h=t&&t.main.to<=f.newLength?t.main:void 0;if(s.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let m=n.state.sliceDoc(e.from,e.to),g,x=t&&xC(n,t.main.head);if(x){let v=e.insert.length-(e.to-e.from);g={from:x.from,to:x.to-v}}else g=n.state.doc.lineAt(a.head);let y=a.to-e.to;i=s.changeByRange(v=>{if(v.from==a.from&&v.to==a.to)return{changes:f,range:h||v.map(f)};let S=v.to-y,w=S-m.length;if(n.state.sliceDoc(w,S)!=m||S>=g.from&&w<=g.to)return{range:v};let C=s.changes({from:w,to:S,insert:e.insert}),R=v.to-a.to;return{changes:C,range:h?fe.range(Math.max(0,h.anchor+R),Math.max(0,h.head+R)):v.map(C)}})}else i={changes:f,selection:h&&s.selection.replaceRange(h)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:c,scrollIntoView:!0})}function wC(n,e,t,i){let s=Math.min(n.length,e.length),a=0;for(;a<s&&n.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==s&&n.length==e.length)return null;let o=n.length,c=e.length;for(;o>0&&c>0&&n.charCodeAt(o-1)==e.charCodeAt(c-1);)o--,c--;if(i=="end"){let f=Math.max(0,a-Math.min(o,c));t-=o+f-a}if(o<a&&n.length<e.length){let f=t<=a&&t>=o?a-t:0;a-=f,c=a+(c-o),o=a}else if(c<a){let f=t<=a&&t>=c?a-t:0;a-=f,o=a+(o-c),c=a}return{from:a,toA:o,toB:c}}function o$(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:a}=n.observer.selectionRange;return t&&(e.push(new nS(t,i)),(s!=t||a!=i)&&e.push(new nS(s,a))),e}function c$(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?fe.single(t+e,i+e):null}class u${setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ve.safari&&e.contentDOM.addEventListener("input",()=>null),ve.gecko&&k$(e.contentDOM.ownerDocument)}handleEvent(e){!x$(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let s of i.observers)s(this.view,t);for(let s of i.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=f$(e),i=this.handlers,s=this.view.contentDOM;for(let a in t)if(a!="scroll"){let o=!t[a].handlers.length,c=i[a];c&&o!=!c.handlers.length&&(s.removeEventListener(a,this.handleEvent),c=null),c||s.addEventListener(a,this.handleEvent,{passive:o})}for(let a in i)a!="scroll"&&!t[a]&&s.removeEventListener(a,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&CC.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ve.android&&ve.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ve.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=AC.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||h$.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ql(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ve.safari&&!ve.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function iS(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(s){Jn(t.state,s)}}}function f$(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let s=i.spec,a=s&&s.plugin.domEventHandlers,o=s&&s.plugin.domEventObservers;if(a)for(let c in a){let f=a[c];f&&t(c).handlers.push(iS(i.value,f))}if(o)for(let c in o){let f=o[c];f&&t(c).observers.push(iS(i.value,f))}}for(let i in hs)t(i).handlers.push(hs[i]);for(let i in Yi)t(i).observers.push(Yi[i]);return e}const AC=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],h$="dthko",CC=[16,17,18,20,91,92,224,225],th=6;function nh(n){return Math.max(0,n)*.7+8}function d$(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class m${constructor(e,t,i,s){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=OD(e.contentDOM),this.atoms=e.state.facet(yu).map(o=>o(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(et.allowMultipleSelections)&&p$(e,t),this.dragging=O$(e,t)&&EC(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&d$(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,s=0,a=0,o=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=i1(this.view);e.clientX-f.left<=s+th?t=-nh(s-e.clientX):e.clientX+f.right>=o-th&&(t=nh(e.clientX-o)),e.clientY-f.top<=a+th?i=-nh(a-e.clientY):e.clientY+f.bottom>=c-th&&(i=nh(e.clientY-c)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=bC(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function p$(n,e){let t=n.state.facet(nC);return t.length?t[0](e):ve.mac?e.metaKey:e.ctrlKey}function g$(n,e){let t=n.state.facet(iC);return t.length?t[0](e):ve.mac?!e.altKey:!e.ctrlKey}function O$(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Hc(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let a=0;a<s.length;a++){let o=s[a];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function x$(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=ln.get(t))&&i.isWidget()&&i.widget.ignoreEvent(e))return!1;return!0}const hs=Object.create(null),Yi=Object.create(null),kC=ve.ie&&ve.ie_version<15||ve.ios&&ve.webkit_version<604;function b$(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),TC(n,t.value)},50)}function Yd(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function TC(n,e){e=Yd(n.state,e1,e);let{state:t}=n,i,s=1,a=t.toText(e),o=a.lines==t.selection.ranges.length;if(K0!=null&&t.selection.ranges.every(f=>f.empty)&&K0==a.toString()){let f=-1;i=t.changeByRange(h=>{let m=t.doc.lineAt(h.from);if(m.from==f)return{range:h};f=m.from;let g=t.toText((o?a.line(s++).text:e)+t.lineBreak);return{changes:{from:m.from,insert:g},range:fe.cursor(h.from+g.length)}})}else o?i=t.changeByRange(f=>{let h=a.line(s++);return{changes:{from:f.from,to:f.to,insert:h.text},range:fe.cursor(f.from+h.length)}}):i=t.replaceSelection(a);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Yi.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};hs.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Yi.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Yi.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};hs.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(sC))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=S$(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new m$(n,e,t,i)),i&&n.observer.ignore(()=>{qA(n.contentDOM);let a=n.root.activeElement;a&&!a.contains(n.contentDOM)&&a.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function sS(n,e,t,i){if(i==1)return fe.cursor(e,t);if(i==2)return KD(n.state,e,t);{let s=n.docView.lineAt(e),a=n.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:a.from,c=s?s.posAtEnd:a.to;return c<n.state.doc.length&&c==a.to&&c++,fe.range(o,c)}}let rS=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function y$(n,e,t,i){let s=n.docView.lineAt(e);if(!s)return 1;let a=e-s.posAtStart;if(a==0)return 1;if(a==s.length)return-1;let o=s.coordsIn(a,-1);if(o&&rS(t,i,o))return-1;let c=s.coordsIn(a,1);return c&&rS(t,i,c)?1:o&&o.bottom>=i?-1:1}function aS(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:y$(n,t,e.clientX,e.clientY)}}const v$=ve.ie&&ve.ie_version<=11;let lS=null,oS=0,cS=0;function EC(n){if(!v$)return n.detail;let e=lS,t=cS;return lS=n,cS=Date.now(),oS=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(oS+1)%3:1}function S$(n,e){let t=aS(n,e),i=EC(e),s=n.state.selection;return{update(a){a.docChanged&&(t.pos=a.changes.mapPos(t.pos),s=s.map(a.changes))},get(a,o,c){let f=aS(n,a),h,m=sS(n,f.pos,f.bias,i);if(t.pos!=f.pos&&!o){let g=sS(n,t.pos,t.bias,i),x=Math.min(g.from,m.from),y=Math.max(g.to,m.to);m=x<m.from?fe.range(x,y):fe.range(y,x)}return o?s.replaceRange(s.main.extend(m.from,m.to)):c&&i==1&&s.ranges.length>1&&(h=w$(s,f.pos))?h:c?s.addRange(m):fe.create([m])}}}function w$(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return fe.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}hs.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.tile.nearest(e.target);if(s&&s.isWidget()){let a=s.posAtStart,o=a+s.length;(a>=t.to||o<=t.from)&&(t=fe.range(a,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Yd(n.state,t1,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};hs.dragend=n=>(n.inputState.draggedContent=null,!1);function uS(n,e,t,i){if(t=Yd(n.state,e1,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=n.inputState,o=i&&a&&g$(n,e)?{from:a.from,to:a.to}:null,c={from:s,insert:t},f=n.state.changes(o?[o,c]:c);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(s,-1),head:f.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}hs.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),s=0,a=()=>{++s==t.length&&uS(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let c=new FileReader;c.onerror=a,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(i[o]=c.result),a()},c.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return uS(n,e,i,!0),!0}return!1};hs.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=kC?null:e.clipboardData;return t?(TC(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(b$(n),!1)};function A$(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function C$(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:a}of n.selection.ranges){let o=n.doc.lineAt(a);o.number>s&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),s=o.number}i=!0}return{text:Yd(n,t1,e.join(n.lineBreak)),ranges:t,linewise:i}}let K0=null;hs.copy=hs.cut=(n,e)=>{let{text:t,ranges:i,linewise:s}=C$(n.state);if(!t&&!s)return!1;K0=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let a=kC?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",t),!0):(A$(n,t),!1)};const RC=Xs.define();function QC(n,e){let t=[];for(let i of n.facet(lC)){let s=i(n,e);s&&t.push(s)}return t.length?n.update({effects:t,annotations:RC.of(!0)}):null}function NC(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=QC(n.state,e);t?n.dispatch(t):n.update([])}},10)}Yi.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),NC(n)};Yi.blur=n=>{n.observer.clearSelectionRange(),NC(n)};Yi.compositionstart=Yi.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Yi.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ve.chrome&&ve.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Yi.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};hs.beforeinput=(n,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let a=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(a&&o.length){let c=o[0],f=n.posAtDOM(c.startContainer,c.startOffset),h=n.posAtDOM(c.endContainer,c.endOffset);return s1(n,{from:f,to:h,insert:n.state.toText(a)},null),!0}}let s;if(ve.chrome&&ve.android&&(s=AC.find(a=>a.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let a=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>a+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ve.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ve.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Yi.compositionend(n,e),20),!1};const fS=new Set;function k$(n){fS.has(n)||(fS.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const hS=["pre-wrap","normal","pre-line","break-spaces"];let so=!1;function dS(){so=!1}class T${constructor(e){this.lineWrapping=e,this.doc=nt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return hS.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,a,o){let c=hS.indexOf(e)>-1,f=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=a,f){this.heightSamples={};for(let h=0;h<o.length;h++){let m=o[h];m<0?h++:this.heightSamples[Math.floor(m*10)]=!0}}return f}}class E${constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class os{constructor(e,t,i,s,a){this.from=e,this.length=t,this.top=i,this.height=s,this._content=a}get type(){return typeof this._content=="number"?Sn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof qa?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new os(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var At=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(At||(At={}));const Qh=.001;class zn{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Qh&&(so=!0),this.height=e)}replace(e,t,i){return zn.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let a=this,o=i.doc;for(let c=s.length-1;c>=0;c--){let{fromA:f,toA:h,fromB:m,toB:g}=s[c],x=a.lineAt(f,At.ByPosNoHeight,i.setDoc(t),0,0),y=x.to>=h?x:a.lineAt(h,At.ByPosNoHeight,i,0,0);for(g+=y.to-h,h=y.to;c>0&&x.from<=s[c-1].toA;)f=s[c-1].fromA,m=s[c-1].fromB,c--,f<x.from&&(x=a.lineAt(f,At.ByPosNoHeight,i,0,0));m+=x.from-f,f=x.from;let v=r1.build(i.setDoc(o),e,m,g);a=sd(a,a.replace(f,h,v))}return a.updateHeight(i,0)}static empty(){return new bi(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,a=0;for(;;)if(t==i)if(s>a*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),i+=1+c.break,s-=c.size}else if(a>s*2){let c=e[i];c.break?e.splice(i,1,c.left,null,c.right):e.splice(i,1,c.left,c.right),i+=2+c.break,a-=c.size}else break;else if(s<a){let c=e[t++];c&&(s+=c.size)}else{let c=e[--i];c&&(a+=c.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new Q$(zn.of(e.slice(0,t)),o,zn.of(e.slice(i)))}}function sd(n,e){return n==e?n:(n.constructor!=e.constructor&&(so=!0),e)}zn.prototype.size=1;const R$=je.replace({});class jC extends zn{constructor(e,t,i){super(e,t),this.deco=i,this.spaceAbove=0}mainBlock(e,t){return new os(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,i,s){return this.spaceAbove&&e<i+this.spaceAbove?new os(s,0,i,this.spaceAbove,R$):this.mainBlock(i,s)}lineAt(e,t,i,s,a){let o=this.mainBlock(s,a);return this.spaceAbove?this.blockAt(0,i,s,a).join(o):o}forEachLine(e,t,i,s,a,o){e<=a+this.length&&t>=a&&o(this.lineAt(0,At.ByPos,i,s,a))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setMeasuredHeight(s),this.outdated=!1,this}toString(){return`block(${this.length})`}}class bi extends jC{constructor(e,t,i){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=i}mainBlock(e,t){return new os(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof bi||s instanceof bn&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof bn?s=new bi(s.length,this.height,this.spaceAbove):s.height=this.height,this.outdated||(s.outdated=!1),s):zn.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setMeasuredHeight(s):(i||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bn extends zn{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,a=s-i+1,o,c=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*a);o=f/a,this.length>a+1&&(c=(this.height-f)/(this.length-a-1))}else o=this.height/a;return{firstLine:i,lastLine:s,perLine:o,perChar:c}}blockAt(e,t,i,s){let{firstLine:a,lastLine:o,perLine:c,perChar:f}=this.heightMetrics(t,s);if(t.lineWrapping){let h=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),m=t.doc.lineAt(h),g=c+m.length*f,x=Math.max(i,e-g/2);return new os(m.from,m.length,x,g,0)}else{let h=Math.max(0,Math.min(o-a,Math.floor((e-i)/c))),{from:m,length:g}=t.doc.line(a+h);return new os(m,g,i+c*h,c,0)}}lineAt(e,t,i,s,a){if(t==At.ByHeight)return this.blockAt(e,i,s,a);if(t==At.ByPosNoHeight){let{from:y,to:v}=i.doc.lineAt(e);return new os(y,v-y,0,0,0)}let{firstLine:o,perLine:c,perChar:f}=this.heightMetrics(i,a),h=i.doc.lineAt(e),m=c+h.length*f,g=h.number-o,x=s+c*g+f*(h.from-a-g);return new os(h.from,h.length,Math.max(s,Math.min(x,s+this.height-m)),m,0)}forEachLine(e,t,i,s,a,o){e=Math.max(e,a),t=Math.min(t,a+this.length);let{firstLine:c,perLine:f,perChar:h}=this.heightMetrics(i,a);for(let m=e,g=s;m<=t;){let x=i.doc.lineAt(m);if(m==e){let v=x.number-c;g+=f*v+h*(e-a-v)}let y=f+h*x.length;o(new os(x.from,x.length,g,y,0)),g+=y,m=x.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let a=i[i.length-1];a instanceof bn?i[i.length-1]=new bn(a.length+s):i.push(null,new bn(s-1))}if(e>0){let a=i[0];a instanceof bn?i[0]=new bn(e+a.length):i.unshift(new bn(e-1),null)}return zn.of(i)}decomposeLeft(e,t){t.push(new bn(e-1),null)}decomposeRight(e,t){t.push(null,new bn(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let a=t+this.length;if(s&&s.from<=t+this.length&&s.more){let o=[],c=Math.max(t,s.from),f=-1;for(s.from>t&&o.push(new bn(s.from-t-1).updateHeight(e,t));c<=a&&s.more;){let m=e.doc.lineAt(c).length;o.length&&o.push(null);let g=s.heights[s.index++],x=0;g<0&&(x=-g,g=s.heights[s.index++]),f==-1?f=g:Math.abs(g-f)>=Qh&&(f=-2);let y=new bi(m,g,x);y.outdated=!1,o.push(y),c+=m+1}c<=a&&o.push(null,new bn(a-c).updateHeight(e,c));let h=zn.of(o);return(f<0||Math.abs(h.height-this.height)>=Qh||Math.abs(f-this.heightMetrics(e,t).perLine)>=Qh)&&(so=!0),sd(this,h)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Q$ extends zn{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let a=i+this.left.height;return e<a?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,a,s+this.left.length+this.break)}lineAt(e,t,i,s,a){let o=s+this.left.height,c=a+this.left.length+this.break,f=t==At.ByHeight?e<o:e<c,h=f?this.left.lineAt(e,t,i,s,a):this.right.lineAt(e,t,i,o,c);if(this.break||(f?h.to<c:h.from>c))return h;let m=t==At.ByPosNoHeight?At.ByPosNoHeight:At.ByPos;return f?h.join(this.right.lineAt(c,m,i,o,c)):this.left.lineAt(c,m,i,s,a).join(h)}forEachLine(e,t,i,s,a,o){let c=s+this.left.height,f=a+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,i,s,a,o),t>=f&&this.right.forEachLine(e,t,i,c,f,o);else{let h=this.lineAt(f,At.ByPos,i,s,a);e<h.from&&this.left.forEachLine(e,h.from-1,i,s,a,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,i,c,f,o)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let a=[];e>0&&this.decomposeLeft(e,a);let o=a.length;for(let c of i)a.push(c);if(e>0&&mS(a,o-1),t<this.length){let c=a.length;this.decomposeRight(t,a),mS(a,c)}return zn.of(a)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?zn.of(this.break?[e,null,t]:[e,t]):(this.left=sd(this.left,e),this.right=sd(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:a,right:o}=this,c=t+a.length+this.break,f=null;return s&&s.from<=t+a.length&&s.more?f=a=a.updateHeight(e,t,i,s):a.updateHeight(e,t,i),s&&s.from<=c+o.length&&s.more?f=o=o.updateHeight(e,c,i,s):o.updateHeight(e,c,i),f?this.balanced(a,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mS(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof bn&&(i=n[e+1])instanceof bn&&n.splice(e-1,3,new bn(t.length+1+i.length))}const N$=5;class r1{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof bi?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new bi(i-this.pos,-1,0)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,a=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new jC(o,s,i)):(o||a||s>=N$)&&this.addLineDeco(s,a,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new bi(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let i=new bn(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof bi)return e;let t=new bi(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof bi)&&!this.isCovered?this.nodes.push(new bi(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof bi&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let a=new r1(i,e);return Fe.spans(t,i,s,a,0),a.finish(i)}}function j$(n,e,t){let i=new M$;return Fe.compare(n,e,t,i,0),i.changes}class M${constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&Vl(e,t,this.changes,5)}}function P$(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,a=Math.max(0,t.left),o=Math.min(s.innerWidth,t.right),c=Math.max(0,t.top),f=Math.min(s.innerHeight,t.bottom);for(let h=n.parentNode;h&&h!=i.body;)if(h.nodeType==1){let m=h,g=window.getComputedStyle(m);if((m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth)&&g.overflow!="visible"){let x=m.getBoundingClientRect();a=Math.max(a,x.left),o=Math.min(o,x.right),c=Math.max(c,x.top),f=Math.min(h==n.parentNode?s.innerHeight:f,x.bottom)}h=g.position=="absolute"||g.position=="fixed"?m.offsetParent:m.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:a-t.left,right:Math.max(a,o)-t.left,top:c-(t.top+e),bottom:Math.max(c,f)-(t.top+e)}}function _$(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function D$(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class zg{constructor(e,t,i,s){this.from=e,this.to=t,this.size=i,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],a=t[i];if(s.from!=a.from||s.to!=a.to||s.size!=a.size)return!1}return!0}draw(e,t){return je.replace({widget:new $$(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class $$ extends gs{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class pS{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=gS,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=yt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(n1).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new T$(t),this.stateDeco=e.facet(Fc).filter(i=>typeof i!="function"),this.heightMap=zn.empty().applyChanges(this.stateDeco,nt.empty,this.heightOracle.setDoc(e.doc),[new Ui(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=je.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:a,to:o})=>s>=a&&s<=o)){let{from:a,to:o}=this.lineBlockAt(s);e.push(new ih(a,o))}}return this.viewports=e.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?gS:new a1(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(vc(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Fc).filter(m=>typeof m!="function");let s=e.changedRanges,a=Ui.extendWithRanges(s,j$(i,this.stateDeco,e?e.changes:sn.empty(this.state.doc.length))),o=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);dS(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=o||so)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let f=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<f.from||t.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,t));let h=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(cC)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,a=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?yt.RTL:yt.LTR;let o=this.heightOracle.mustRefreshForWrapping(a),c=t.getBoundingClientRect(),f=o||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,m=0;if(c.width&&c.height){let{scaleX:j,scaleY:Q}=VA(t,c);(j>.005&&Math.abs(this.scaleX-j)>.005||Q>.005&&Math.abs(this.scaleY-Q)>.005)&&(this.scaleX=j,this.scaleY=Q,h|=16,o=f=!0)}let g=(parseInt(i.paddingTop)||0)*this.scaleY,x=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=g||this.paddingBottom!=x)&&(this.paddingTop=g,this.paddingBottom=x,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=HA(e.scrollDOM);let v=(this.printing?D$:P$)(t,this.paddingTop),S=v.top-this.pixelViewport.top,w=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let C=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(C!=this.inView&&(this.inView=C,C&&(f=!0)),!this.inView&&!this.scrollTarget&&!_$(e.dom))return 0;let R=c.width;if((this.contentDOMWidth!=R||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),f){let j=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(j)&&(o=!0),o||s.lineWrapping&&Math.abs(R-this.contentDOMWidth)>s.charWidth){let{lineHeight:Q,charWidth:M,textHeight:k}=e.docView.measureTextSize();o=Q>0&&s.refresh(a,Q,M,k,Math.max(5,R/M),j),o&&(e.docView.minWidth=0,h|=16)}S>0&&w>0?m=Math.max(S,w):S<0&&w<0&&(m=Math.min(S,w)),dS();for(let Q of this.viewports){let M=Q.from==this.viewport.from?j:e.docView.measureVisibleLineHeights(Q);this.heightMap=(o?zn.empty().applyChanges(this.stateDeco,nt.empty,this.heightOracle,[new Ui(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new E$(Q.from,M))}so&&(h|=2)}let E=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(m,this.scrollTarget),h|=this.updateForViewport()),(h&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,a=this.heightOracle,{visibleTop:o,visibleBottom:c}=this,f=new ih(s.lineAt(o-i*1e3,At.ByHeight,a,0,0).from,s.lineAt(c+(1-i)*1e3,At.ByHeight,a,0,0).to);if(t){let{head:h}=t.range;if(h<f.from||h>f.to){let m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),g=s.lineAt(h,At.ByPos,a,0,0),x;t.y=="center"?x=(g.top+g.bottom)/2-m/2:t.y=="start"||t.y=="nearest"&&h<f.from?x=g.top:x=g.bottom-m,f=new ih(s.lineAt(x-1e3/2,At.ByHeight,a,0,0).from,s.lineAt(x+m+1e3/2,At.ByHeight,a,0,0).to)}}return f}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new ih(this.heightMap.lineAt(i,At.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,At.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,At.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(t,At.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:c}=this;return(e==0||s<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||a>=c+Math.max(10,Math.min(i,250)))&&s>o-2*1e3&&a<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new zg(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,a=s>>1,o=s<<1;if(this.defaultTextDirection!=yt.LTR&&!i)return[];let c=[],f=(m,g,x,y)=>{if(g-m<a)return;let v=this.state.selection.main,S=[v.from];v.empty||S.push(v.to);for(let C of S)if(C>m&&C<g){f(m,C-10,x,y),f(C+10,g,x,y);return}let w=z$(e,C=>C.from>=x.from&&C.to<=x.to&&Math.abs(C.from-m)<a&&Math.abs(C.to-g)<a&&!S.some(R=>C.from<R&&C.to>R));if(!w){if(g<x.to&&t&&i&&t.visibleRanges.some(E=>E.from<=g&&E.to>=g)){let E=t.moveToLineBoundary(fe.cursor(g),!1,!0).head;E>m&&(g=E)}let C=this.gapSize(x,m,g,y),R=i||C<2e6?C:2e6;w=new zg(m,g,C,R)}c.push(w)},h=m=>{if(m.length<o||m.type!=Sn.Text)return;let g=L$(m.from,m.to,this.stateDeco);if(g.total<o)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,y,v;if(i){let S=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,C;if(x!=null){let R=rh(g,x),E=((this.visibleBottom-this.visibleTop)/2+S)/m.height;w=R-E,C=R+E}else w=(this.visibleTop-m.top-S)/m.height,C=(this.visibleBottom-m.top+S)/m.height;y=sh(g,w),v=sh(g,C)}else{let S=g.total*this.heightOracle.charWidth,w=s*this.heightOracle.charWidth,C=0;if(S>2e6)for(let M of e)M.from>=m.from&&M.from<m.to&&M.size!=M.displaySize&&M.from*this.heightOracle.charWidth+C<this.pixelViewport.left&&(C=M.size-M.displaySize);let R=this.pixelViewport.left+C,E=this.pixelViewport.right+C,j,Q;if(x!=null){let M=rh(g,x),k=((E-R)/2+w)/S;j=M-k,Q=M+k}else j=(R-w)/S,Q=(E+w)/S;y=sh(g,j),v=sh(g,Q)}y>m.from&&f(m.from,y,m,g),v<m.to&&f(v,m.to,m,g)};for(let m of this.viewportLines)Array.isArray(m.type)?m.type.forEach(h):h(m);return c}gapSize(e,t,i,s){let a=rh(s,i)-rh(s,t);return this.heightOracle.lineWrapping?e.height*a:s.total*this.heightOracle.charWidth*a}updateLineGaps(e){zg.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=je.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Fe.spans(t,this.viewport.from,this.viewport.to,{span(a,o){i.push({from:a,to:o})},point(){}},20);let s=0;if(i.length!=this.visibleRanges.length)s=12;else for(let a=0;a<i.length&&!(s&8);a++){let o=this.visibleRanges[a],c=i[a];(o.from!=c.from||o.to!=c.to)&&(s|=4,e&&e.mapPos(o.from,-1)==c.from&&e.mapPos(o.to,1)==c.to||(s|=8))}return this.visibleRanges=i,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||vc(this.heightMap.lineAt(e,At.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||vc(this.heightMap.lineAt(this.scaler.fromDOM(e),At.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return vc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ih{constructor(e,t){this.from=e,this.to=t}}function L$(n,e,t){let i=[],s=n,a=0;return Fe.spans(t,n,e,{span(){},point(o,c){o>s&&(i.push({from:s,to:o}),a+=o-s),s=c}},20),s<e&&(i.push({from:s,to:e}),a+=e-s),{total:a,ranges:i}}function sh({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:a,to:o}=e[s],c=o-a;if(i<=c)return a+i;i-=c}}function rh(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function z$(n,e){for(let t of n)if(e(t))return t}const gS={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class a1{constructor(e,t,i){let s=0,a=0,o=0;this.viewports=i.map(({from:c,to:f})=>{let h=t.lineAt(c,At.ByPos,e,0,0).top,m=t.lineAt(f,At.ByPos,e,0,0).bottom;return s+=m-h,{from:c,to:f,top:h,bottom:m,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let c of this.viewports)c.domTop=o+(c.top-a)*this.scale,o=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.top)return s+(e-i)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);i=a.bottom,s=a.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.domTop)return i+(e-s)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);i=a.bottom,s=a.domBottom}}eq(e){return e instanceof a1?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function vc(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new os(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>vc(s,e)):n._content)}const ah=ye.define({combine:n=>n.join(" ")}),J0=ye.define({combine:n=>n.indexOf(!0)>-1}),eO=sa.newName(),MC=sa.newName(),PC=sa.newName(),_C={"&light":"."+MC,"&dark":"."+PC};function tO(n,e,t){return new sa(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const B$=tO("."+eO,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},_C),Z$={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Bg=ve.ie&&ve.ie_version<=11;class U${constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new xD,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ve.ie&&ve.ie_version<=11||ve.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ve.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ve.chrome&&ve.chrome_version<126)&&(this.editContext=new I$(e),e.state.facet(fr)&&(e.contentDOM.editContext=this.editContext.editContext)),Bg&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(fr)?i.root.activeElement!=this.dom:!Rh(this.dom,s))return;let a=s.anchorNode&&i.docView.tile.nearest(s.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ve.ie&&ve.ie_version<=11||ve.android&&ve.chrome)&&!i.state.selection.main.empty&&s.focusNode&&Qc(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Hc(e.root);if(!t)return!1;let i=ve.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&X$(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let s=Rh(this.dom,i);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&yD(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Z$),Bg&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Bg&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&ql(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let a of e){let o=this.readMutation(a);o&&(o.typeOver&&(s=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&Rh(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new a$(this.view,e,t,i);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,s=SC(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let i=OS(t,e.previousSibling||e.target.previousSibling,-1),s=OS(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(fr)!=e.state.facet(fr)&&(e.view.contentDOM.editContext=e.state.facet(fr)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function OS(n,e,t){for(;e;){let i=ln.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function xS(n,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor,1);return Qc(o.node,o.offset,s,a)&&([t,i,s,a]=[s,a,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:a}}function X$(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return xS(n,s)}let t=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?xS(n,t):null}class I${constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let s=e.state.selection.main,{anchor:a,head:o}=s,c=this.toEditorPos(i.updateRangeStart),f=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:c,drifted:!1});let h=f-c>i.text.length;c==this.from&&a<this.from?c=a:f==this.to&&a>this.to&&(f=a);let m=wC(e.state.sliceDoc(c,f),i.text,(h?s.from:s.to)-c,h?"end":null);if(!m){let x=fe.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));x.main.eq(s)||e.dispatch({selection:x,userEvent:"select"});return}let g={from:m.from+c,to:m.toA+c,insert:nt.of(i.text.slice(m.from,m.toB).split(`
`))};if((ve.mac||ve.android)&&g.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(g={from:c,to:f,insert:nt.of([i.text.replace("."," ")])}),this.pendingContextChange=g,!e.state.readOnly){let x=this.to-this.from+(g.to-g.from+g.insert.length);s1(e,g,fe.single(this.toEditorPos(i.selectionStart,x),this.toEditorPos(i.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),g.from<g.to&&!g.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let s=[],a=null;for(let o=this.toEditorPos(i.rangeStart),c=this.toEditorPos(i.rangeEnd);o<c;o++){let f=e.coordsForChar(o);a=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||a||new DOMRect,s.push(a)}t.updateCharacterBounds(i.rangeStart,s)},this.handlers.textformatupdate=i=>{let s=[];for(let a of i.getTextFormats()){let o=a.underlineStyle,c=a.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(c)){let f=this.toEditorPos(a.rangeStart),h=this.toEditorPos(a.rangeEnd);if(f<h){let m=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;s.push(je.mark({attributes:{style:m}}).range(f,h))}}}e.dispatch({effects:fC.of(je.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let s=Hc(i.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,s=this.pendingContextChange;return e.changes.iterChanges((a,o,c,f,h)=>{if(i)return;let m=h.length-(o-a);if(s&&o>=s.to)if(s.from==a&&s.to==o&&s.insert.eq(h)){s=this.pendingContextChange=null,t+=m,this.to+=m;return}else s=null,this.revertPending(e.state);if(a+=t,o+=t,o<=this.from)this.from+=m,this.to+=m;else if(a<this.to){if(a<this.from||o>this.to||this.to-this.from+h.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(o),h.toString()),this.to+=m}t+=m}),s&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(i,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Oe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(s=>s.forEach(a=>i(a,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||bD(e.parent)||document,this.viewState=new pS(e.state||et.create(e)),e.scrollTo&&e.scrollTo.is(eh)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(zl).map(s=>new Pg(s));for(let s of this.plugins)s.update(this);this.observer=new U$(this),this.inputState=new u$(this),this.inputState.ensureHandlers(this.plugins),this.docView=new J2(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Kt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,a=this.state;for(let x of e){if(x.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=x.state}if(this.destroyed){this.viewState.state=a;return}let o=this.hasFocus,c=0,f=null;e.some(x=>x.annotation(RC))?(this.inputState.notifiedFocused=o,c=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,f=QC(a,o),f||(c=1));let h=this.observer.delayedAndroidKey,m=null;if(h?(this.observer.clearDelayedAndroidKey(),m=this.observer.readChange(),(m&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(m=null)):this.observer.clear(),a.facet(et.phrases)!=this.state.facet(et.phrases))return this.setState(a);s=td.create(this,a,e),s.flags|=c;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let x of e){if(g&&(g=g.map(x.changes)),x.scrollIntoView){let{main:y}=x.state.selection;g=new Hl(y.empty?y:fe.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of x.effects)y.is(eh)&&(g=y.value.clip(this.state))}this.viewState.update(s,g),this.bidiCache=rd.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(bc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(ah)!=s.state.facet(ah)&&(this.viewState.mustMeasureContent=!0),(t||i||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let x of this.state.facet(H0))try{x(s)}catch(y){Jn(this.state,y,"update listener")}(f||m)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),m&&!SC(this,m)&&h.force&&ql(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new pS(e),this.plugins=e.facet(zl).map(i=>new Pg(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new J2(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(zl),i=e.state.facet(zl);if(t!=i){let s=[];for(let a of i){let o=t.indexOf(a);if(o<0)s.push(new Pg(a));else{let c=this.plugins[o];c.mustUpdate=e,s.push(c)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Jn(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:o}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(o<0)if(HA(i))a=-1,o=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(s);a=y.from,o=y.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];f&4||([this.measureRequests,h]=[h,this.measureRequests]);let m=h.map(y=>{try{return y.read(this)}catch(v){return Jn(this.state,v),bS}}),g=td.create(this,this.state,[]),x=!1;g.flags|=f,t?t.flags|=f:t=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),x=this.docView.update(g),x&&this.docViewUpdate());for(let y=0;y<h.length;y++)if(m[y]!=bS)try{let v=h[y];v.write&&v.write(m[y],this)}catch(v){Jn(this.state,v)}if(x&&this.docView.updateSelection(!0),!g.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let v=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-o;if(v>1||v<-1){s=s+v,i.scrollTop=s/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(H0))c(t)}get themeClasses(){return eO+" "+(this.state.facet(J0)?PC:MC)+" "+this.state.facet(ah)}updateAttrs(){let e=yS(this,hC,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(fr)?"true":"false",class:"cm-content",style:`${ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),yS(this,n1,t);let i=this.observer.ignore(()=>{let s=q2(this.contentDOM,this.contentAttrs,t),a=q2(this.dom,this.editorAttrs,e);return s||a});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(Oe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(bc);let e=this.state.facet(Oe.cspNonce);sa.mount(this.root,this.styleModules.concat(B$).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Lg(this,e,eS(this,e,t,i))}moveByGroup(e,t){return Lg(this,e,eS(this,e,t,i=>t$(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),s=this.textDirectionAt(e.from),a=i[t?i.length-1:0];return fe.cursor(a.side(t,s)+e.from,a.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,i=!0){return e$(this,e,t,i)}moveVertically(e,t,i){return Lg(this,e,n$(this,e,t,i))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let i=F0(this,e,t);return i&&i.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),F0(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),a=this.bidiSpans(s),o=a[hr.find(a,e-s.from,-1,t)];return Gc(i,o.dir==yt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(oC)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Y$)return eC(e.length);let t=this.textDirectionAt(e.from),i;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==t&&(a.fresh||JA(a.isolates,i=W2(this,e))))return a.order;i||(i=W2(this,e));let s=TD(e.text,t,i);return this.bidiCache.push(new rd(e.from,e.to,t,i,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ve.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{qA(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return eh.of(new Hl(typeof e=="number"?fe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return eh.of(new Hl(fe.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Vt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Vt.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=sa.newName(),s=[ah.of(i),bc.of(tO(`.${i}`,e))];return t&&t.dark&&s.push(J0.of(!0)),s}static baseTheme(e){return ua.lowest(bc.of(tO("."+eO,e,_C)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&ln.get(i)||ln.get(e);return((t=s?.root)===null||t===void 0?void 0:t.view)||null}}Oe.styleModule=bc;Oe.inputHandler=aC;Oe.clipboardInputFilter=e1;Oe.clipboardOutputFilter=t1;Oe.scrollHandler=uC;Oe.focusChangeEffect=lC;Oe.perLineTextDirection=oC;Oe.exceptionSink=rC;Oe.updateListener=H0;Oe.editable=fr;Oe.mouseSelectionStyle=sC;Oe.dragMovesSelection=iC;Oe.clickAddsSelectionRange=nC;Oe.decorations=Fc;Oe.blockWrappers=dC;Oe.outerDecorations=mC;Oe.atomicRanges=yu;Oe.bidiIsolatedRanges=pC;Oe.scrollMargins=gC;Oe.darkTheme=J0;Oe.cspNonce=ye.define({combine:n=>n.length?n[0]:""});Oe.contentAttributes=n1;Oe.editorAttributes=hC;Oe.lineWrapping=Oe.contentAttributes.of({class:"cm-lineWrapping"});Oe.announce=De.define();const Y$=4096,bS={};class rd{constructor(e,t,i,s,a,o){this.from=e,this.to=t,this.dir=i,this.isolates=s,this.fresh=a,this.order=o}static update(e,t){if(t.empty&&!e.some(a=>a.fresh))return e;let i=[],s=e.length?e[e.length-1].dir:yt.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let o=e[a];o.dir==s&&!t.touchesRange(o.from,o.to)&&i.push(new rd(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function yS(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let a=i[s],o=typeof a=="function"?a(n):a;o&&FO(o,t)}return t}const V$=ve.mac?"mac":ve.windows?"win":ve.linux?"linux":"key";function q$(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,a,o,c;for(let f=0;f<t.length-1;++f){const h=t[f];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:a=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(i="Alt-"+i),a&&(i="Ctrl-"+i),c&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function lh(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const H$=ua.default(Oe.domEventHandlers({keydown(n,e){return $C(DC(e.state),n,e,"editor")}})),vu=ye.define({enables:H$}),vS=new WeakMap;function DC(n){let e=n.facet(vu),t=vS.get(e);return t||vS.set(e,t=F$(e.reduce((i,s)=>i.concat(s),[]))),t}function G$(n,e,t){return $C(DC(n.state),e,n,t)}let Hr=null;const W$=4e3;function F$(n,e=V$){let t=Object.create(null),i=Object.create(null),s=(o,c)=>{let f=i[o];if(f==null)i[o]=c;else if(f!=c)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},a=(o,c,f,h,m)=>{var g,x;let y=t[o]||(t[o]=Object.create(null)),v=c.split(/ (?!$)/).map(C=>q$(C,e));for(let C=1;C<v.length;C++){let R=v.slice(0,C).join(" ");s(R,!0),y[R]||(y[R]={preventDefault:!0,stopPropagation:!1,run:[E=>{let j=Hr={view:E,prefix:R,scope:o};return setTimeout(()=>{Hr==j&&(Hr=null)},W$),!0}]})}let S=v.join(" ");s(S,!1);let w=y[S]||(y[S]={preventDefault:!1,stopPropagation:!1,run:((x=(g=y._any)===null||g===void 0?void 0:g.run)===null||x===void 0?void 0:x.slice())||[]});f&&w.run.push(f),h&&(w.preventDefault=!0),m&&(w.stopPropagation=!0)};for(let o of n){let c=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let h of c){let m=t[h]||(t[h]=Object.create(null));m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:g}=o;for(let x in m)m[x].run.push(y=>g(y,nO))}let f=o[e]||o.key;if(f)for(let h of c)a(h,f,o.run,o.preventDefault,o.stopPropagation),o.shift&&a(h,"Shift-"+f,o.shift,o.preventDefault,o.stopPropagation)}return t}let nO=null;function $C(n,e,t,i){nO=e;let s=uD(e),a=Wn(s,0),o=Ms(a)==s.length&&s!=" ",c="",f=!1,h=!1,m=!1;Hr&&Hr.view==t&&Hr.scope==i&&(c=Hr.prefix+" ",CC.indexOf(e.keyCode)<0&&(h=!0,Hr=null));let g=new Set,x=w=>{if(w){for(let C of w.run)if(!g.has(C)&&(g.add(C),C(t)))return w.stopPropagation&&(m=!0),!0;w.preventDefault&&(w.stopPropagation&&(m=!0),h=!0)}return!1},y=n[i],v,S;return y&&(x(y[c+lh(s,e,!o)])?f=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ve.windows&&e.ctrlKey&&e.altKey)&&!(ve.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(v=ra[e.keyCode])&&v!=s?(x(y[c+lh(v,e,!0)])||e.shiftKey&&(S=Vc[e.keyCode])!=s&&S!=v&&x(y[c+lh(S,e,!1)]))&&(f=!0):o&&e.shiftKey&&x(y[c+lh(s,e,!0)])&&(f=!0),!f&&x(y._any)&&(f=!0)),h&&(f=!0),f&&m&&e.stopPropagation(),nO=null,f}class Su{constructor(e,t,i,s,a){this.className=e,this.left=t,this.top=i,this.width=s,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let s=e.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let a=LC(e);return[new Su(t,s.left-a.left,s.top-a.top,null,s.bottom-s.top)]}else return K$(e,t,i)}}function LC(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==yt.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function SS(n,e,t,i){let s=n.coordsAtPos(e,t*2);if(!s)return i;let a=n.dom.getBoundingClientRect(),o=(s.top+s.bottom)/2,c=n.posAtCoords({x:a.left+1,y:o}),f=n.posAtCoords({x:a.right-1,y:o});return c==null||f==null?i:{from:Math.max(i.from,Math.min(c,f)),to:Math.min(i.to,Math.max(c,f))}}function K$(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),a=n.textDirection==yt.LTR,o=n.contentDOM,c=o.getBoundingClientRect(),f=LC(n),h=o.querySelector(".cm-line"),m=h&&window.getComputedStyle(h),g=c.left+(m?parseInt(m.paddingLeft)+Math.min(0,parseInt(m.textIndent)):0),x=c.right-(m?parseInt(m.paddingRight):0),y=W0(n,i,1),v=W0(n,s,-1),S=y.type==Sn.Text?y:null,w=v.type==Sn.Text?v:null;if(S&&(n.lineWrapping||y.widgetLineBreaks)&&(S=SS(n,i,1,S)),w&&(n.lineWrapping||v.widgetLineBreaks)&&(w=SS(n,s,-1,w)),S&&w&&S.from==w.from&&S.to==w.to)return R(E(t.from,t.to,S));{let Q=S?E(t.from,null,S):j(y,!1),M=w?E(null,t.to,w):j(v,!0),k=[];return(S||y).to<(w||v).from-(S&&w?1:0)||y.widgetLineBreaks>1&&Q.bottom+n.defaultLineHeight/2<M.top?k.push(C(g,Q.bottom,x,M.top)):Q.bottom<M.top&&n.elementAtHeight((Q.bottom+M.top)/2).type==Sn.Text&&(Q.bottom=M.top=(Q.bottom+M.top)/2),R(Q).concat(k).concat(R(M))}function C(Q,M,k,$){return new Su(e,Q-f.left,M-f.top,k-Q,$-M)}function R({top:Q,bottom:M,horizontal:k}){let $=[];for(let D=0;D<k.length;D+=2)$.push(C(k[D],Q,k[D+1],M));return $}function E(Q,M,k){let $=1e9,D=-1e9,L=[];function V(H,F,P,Z,K){let ie=n.coordsAtPos(H,H==k.to?-2:2),le=n.coordsAtPos(P,P==k.from?2:-2);!ie||!le||($=Math.min(ie.top,le.top,$),D=Math.max(ie.bottom,le.bottom,D),K==yt.LTR?L.push(a&&F?g:ie.left,a&&Z?x:le.right):L.push(!a&&Z?g:le.left,!a&&F?x:ie.right))}let z=Q??k.from,I=M??k.to;for(let H of n.visibleRanges)if(H.to>z&&H.from<I)for(let F=Math.max(H.from,z),P=Math.min(H.to,I);;){let Z=n.state.doc.lineAt(F);for(let K of n.bidiSpans(Z)){let ie=K.from+Z.from,le=K.to+Z.from;if(ie>=P)break;le>F&&V(Math.max(ie,F),Q==null&&ie<=z,Math.min(le,P),M==null&&le>=I,K.dir)}if(F=Z.to+1,F>=P)break}return L.length==0&&V(z,Q==null,I,M==null,n.textDirection),{top:$,bottom:D,horizontal:L}}function j(Q,M){let k=c.top+(M?Q.top:Q.bottom);return{top:k,bottom:k,horizontal:[]}}}function J$(n,e){return n.constructor==e.constructor&&n.eq(e)}class e8{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Nh)!=e.state.facet(Nh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(Nh);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!J$(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[i].constructor&&s.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e,ve.safari&&ve.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Nh=ye.define();function zC(n){return[Vt.define(e=>new e8(e,n)),Nh.of(n)]}const Kc=ye.define({combine(n){return Is(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function t8(n={}){return[Kc.of(n),n8,i8,s8,cC.of(!0)]}function BC(n){return n.startState.facet(Kc)!=n.state.facet(Kc)}const n8=zC({above:!0,markers(n){let{state:e}=n,t=e.facet(Kc),i=[];for(let s of e.selection.ranges){let a=s==e.selection.main;if(s.empty||t.drawRangeCursor){let o=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=s.empty?s:fe.cursor(s.head,s.head>s.anchor?-1:1);for(let f of Su.forRange(n,o,c))i.push(f)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=BC(n);return t&&wS(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){wS(e.state,n)},class:"cm-cursorLayer"});function wS(n,e){e.style.animationDuration=n.facet(Kc).cursorBlinkRate+"ms"}const i8=zC({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Su.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||BC(n)},class:"cm-selectionLayer"}),s8=ua.highest(Oe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),ZC=De.define({map(n,e){return n==null?null:e.mapPos(n)}}),Sc=hn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(ZC)?i.value:t,n)}}),r8=Vt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Sc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Sc)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Sc),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Sc)!=n&&this.view.dispatch({effects:ZC.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function a8(){return[Sc,r8]}function AS(n,e,t,i,s){e.lastIndex=0;for(let a=n.iterRange(t,i),o=t,c;!a.next().done;o+=a.value.length)if(!a.lineBreak)for(;c=e.exec(a.value);)s(o+c.index,c)}function l8(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:s,to:a}of t)s=Math.max(n.state.doc.lineAt(s).from,s-e),a=Math.min(n.state.doc.lineAt(a).to,a+e),i.length&&i[i.length-1].to>=s?i[i.length-1].to=a:i.push({from:s,to:a});return i}class o8{constructor(e){const{regexp:t,decoration:i,decorate:s,boundary:a,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(c,f,h,m)=>s(m,h,h+c[0].length,c,f);else if(typeof i=="function")this.addMatch=(c,f,h,m)=>{let g=i(c,f,h);g&&m(h,h+c[0].length,g)};else if(i)this.addMatch=(c,f,h,m)=>m(h,h+c[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=o}createDeco(e){let t=new dr,i=t.add.bind(t);for(let{from:s,to:a}of l8(e,this.maxLength))AS(e.state.doc,this.regexp,s,a,(o,c)=>this.addMatch(c,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((a,o,c,f)=>{f>=e.view.viewport.from&&c<=e.view.viewport.to&&(i=Math.min(c,i),s=Math.max(f,s))}),e.viewportMoved||s-i>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),i,s):t}updateRange(e,t,i,s){for(let a of e.visibleRanges){let o=Math.max(a.from,i),c=Math.min(a.to,s);if(c>=o){let f=e.state.doc.lineAt(o),h=f.to<c?e.state.doc.lineAt(c):f,m=Math.max(a.from,f.from),g=Math.min(a.to,h.to);if(this.boundary){for(;o>f.from;o--)if(this.boundary.test(f.text[o-1-f.from])){m=o;break}for(;c<h.to;c++)if(this.boundary.test(h.text[c-h.from])){g=c;break}}let x=[],y,v=(S,w,C)=>x.push(C.range(S,w));if(f==h)for(this.regexp.lastIndex=m-f.from;(y=this.regexp.exec(f.text))&&y.index<g-f.from;)this.addMatch(y,e,y.index+f.from,v);else AS(e.state.doc,this.regexp,m,g,(S,w)=>this.addMatch(w,e,S,v));t=t.update({filterFrom:m,filterTo:g,filter:(S,w)=>S<m||w>g,add:x})}}return t}}const iO=/x/.unicode!=null?"gu":"g",c8=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,iO),u8={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Zg=null;function f8(){var n;if(Zg==null&&typeof document<"u"&&document.body){let e=document.body.style;Zg=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Zg||!1}const jh=ye.define({combine(n){let e=Is(n,{render:null,specialChars:c8,addSpecialChars:null});return(e.replaceTabs=!f8())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,iO)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,iO)),e}});function h8(n={}){return[jh.of(n),d8()]}let CS=null;function d8(){return CS||(CS=Vt.fromClass(class{constructor(n){this.view=n,this.decorations=je.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(jh)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new o8({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:s}=t.state,a=Wn(e[0],0);if(a==9){let o=s.lineAt(i),c=t.state.tabSize,f=fo(o.text,c,i-o.from);return je.replace({widget:new O8((c-f%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=je.replace({widget:new g8(n,a)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(jh);n.startState.facet(jh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const m8="";function p8(n){return n>=32?m8:n==10?"":String.fromCharCode(9216+n)}class g8 extends gs{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=p8(this.code),i=e.state.phrase("Control character")+" "+(u8[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,t);if(s)return s;let a=document.createElement("span");return a.textContent=t,a.title=i,a.setAttribute("aria-label",i),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class O8 extends gs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function x8(){return y8}const b8=je.line({class:"cm-activeLine"}),y8=Vt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>e&&(t.push(b8.range(s.from)),e=s.from)}return je.set(t)}},{decorations:n=>n.decorations});class v8 extends gs{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Rc(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),s=Gc(t[0],i.direction!="rtl"),a=parseInt(i.lineHeight);return s.bottom-s.top>a*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+a}:s}ignoreEvent(){return!1}}function S8(n){let e=Vt.fromClass(class{constructor(t){this.view=t,this.placeholder=n?je.set([je.widget({widget:new v8(n),side:1}).range(0)]):je.none}get decorations(){return this.view.state.doc.length?je.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,Oe.contentAttributes.of({"aria-placeholder":n})]:e}const sO=2e3;function w8(n,e,t){let i=Math.min(e.line,t.line),s=Math.max(e.line,t.line),a=[];if(e.off>sO||t.off>sO||e.col<0||t.col<0){let o=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let f=i;f<=s;f++){let h=n.doc.line(f);h.length<=c&&a.push(fe.range(h.from+o,h.to+c))}}else{let o=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let f=i;f<=s;f++){let h=n.doc.line(f),m=$0(h.text,o,n.tabSize,!0);if(m<0)a.push(fe.cursor(h.to));else{let g=$0(h.text,c,n.tabSize);a.push(fe.range(h.from+m,h.from+g))}}}return a}function A8(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function kS(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),s=t-i.from,a=s>sO?-1:s==i.length?A8(n,e.clientX):fo(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:a,off:s}}function C8(n,e){let t=kS(n,e),i=n.state.selection;return t?{update(s){if(s.docChanged){let a=s.changes.mapPos(s.startState.doc.line(t.line).from),o=s.state.doc.lineAt(a);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(s.changes)}},get(s,a,o){let c=kS(n,s);if(!c)return i;let f=w8(n.state,t,c);return f.length?o?fe.create(f.concat(i.ranges)):fe.create(f):i}}:null}function k8(n){let e=(t=>t.altKey&&t.button==0);return Oe.mouseSelectionStyle.of((t,i)=>e(i)?C8(t,i):null)}const T8={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},E8={style:"cursor: crosshair"};function R8(n={}){let[e,t]=T8[n.key||"Alt"],i=Vt.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[i,Oe.contentAttributes.of(s=>{var a;return!((a=s.plugin(i))===null||a===void 0)&&a.isDown?E8:null})]}const oh="-10000px";class UC{constructor(e,t,i,s){this.facet=t,this.createTooltipView=i,this.removeTooltipView=s,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let a=null;this.tooltipViews=this.tooltips.map(o=>a=i(o,a))}update(e,t){var i;let s=e.state.facet(this.facet),a=s.filter(f=>f);if(s===this.input){for(let f of this.tooltipViews)f.update&&f.update(e);return!1}let o=[],c=t?[]:null;for(let f=0;f<a.length;f++){let h=a[f],m=-1;if(h){for(let g=0;g<this.tooltips.length;g++){let x=this.tooltips[g];x&&x.create==h.create&&(m=g)}if(m<0)o[f]=this.createTooltipView(h,f?o[f-1]:null),c&&(c[f]=!!h.above);else{let g=o[f]=this.tooltipViews[m];c&&(c[f]=t[m]),g.update&&g.update(e)}}}for(let f of this.tooltipViews)o.indexOf(f)<0&&(this.removeTooltipView(f),(i=f.destroy)===null||i===void 0||i.call(f));return t&&(c.forEach((f,h)=>t[h]=f),t.length=c.length),this.input=s,this.tooltips=a,this.tooltipViews=o,!0}}function Q8(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Ug=ye.define({combine:n=>{var e,t,i;return{position:ve.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Q8}}}),TS=new WeakMap,l1=Vt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Ug);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new UC(n,o1,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Ug);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",t.dom.appendChild(s)}return t.dom.style.position=this.position,t.dom.style.top=oh,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(ve.safari){let o=a.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else t=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(n=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),s=i1(this.view);return{visible:{left:i.left+s.left,top:i.top+s.top,right:i.right-s.right,bottom:i.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,o)=>{let c=this.manager.tooltipViews[o];return c.getCoords?c.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(Ug).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:i,scaleX:s,scaleY:a}=n,o=[];for(let c=0;c<this.manager.tooltips.length;c++){let f=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:m}=h,g=n.pos[c],x=n.size[c];if(!g||f.clip!==!1&&(g.bottom<=Math.max(t.top,i.top)||g.top>=Math.min(t.bottom,i.bottom)||g.right<Math.max(t.left,i.left)-.1||g.left>Math.min(t.right,i.right)+.1)){m.style.top=oh;continue}let y=f.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,v=y?7:0,S=x.right-x.left,w=(e=TS.get(h))!==null&&e!==void 0?e:x.bottom-x.top,C=h.offset||j8,R=this.view.textDirection==yt.LTR,E=x.width>i.right-i.left?R?i.left:i.right-x.width:R?Math.max(i.left,Math.min(g.left-(y?14:0)+C.x,i.right-S)):Math.min(Math.max(i.left,g.left-S+(y?14:0)-C.x),i.right-S),j=this.above[c];!f.strictSide&&(j?g.top-w-v-C.y<i.top:g.bottom+w+v+C.y>i.bottom)&&j==i.bottom-g.bottom>g.top-i.top&&(j=this.above[c]=!j);let Q=(j?g.top-i.top:i.bottom-g.bottom)-v;if(Q<w&&h.resize!==!1){if(Q<this.view.defaultLineHeight){m.style.top=oh;continue}TS.set(h,w),m.style.height=(w=Q)/a+"px"}else m.style.height&&(m.style.height="");let M=j?g.top-w-v-C.y:g.bottom+v+C.y,k=E+S;if(h.overlap!==!0)for(let $ of o)$.left<k&&$.right>E&&$.top<M+w&&$.bottom>M&&(M=j?$.top-w-2-v:$.bottom+v+2);if(this.position=="absolute"?(m.style.top=(M-n.parent.top)/a+"px",ES(m,(E-n.parent.left)/s)):(m.style.top=M/a+"px",ES(m,E/s)),y){let $=g.left+(R?C.x:-C.x)-(E+14-7);y.style.left=$/s+"px"}h.overlap!==!0&&o.push({left:E,top:M,right:k,bottom:M+w}),m.classList.toggle("cm-tooltip-above",j),m.classList.toggle("cm-tooltip-below",!j),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=oh}},{eventObservers:{scroll(){this.maybeMeasure()}}});function ES(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const N8=Oe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),j8={x:0,y:0},o1=ye.define({enables:[l1,N8]}),ad=ye.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Vd{static create(e){return new Vd(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new UC(e,ad,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let s=i[e];if(s!==void 0){if(t===void 0)t=s;else if(t!==s)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const M8=o1.compute([ad],n=>{let e=n.facet(ad);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Vd.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class P8{constructor(e,t,i,s,a){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.tile.nearest(t.target);if(!i)return;let s,a=1;if(i.isWidget())s=i.posAtStart;else{if(s=e.posAtCoords(t),s==null)return;let c=e.coordsAtPos(s);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let f=e.bidiSpans(e.state.doc.lineAt(s)).find(m=>m.from<=s&&m.to>=s),h=f&&f.dir==yt.RTL?-1:1;a=t.x<c.left?-h:h}let o=this.source(e,s,a);if(o?.then){let c=this.pending={pos:s};o.then(f=>{this.pending==c&&(this.pending=null,f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>Jn(e.state,f,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(l1),t=e?e.manager.tooltips.findIndex(i=>i.create==Vd.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:a}=this;if(s.length&&a&&!_8(a.dom,e)||this.pending){let{pos:o}=s[0]||this.pending,c=(i=(t=s[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:o;(o==c?this.view.posAtCoords(this.lastMove)!=o:!D8(this.view,o,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ch=4;function _8(n,e){let{left:t,right:i,top:s,bottom:a}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let c=o.getBoundingClientRect();s=Math.min(c.top,s),a=Math.max(c.bottom,a)}return e.clientX>=t-ch&&e.clientX<=i+ch&&e.clientY>=s-ch&&e.clientY<=a+ch}function D8(n,e,t,i,s,a){let o=n.scrollDOM.getBoundingClientRect(),c=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>i||o.right<i||o.top>s||Math.min(o.bottom,c)<s)return!1;let f=n.posAtCoords({x:i,y:s},!1);return f>=e&&f<=t}function $8(n,e={}){let t=De.define(),i=hn.define({create(){return[]},update(s,a){if(s.length&&(e.hideOnChange&&(a.docChanged||a.selection)?s=[]:e.hideOn&&(s=s.filter(o=>!e.hideOn(a,o))),a.docChanged)){let o=[];for(let c of s){let f=a.changes.mapPos(c.pos,-1,vn.TrackDel);if(f!=null){let h=Object.assign(Object.create(null),c);h.pos=f,h.end!=null&&(h.end=a.changes.mapPos(h.end)),o.push(h)}}s=o}for(let o of a.effects)o.is(t)&&(s=o.value),o.is(L8)&&(s=[]);return s},provide:s=>ad.from(s)});return{active:i,extension:[i,Vt.define(s=>new P8(s,n,i,t,e.hoverTime||300)),M8]}}function XC(n,e){let t=n.plugin(l1);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const L8=De.define(),RS=ye.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Jc(n,e){let t=n.plugin(IC),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const IC=Vt.fromClass(class{constructor(n){this.input=n.state.facet(eu),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(RS);this.top=new uh(n,!0,e.topContainer),this.bottom=new uh(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(RS);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new uh(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new uh(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(eu);if(t!=this.input){let i=t.filter(f=>f),s=[],a=[],o=[],c=[];for(let f of i){let h=this.specs.indexOf(f),m;h<0?(m=f(n.view),c.push(m)):(m=this.panels[h],m.update&&m.update(n)),s.push(m),(m.top?a:o).push(m)}this.specs=i,this.panels=s,this.top.sync(a),this.bottom.sync(o);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Oe.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class uh{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=QS(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=QS(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function QS(n){let e=n.nextSibling;return n.remove(),e}const eu=ye.define({enables:IC});class pr extends ia{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}pr.prototype.elementClass="";pr.prototype.toDOM=void 0;pr.prototype.mapMode=vn.TrackBefore;pr.prototype.startSide=pr.prototype.endSide=-1;pr.prototype.point=!0;const Mh=ye.define(),z8=ye.define(),B8={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Fe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},jc=ye.define();function Z8(n){return[YC(),jc.of({...B8,...n})]}const NS=ye.define({combine:n=>n.some(e=>e)});function YC(n){return[U8]}const U8=Vt.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(jc).map(e=>new MS(n,e)),this.fixed=!n.state.facet(NS);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(NS)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Fe.iter(this.view.state.facet(Mh),this.view.viewport.from),i=[],s=this.gutters.map(a=>new X8(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(a.type)){let o=!0;for(let c of a.type)if(c.type==Sn.Text&&o){rO(t,i,c.from);for(let f of s)f.line(this.view,c,i);o=!1}else if(c.widget)for(let f of s)f.widget(this.view,c)}else if(a.type==Sn.Text){rO(t,i,a.from);for(let o of s)o.line(this.view,a,i)}else if(a.widget)for(let o of s)o.widget(this.view,a);for(let a of s)a.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(jc),t=n.state.facet(jc),i=n.docChanged||n.heightChanged||n.viewportChanged||!Fe.eq(n.startState.facet(Mh),n.state.facet(Mh),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let a of t){let o=e.indexOf(a);o<0?s.push(new MS(this.view,a)):(this.gutters[o].update(n),s.push(this.gutters[o]))}for(let a of this.gutters)a.dom.remove(),s.indexOf(a)<0&&a.destroy();for(let a of s)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>Oe.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==yt.LTR?{left:i,right:s}:{right:i,left:s}})});function jS(n){return Array.isArray(n)?n:[n]}function rO(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class X8{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Fe.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,a=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==s.elements.length){let c=new VC(e,o,a,i);s.elements.push(c),s.dom.appendChild(c.dom)}else s.elements[this.i].update(e,o,a,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];rO(this.cursor,s,t.from),i.length&&(s=s.concat(i));let a=this.gutter.config.lineMarker(e,t,s);a&&s.unshift(a);let o=this.gutter;s.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),s=i?[i]:null;for(let a of e.state.facet(z8)){let o=a(e,t.widget,t);o&&(s||(s=[])).push(o)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class MS{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let a=s.target,o;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let f=a.getBoundingClientRect();o=(f.top+f.bottom)/2}else o=s.clientY;let c=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,c,s)&&s.preventDefault()});this.markers=jS(t.markers(e)),t.initialSpacer&&(this.spacer=new VC(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=jS(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!Fe.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class VC{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),I8(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let a=0,o=0;;){let c=o,f=a<t.length?t[a++]:null,h=!1;if(f){let m=f.elementClass;m&&(i+=" "+m);for(let g=o;g<this.markers.length;g++)if(this.markers[g].compare(f)){c=g,h=!0;break}}else c=this.markers.length;for(;o<c;){let m=this.markers[o++];if(m.toDOM){m.destroy(s);let g=s.nextSibling;s.remove(),s=g}}if(!f)break;f.toDOM&&(h?s=s.nextSibling:this.dom.insertBefore(f.toDOM(e),s)),h&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function I8(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const Y8=ye.define(),V8=ye.define(),Bl=ye.define({combine(n){return Is(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let a=i[s],o=t[s];i[s]=a?(c,f,h)=>a(c,f,h)||o(c,f,h):o}return i}})}});class Xg extends pr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ig(n,e){return n.state.facet(Bl).formatNumber(e,n.state)}const q8=jc.compute([Bl],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Y8)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new Xg(Ig(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let s of e.state.facet(V8)){let a=s(e,t,i);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(Bl)!=e.state.facet(Bl),initialSpacer(e){return new Xg(Ig(e,PS(e.state.doc.lines)))},updateSpacer(e,t){let i=Ig(t.view,PS(t.view.state.doc.lines));return i==e.number?e:new Xg(i)},domEventHandlers:n.facet(Bl).domEventHandlers,side:"before"}));function H8(n={}){return[Bl.of(n),YC(),q8]}function PS(n){let e=9;for(;e<n;)e=e*10+9;return e}const G8=new class extends pr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},W8=Mh.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>t&&(t=s,e.push(G8.range(s)))}return Fe.of(e)});function F8(){return W8}const qC=1024;let K8=0;class Yg{constructor(e,t){this.from=e,this.to=t}}class Ie{constructor(e={}){this.id=K8++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ai.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Ie.closedBy=new Ie({deserialize:n=>n.split(" ")});Ie.openedBy=new Ie({deserialize:n=>n.split(" ")});Ie.group=new Ie({deserialize:n=>n.split(" ")});Ie.isolate=new Ie({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ie.contextHash=new Ie({perNode:!0});Ie.lookAhead=new Ie({perNode:!0});Ie.mounted=new Ie({perNode:!0});class ld{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Ie.mounted.id]}}const J8=Object.create(null);class ai{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):J8,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new ai(e.name||"",t,e.id,i);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(s)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[a[0].id]=a[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ie.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(Ie.group),a=-1;a<(s?s.length:0);a++){let o=t[a<0?i.name:s[a]];if(o)return o}}}}ai.none=new ai("",Object.create(null),0,8);class c1{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let a of e){let o=a(i);if(o){s||(s=Object.assign({},i.props));let c=o[1],f=o[0];f.combine&&f.id in s&&(c=f.combine(s[f.id],c)),s[f.id]=c}}t.push(s?new ai(i.name,s,i.id,i.flags):i)}return new c1(t)}}const fh=new WeakMap,_S=new WeakMap;var rn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(rn||(rn={}));class Jt{constructor(e,t,i,s,a){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,a&&a.length){this.props=Object.create(null);for(let[o,c]of a)this.props[typeof o=="number"?o:o.id]=c}}toString(){let e=ld.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new lO(this.topNode,e)}cursorAt(e,t=0,i=0){let s=fh.get(this)||this.topNode,a=new lO(s);return a.moveTo(e,t),fh.set(this,a._tree),a}get topNode(){return new ii(this,0,0,null)}resolve(e,t=0){let i=tu(fh.get(this)||this.topNode,e,t,!1);return fh.set(this,i),i}resolveInner(e,t=0){let i=tu(_S.get(this)||this.topNode,e,t,!0);return _S.set(this,i),i}resolveStack(e,t=0){return n7(this,e,t)}iterate(e){let{enter:t,leave:i,from:s=0,to:a=this.length}=e,o=e.mode||0,c=(o&rn.IncludeAnonymous)>0;for(let f=this.cursor(o|rn.IncludeAnonymous);;){let h=!1;if(f.from<=a&&f.to>=s&&(!c&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;h=!0}for(;h&&i&&(c||!f.type.isAnonymous)&&i(f),!f.nextSibling();){if(!f.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:h1(ai.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new Jt(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new Jt(ai.none,t,i,s)))}static build(e){return i7(e)}}Jt.empty=new Jt(ai.none,[],[],0);class u1{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new u1(this.buffer,this.index)}}class la{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return ai.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],a=s.name;if(/\W/.test(a)&&!s.isError&&(a=JSON.stringify(a)),e+=4,i==e)return a;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return a+"("+o.join(",")+")"}findChild(e,t,i,s,a){let{buffer:o}=this,c=-1;for(let f=e;f!=t&&!(HC(a,s,o[f+1],o[f+2])&&(c=f,i>0));f=o[f+3]);return c}slice(e,t,i){let s=this.buffer,a=new Uint16Array(t-e),o=0;for(let c=e,f=0;c<t;){a[f++]=s[c++],a[f++]=s[c++]-i;let h=a[f++]=s[c++]-i;a[f++]=s[c++]-e,o=Math.max(o,h)}return new la(a,o,this.set)}}function HC(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function tu(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof ii&&n.index<0?null:n.parent;if(!o)return n;n=o}let a=i?0:rn.IgnoreOverlays;if(i)for(let o=n,c=o.parent;c;o=c,c=o.parent)o instanceof ii&&o.index<0&&((s=c.enter(e,t,a))===null||s===void 0?void 0:s.from)!=o.from&&(n=c);for(;;){let o=n.enter(e,t,a);if(!o)return n;n=o}}class GC{cursor(e=0){return new lO(this,e)}getChild(e,t=null,i=null){let s=DS(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return DS(this,e,t,i)}resolve(e,t=0){return tu(this,e,t,!1)}resolveInner(e,t=0){return tu(this,e,t,!0)}matchContext(e){return aO(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(i=t,t=s.prevSibling):t=s}return i}get node(){return this}get next(){return this.parent}}class ii extends GC{constructor(e,t,i,s){super(),this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,a=0){for(let o=this;;){for(let{children:c,positions:f}=o._tree,h=t>0?c.length:-1;e!=h;e+=t){let m=c[e],g=f[e]+o.from;if(HC(s,i,g,g+m.length)){if(m instanceof la){if(a&rn.ExcludeBuffers)continue;let x=m.findChild(0,m.buffer.length,t,i-g,s);if(x>-1)return new _s(new e7(o,m,e,g),null,x)}else if(a&rn.IncludeAnonymous||!m.type.isAnonymous||f1(m)){let x;if(!(a&rn.IgnoreMounts)&&(x=ld.get(m))&&!x.overlay)return new ii(x.tree,g,e,o);let y=new ii(m,g,e,o);return a&rn.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(t<0?m.children.length-1:0,t,i,s)}}}if(a&rn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let s;if(!(i&rn.IgnoreOverlays)&&(s=ld.get(this._tree))&&s.overlay){let a=e-this.from;for(let{from:o,to:c}of s.overlay)if((t>0?o<=a:o<a)&&(t<0?c>=a:c>a))return new ii(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function DS(n,e,t,i){let s=n.cursor(),a=[];if(!s.firstChild())return a;if(t!=null){for(let o=!1;!o;)if(o=s.type.is(t),!s.nextSibling())return a}for(;;){if(i!=null&&s.type.is(i))return a;if(s.type.is(e)&&a.push(s.node),!s.nextSibling())return i==null?a:[]}}function aO(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class e7{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class _s extends GC{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return a<0?null:new _s(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&rn.ExcludeBuffers)return null;let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return a<0?null:new _s(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new _s(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new _s(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,a=i.buffer[this.index+3];if(a>s){let o=i.buffer[this.index+1];e.push(i.slice(s,a,o)),t.push(0)}return new Jt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function WC(n){if(!n.length)return null;let e=0,t=n[0];for(let a=1;a<n.length;a++){let o=n[a];(o.from>t.from||o.to<t.to)&&(t=o,e=a)}let i=t instanceof ii&&t.index<0?null:t.parent,s=n.slice();return i?s[e]=i:s.splice(e,1),new t7(s,t)}class t7{constructor(e,t){this.heads=e,this.node=t}get next(){return WC(this.heads)}}function n7(n,e,t){let i=n.resolveInner(e,t),s=null;for(let a=i instanceof ii?i:i.context.parent;a;a=a.parent)if(a.index<0){let o=a.parent;(s||(s=[i])).push(o.resolve(e,t)),a=o}else{let o=ld.get(a.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let c=new ii(o.tree,o.overlay[0].from+a.from,-1,a);(s||(s=[i])).push(tu(c,e,t,!1))}}return s?WC(s):i}class lO{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ii)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof ii?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,a=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&rn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&rn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(s.buffer.buffer[a+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let a=t+e,o=e<0?-1:i._tree.children.length;a!=o;a+=e){let c=i._tree.children[a];if(this.mode&rn.IncludeAnonymous||c instanceof la||!c.type.isAnonymous||f1(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,a=this.stack.length;a>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;t=o,i=a+1;break e}s=this.stack[--a]}for(let s=i;s<this.stack.length;s++)t=new _s(this.buffer,t,this.stack[s]);return this.bufferNode=new _s(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return aO(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,a=this.stack.length-1;s>=0;a--){if(a<0)return aO(this._tree,e,s);let o=i[t.buffer[this.stack[a]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function f1(n){return n.children.some(e=>e instanceof la||!e.type.isAnonymous||f1(e))}function i7(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=qC,reused:a=[],minRepeatType:o=i.types.length}=n,c=Array.isArray(t)?new u1(t,t.length):t,f=i.types,h=0,m=0;function g(Q,M,k,$,D,L){let{id:V,start:z,end:I,size:H}=c,F=m,P=h;if(H<0)if(c.next(),H==-1){let _=a[V];k.push(_),$.push(z-Q);return}else if(H==-3){h=V;return}else if(H==-4){m=V;return}else throw new RangeError(`Unrecognized record size: ${H}`);let Z=f[V],K,ie,le=z-Q;if(I-z<=s&&(ie=w(c.pos-M,D))){let _=new Uint16Array(ie.size-ie.skip),X=c.pos-ie.size,te=_.length;for(;c.pos>X;)te=C(ie.start,_,te);K=new la(_,I-ie.start,i),le=ie.start-Q}else{let _=c.pos-H;c.next();let X=[],te=[],ce=V>=o?V:-1,me=0,be=I;for(;c.pos>_;)ce>=0&&c.id==ce&&c.size>=0?(c.end<=be-s&&(v(X,te,z,me,c.end,be,ce,F,P),me=X.length,be=c.end),c.next()):L>2500?x(z,_,X,te):g(z,_,X,te,ce,L+1);if(ce>=0&&me>0&&me<X.length&&v(X,te,z,me,z,be,ce,F,P),X.reverse(),te.reverse(),ce>-1&&me>0){let Ce=y(Z,P);K=h1(Z,X,te,0,X.length,0,I-z,Ce,Ce)}else K=S(Z,X,te,I-z,F-I,P)}k.push(K),$.push(le)}function x(Q,M,k,$){let D=[],L=0,V=-1;for(;c.pos>M;){let{id:z,start:I,end:H,size:F}=c;if(F>4)c.next();else{if(V>-1&&I<V)break;V<0&&(V=H-s),D.push(z,I,H),L++,c.next()}}if(L){let z=new Uint16Array(L*4),I=D[D.length-2];for(let H=D.length-3,F=0;H>=0;H-=3)z[F++]=D[H],z[F++]=D[H+1]-I,z[F++]=D[H+2]-I,z[F++]=F;k.push(new la(z,D[2]-I,i)),$.push(I-Q)}}function y(Q,M){return(k,$,D)=>{let L=0,V=k.length-1,z,I;if(V>=0&&(z=k[V])instanceof Jt){if(!V&&z.type==Q&&z.length==D)return z;(I=z.prop(Ie.lookAhead))&&(L=$[V]+z.length+I)}return S(Q,k,$,D,L,M)}}function v(Q,M,k,$,D,L,V,z,I){let H=[],F=[];for(;Q.length>$;)H.push(Q.pop()),F.push(M.pop()+k-D);Q.push(S(i.types[V],H,F,L-D,z-L,I)),M.push(D-k)}function S(Q,M,k,$,D,L,V){if(L){let z=[Ie.contextHash,L];V=V?[z].concat(V):[z]}if(D>25){let z=[Ie.lookAhead,D];V=V?[z].concat(V):[z]}return new Jt(Q,M,k,$,V)}function w(Q,M){let k=c.fork(),$=0,D=0,L=0,V=k.end-s,z={size:0,start:0,skip:0};e:for(let I=k.pos-Q;k.pos>I;){let H=k.size;if(k.id==M&&H>=0){z.size=$,z.start=D,z.skip=L,L+=4,$+=4,k.next();continue}let F=k.pos-H;if(H<0||F<I||k.start<V)break;let P=k.id>=o?4:0,Z=k.start;for(k.next();k.pos>F;){if(k.size<0)if(k.size==-3||k.size==-4)P+=4;else break e;else k.id>=o&&(P+=4);k.next()}D=Z,$+=H,L+=P}return(M<0||$==Q)&&(z.size=$,z.start=D,z.skip=L),z.size>4?z:void 0}function C(Q,M,k){let{id:$,start:D,end:L,size:V}=c;if(c.next(),V>=0&&$<o){let z=k;if(V>4){let I=c.pos-(V-4);for(;c.pos>I;)k=C(Q,M,k)}M[--k]=z,M[--k]=L-Q,M[--k]=D-Q,M[--k]=$}else V==-3?h=$:V==-4&&(m=$);return k}let R=[],E=[];for(;c.pos>0;)g(n.start||0,n.bufferStart||0,R,E,-1,0);let j=(e=n.length)!==null&&e!==void 0?e:R.length?E[0]+R[0].length:0;return new Jt(f[n.topID],R.reverse(),E.reverse(),j)}const $S=new WeakMap;function Ph(n,e){if(!n.isAnonymous||e instanceof la||e.type!=n)return 1;let t=$S.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof Jt)){t=1;break}t+=Ph(n,i)}$S.set(e,t)}return t}function h1(n,e,t,i,s,a,o,c,f){let h=0;for(let v=i;v<s;v++)h+=Ph(n,e[v]);let m=Math.ceil(h*1.5/8),g=[],x=[];function y(v,S,w,C,R){for(let E=w;E<C;){let j=E,Q=S[E],M=Ph(n,v[E]);for(E++;E<C;E++){let k=Ph(n,v[E]);if(M+k>=m)break;M+=k}if(E==j+1){if(M>m){let k=v[j];y(k.children,k.positions,0,k.children.length,S[j]+R);continue}g.push(v[j])}else{let k=S[E-1]+v[E-1].length-Q;g.push(h1(n,v,S,j,E,Q,k,null,f))}x.push(Q+R-a)}}return y(e,t,i,s,0),(c||f)(g,x,o)}class s7{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof _s?this.setBuffer(e.context.buffer,e.index,t):e instanceof ii&&this.map.set(e.tree,t)}get(e){return e instanceof _s?this.getBuffer(e.context.buffer,e.index):e instanceof ii?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Za{constructor(e,t,i,s,a=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(a?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new Za(0,e.length,e,0,!1,i)];for(let a of t)a.to>e.length&&s.push(a);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],a=1,o=e.length?e[0]:null;for(let c=0,f=0,h=0;;c++){let m=c<t.length?t[c]:null,g=m?m.fromA:1e9;if(g-f>=i)for(;o&&o.from<g;){let x=o;if(f>=x.from||g<=x.to||h){let y=Math.max(x.from,f)-h,v=Math.min(x.to,g)-h;x=y>=v?null:new Za(y,v,x.tree,x.offset+h,c>0,!!m)}if(x&&s.push(x),o.to>g)break;o=a<e.length?e[a++]:null}if(!m)break;f=m.toA,h=m.toA-m.toB}return s}}class FC{startParse(e,t,i){return typeof e=="string"&&(e=new r7(e)),i=i?i.length?i.map(s=>new Yg(s.from,s.to)):[new Yg(0,0)]:[new Yg(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let a=s.advance();if(a)return a}}}class r7{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ie({perNode:!0});let a7=0;class Zi{constructor(e,t,i,s){this.name=e,this.set=t,this.base=i,this.modified=s,this.id=a7++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof Zi&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let s=new Zi(i,[],null,[]);if(s.set.push(s),t)for(let a of t.set)s.set.push(a);return s}static defineModifier(e){let t=new od(e);return i=>i.modified.indexOf(t)>-1?i:od.get(i.base||i,i.modified.concat(t).sort((s,a)=>s.id-a.id))}}let l7=0;class od{constructor(e){this.name=e,this.instances=[],this.id=l7++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(c=>c.base==e&&o7(t,c.modified));if(i)return i;let s=[],a=new Zi(e.name,s,e,t);for(let c of t)c.instances.push(a);let o=c7(t);for(let c of e.set)if(!c.modified.length)for(let f of o)s.push(od.get(c,f));return a}}function o7(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function c7(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function KC(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let a=[],o=2,c=s;for(let g=0;;){if(c=="..."&&g>0&&g+3==s.length){o=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!x)throw new RangeError("Invalid path: "+s);if(a.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),g+=x[0].length,g==s.length)break;let y=s[g++];if(g==s.length&&y=="!"){o=0;break}if(y!="/")throw new RangeError("Invalid path: "+s);c=s.slice(g)}let f=a.length-1,h=a[f];if(!h)throw new RangeError("Invalid path: "+s);let m=new nu(i,o,f>0?a.slice(0,f):null);e[h]=m.sort(e[h])}}return JC.add(e)}const JC=new Ie({combine(n,e){let t,i,s;for(;n||e;){if(!n||e&&n.depth>=e.depth?(s=e,e=e.next):(s=n,n=n.next),t&&t.mode==s.mode&&!s.context&&!t.context)continue;let a=new nu(s.tags,s.mode,s.context);t?t.next=a:i=a,t=a}return i}});class nu{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}nu.empty=new nu([],2,null);function ek(n,e){let t=Object.create(null);for(let a of n)if(!Array.isArray(a.tag))t[a.tag.id]=a.class;else for(let o of a.tag)t[o.id]=a.class;let{scope:i,all:s=null}=e||{};return{style:a=>{let o=s;for(let c of a)for(let f of c.set){let h=t[f.id];if(h){o=o?o+" "+h:h;break}}return o},scope:i}}function u7(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function f7(n,e,t,i=0,s=n.length){let a=new h7(i,Array.isArray(e)?e:[e],t);a.highlightRange(n.cursor(),i,s,"",a.highlighters),a.flush(s)}class h7{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,a){let{type:o,from:c,to:f}=e;if(c>=i||f<=t)return;o.isTop&&(a=this.highlighters.filter(y=>!y.scope||y.scope(o)));let h=s,m=d7(e)||nu.empty,g=u7(a,m.tags);if(g&&(h&&(h+=" "),h+=g,m.mode==1&&(s+=(s?" ":"")+g)),this.startSpan(Math.max(t,c),h),m.opaque)return;let x=e.tree&&e.tree.prop(Ie.mounted);if(x&&x.overlay){let y=e.node.enter(x.overlay[0].from+c,1),v=this.highlighters.filter(w=>!w.scope||w.scope(x.tree.type)),S=e.firstChild();for(let w=0,C=c;;w++){let R=w<x.overlay.length?x.overlay[w]:null,E=R?R.from+c:f,j=Math.max(t,C),Q=Math.min(i,E);if(j<Q&&S)for(;e.from<Q&&(this.highlightRange(e,j,Q,s,a),this.startSpan(Math.min(Q,e.to),h),!(e.to>=E||!e.nextSibling())););if(!R||E>i)break;C=R.to+c,C>t&&(this.highlightRange(y.cursor(),Math.max(t,R.from+c),Math.min(i,C),"",v),this.startSpan(Math.min(i,C),h))}S&&e.parent()}else if(e.firstChild()){x&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,a),this.startSpan(Math.min(i,e.to),h)}while(e.nextSibling());e.parent()}}}function d7(n){let e=n.type.prop(JC);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const ge=Zi.define,hh=ge(),Ur=ge(),LS=ge(Ur),zS=ge(Ur),Xr=ge(),dh=ge(Xr),Vg=ge(Xr),Ns=ge(),Qa=ge(Ns),Rs=ge(),Qs=ge(),oO=ge(),uc=ge(oO),mh=ge(),q={comment:hh,lineComment:ge(hh),blockComment:ge(hh),docComment:ge(hh),name:Ur,variableName:ge(Ur),typeName:LS,tagName:ge(LS),propertyName:zS,attributeName:ge(zS),className:ge(Ur),labelName:ge(Ur),namespace:ge(Ur),macroName:ge(Ur),literal:Xr,string:dh,docString:ge(dh),character:ge(dh),attributeValue:ge(dh),number:Vg,integer:ge(Vg),float:ge(Vg),bool:ge(Xr),regexp:ge(Xr),escape:ge(Xr),color:ge(Xr),url:ge(Xr),keyword:Rs,self:ge(Rs),null:ge(Rs),atom:ge(Rs),unit:ge(Rs),modifier:ge(Rs),operatorKeyword:ge(Rs),controlKeyword:ge(Rs),definitionKeyword:ge(Rs),moduleKeyword:ge(Rs),operator:Qs,derefOperator:ge(Qs),arithmeticOperator:ge(Qs),logicOperator:ge(Qs),bitwiseOperator:ge(Qs),compareOperator:ge(Qs),updateOperator:ge(Qs),definitionOperator:ge(Qs),typeOperator:ge(Qs),controlOperator:ge(Qs),punctuation:oO,separator:ge(oO),bracket:uc,angleBracket:ge(uc),squareBracket:ge(uc),paren:ge(uc),brace:ge(uc),content:Ns,heading:Qa,heading1:ge(Qa),heading2:ge(Qa),heading3:ge(Qa),heading4:ge(Qa),heading5:ge(Qa),heading6:ge(Qa),contentSeparator:ge(Ns),list:ge(Ns),quote:ge(Ns),emphasis:ge(Ns),strong:ge(Ns),link:ge(Ns),monospace:ge(Ns),strikethrough:ge(Ns),inserted:ge(),deleted:ge(),changed:ge(),invalid:ge(),meta:mh,documentMeta:ge(mh),annotation:ge(mh),processingInstruction:ge(mh),definition:Zi.defineModifier("definition"),constant:Zi.defineModifier("constant"),function:Zi.defineModifier("function"),standard:Zi.defineModifier("standard"),local:Zi.defineModifier("local"),special:Zi.defineModifier("special")};for(let n in q){let e=q[n];e instanceof Zi&&(e.name=n)}ek([{tag:q.link,class:"tok-link"},{tag:q.heading,class:"tok-heading"},{tag:q.emphasis,class:"tok-emphasis"},{tag:q.strong,class:"tok-strong"},{tag:q.keyword,class:"tok-keyword"},{tag:q.atom,class:"tok-atom"},{tag:q.bool,class:"tok-bool"},{tag:q.url,class:"tok-url"},{tag:q.labelName,class:"tok-labelName"},{tag:q.inserted,class:"tok-inserted"},{tag:q.deleted,class:"tok-deleted"},{tag:q.literal,class:"tok-literal"},{tag:q.string,class:"tok-string"},{tag:q.number,class:"tok-number"},{tag:[q.regexp,q.escape,q.special(q.string)],class:"tok-string2"},{tag:q.variableName,class:"tok-variableName"},{tag:q.local(q.variableName),class:"tok-variableName tok-local"},{tag:q.definition(q.variableName),class:"tok-variableName tok-definition"},{tag:q.special(q.variableName),class:"tok-variableName2"},{tag:q.definition(q.propertyName),class:"tok-propertyName tok-definition"},{tag:q.typeName,class:"tok-typeName"},{tag:q.namespace,class:"tok-namespace"},{tag:q.className,class:"tok-className"},{tag:q.macroName,class:"tok-macroName"},{tag:q.propertyName,class:"tok-propertyName"},{tag:q.operator,class:"tok-operator"},{tag:q.comment,class:"tok-comment"},{tag:q.meta,class:"tok-meta"},{tag:q.invalid,class:"tok-invalid"},{tag:q.punctuation,class:"tok-punctuation"}]);var qg;const Zl=new Ie;function tk(n){return ye.define({combine:n?e=>e.concat(n):void 0})}const d1=new Ie;class us{constructor(e,t,i=[],s=""){this.data=e,this.name=s,et.prototype.hasOwnProperty("tree")||Object.defineProperty(et.prototype,"tree",{get(){return on(this)}}),this.parser=t,this.extension=[oa.of(this),et.languageData.of((a,o,c)=>{let f=BS(a,o,c),h=f.type.prop(Zl);if(!h)return[];let m=a.facet(h),g=f.type.prop(d1);if(g){let x=f.resolve(o-f.from,c);for(let y of g)if(y.test(x,a)){let v=a.facet(y.facet);return y.type=="replace"?v:v.concat(m)}}return m})].concat(i)}isActiveAt(e,t,i=-1){return BS(e,t,i).type.prop(Zl)==this.data}findRegions(e){let t=e.facet(oa);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(a,o)=>{if(a.prop(Zl)==this.data){i.push({from:o,to:o+a.length});return}let c=a.prop(Ie.mounted);if(c){if(c.tree.prop(Zl)==this.data){if(c.overlay)for(let f of c.overlay)i.push({from:f.from+o,to:f.to+o});else i.push({from:o,to:o+a.length});return}else if(c.overlay){let f=i.length;if(s(c.tree,c.overlay[0].from+o),i.length>f)return}}for(let f=0;f<a.children.length;f++){let h=a.children[f];h instanceof Jt&&s(h,a.positions[f]+o)}};return s(on(e),0),i}get allowsNesting(){return!0}}us.setState=De.define();function BS(n,e,t){let i=n.facet(oa),s=on(n).topNode;if(!i||i.allowsNesting)for(let a=s;a;a=a.enter(e,t,rn.ExcludeBuffers))a.type.isTop&&(s=a);return s}class cd extends us{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=tk(e.languageData);return new cd(t,e.parser.configure({props:[Zl.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new cd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function on(n){let e=n.field(us.state,!1);return e?e.tree:Jt.empty}class m7{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let fc=null;class ud{constructor(e,t,i=[],s,a,o,c,f){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=a,this.viewport=o,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ud(e,t,[],Jt.empty,0,i,[],null)}startParse(){return this.parser.startParse(new m7(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Jt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Za.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Za.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=fc;fc=this;try{return e()}finally{fc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ZS(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:a,viewport:o,skipped:c}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((h,m,g,x)=>f.push({fromA:h,toA:m,fromB:g,toB:x})),i=Za.applyChanges(i,f),s=Jt.empty,a=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let m=e.mapPos(h.from,1),g=e.mapPos(h.to,-1);m<g&&c.push({from:m,to:g})}}}return new ud(this.parser,t,i,s,a,o,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:a}=this.skipped[i];s<e.to&&a>e.from&&(this.fragments=ZS(this.fragments,s,a),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends FC{createParse(t,i,s){let a=s[0].from,o=s[s.length-1].to;return{parsedPos:a,advance(){let f=fc;if(f){for(let h of s)f.tempSkipped.push(h);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=o,new Jt(ai.none,[],[],o-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return fc}}function ZS(n,e,t){return Za.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class ro{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new ro(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ud.create(e.facet(oa).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new ro(i)}}us.state=hn.define({create:ro.init,update(n,e){for(let t of e.effects)if(t.is(us.setState))return t.value;return e.startState.facet(oa)!=e.state.facet(oa)?ro.init(e.state):n.apply(e)}});let nk=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(nk=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Hg=typeof navigator<"u"&&(!((qg=navigator.scheduling)===null||qg===void 0)&&qg.isInputPending)?()=>navigator.scheduling.isInputPending():null,p7=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(us.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(us.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=nk(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,a=i.field(us.state);if(a.tree==a.context.tree&&a.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Hg?Math.max(25,e.timeRemaining()-5):1e9),c=a.context.treeLen<s&&i.doc.length>s+1e3,f=a.context.work(()=>Hg&&Hg()||Date.now()>o,s+(c?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:us.setState.of(new ro(a.context))})),this.chunkBudget>0&&!(f&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Jn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),oa=ye.define({combine(n){return n.length?n[0]:null},enables:n=>[us.state,p7,Oe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class g7{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const O7=ye.define(),wu=ye.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function fd(n){let e=n.facet(wu);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function iu(n,e){let t="",i=n.tabSize,s=n.facet(wu)[0];if(s=="	"){for(;e>=i;)t+="	",e-=i;s=" "}for(let a=0;a<e;a++)t+=s;return t}function m1(n,e){n instanceof et&&(n=new qd(n));for(let i of n.state.facet(O7)){let s=i(n,e);if(s!==void 0)return s}let t=on(n.state);return t.length>=e?x7(n,t,e):null}class qd{constructor(e,t={}){this.state=e,this.options=t,this.unit=fd(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:a}=this.options;return s!=null&&s>=i.from&&s<=i.to?a&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(e,t);return i.slice(e-s,Math.min(i.length,e+100-s))}column(e,t=1){let{text:i,from:s}=this.lineAt(e,t),a=this.countColumn(i,e-s),o=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return o>-1&&(a+=o-this.countColumn(i,i.search(/\S|$/))),a}countColumn(e,t=e.length){return fo(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:s}=this.lineAt(e,t),a=this.options.overrideIndentation;if(a){let o=a(s);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ik=new Ie;function x7(n,e,t){let i=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=i.node){let a=[];for(let o=s;o&&!(o.from<i.node.from||o.to>i.node.to||o.from==i.node.from&&o.type==i.node.type);o=o.parent)a.push(o);for(let o=a.length-1;o>=0;o--)i={node:a[o],next:i}}return sk(i,n,t)}function sk(n,e,t){for(let i=n;i;i=i.next){let s=y7(i.node);if(s)return s(p1.create(e,t,i))}return 0}function b7(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function y7(n){let e=n.type.prop(ik);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(Ie.closedBy))){let s=n.lastChild,a=s&&i.indexOf(s.name)>-1;return o=>rk(o,!0,1,void 0,a&&!b7(o)?s.from:void 0)}return n.parent==null?v7:null}function v7(){return 0}class p1 extends qd{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new p1(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(S7(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return sk(this.context.next,this.base,this.pos)}}function S7(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function w7(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,a=n.state.doc.lineAt(t.from),o=s==null||s<=a.from?a.to:Math.min(a.to,s);for(let c=t.to;;){let f=e.childAfter(c);if(!f||f==i)return null;if(!f.type.isSkipped){if(f.from>=o)return null;let h=/^ */.exec(a.text.slice(t.to-a.from))[0].length;return{from:t.from,to:t.to+h}}c=f.to}}function A7({closing:n,align:e=!0,units:t=1}){return i=>rk(i,e,t,n)}function rk(n,e,t,i,s){let a=n.textAfter,o=a.match(/^\s*/)[0].length,c=i&&a.slice(o,o+i.length)==i||s==n.pos+o,f=e?w7(n):null;return f?c?n.column(f.from):n.column(f.to):n.baseIndent+(c?0:n.unit*t)}const C7=n=>n.baseIndent;function Gg({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const k7=200;function T7(){return et.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,s=t.lineAt(i);if(i>s.from+k7)return n;let a=t.sliceString(s.from,i);if(!e.some(h=>h.test(a)))return n;let{state:o}=n,c=-1,f=[];for(let{head:h}of o.selection.ranges){let m=o.doc.lineAt(h);if(m.from==c)continue;c=m.from;let g=m1(o,m.from);if(g==null)continue;let x=/^\s*/.exec(m.text)[0],y=iu(o,g);x!=y&&f.push({from:m.from,to:m.from+x.length,insert:y})}return f.length?[n,{changes:f,sequential:!0}]:n})}const E7=ye.define(),ak=new Ie;function R7(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function Q7(n,e,t){let i=on(n);if(i.length<t)return null;let s=i.resolveStack(t,1),a=null;for(let o=s;o;o=o.next){let c=o.node;if(c.to<=t||c.from>t)continue;if(a&&c.from<e)break;let f=c.type.prop(ak);if(f&&(c.to<i.length-50||i.length==n.doc.length||!N7(c))){let h=f(c,n);h&&h.from<=t&&h.from>=e&&h.to>t&&(a=h)}}return a}function N7(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function hd(n,e,t){for(let i of n.facet(E7)){let s=i(n,e,t);if(s)return s}return Q7(n,e,t)}function lk(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Hd=De.define({map:lk}),Au=De.define({map:lk});function ok(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Ga=hn.define({create(){return je.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=US(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(Hd)&&!j7(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(fk),s=i?je.replace({widget:new z7(i(e.state,t.value))}):XS;n=n.update({add:[s.range(t.value.from,t.value.to)]})}else t.is(Au)&&(n=n.update({filter:(i,s)=>t.value.from!=i||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=US(n,e.selection.main.head)),n},provide:n=>Oe.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,s)=>{t.push(i,s)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],s=n[t++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(XS.range(i,s))}return je.set(e,!0)}});function US(n,e,t=e){let i=!1;return n.between(e,t,(s,a)=>{s<t&&a>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(s,a)=>s>=t||a<=e}):n}function dd(n,e,t){var i;let s=null;return(i=n.field(Ga,!1))===null||i===void 0||i.between(e,t,(a,o)=>{(!s||s.from>a)&&(s={from:a,to:o})}),s}function j7(n,e,t){let i=!1;return n.between(e,e,(s,a)=>{s==e&&a==t&&(i=!0)}),i}function ck(n,e){return n.field(Ga,!1)?e:e.concat(De.appendConfig.of(hk()))}const M7=n=>{for(let e of ok(n)){let t=hd(n.state,e.from,e.to);if(t)return n.dispatch({effects:ck(n.state,[Hd.of(t),uk(n,t)])}),!0}return!1},P7=n=>{if(!n.state.field(Ga,!1))return!1;let e=[];for(let t of ok(n)){let i=dd(n.state,t.from,t.to);i&&e.push(Au.of(i),uk(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function uk(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return Oe.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const _7=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let s=n.lineBlockAt(i),a=hd(e,s.from,s.to);a&&t.push(Hd.of(a)),i=(a?n.lineBlockAt(a.to):s).to+1}return t.length&&n.dispatch({effects:ck(n.state,t)}),!!t.length},D7=n=>{let e=n.state.field(Ga,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,s)=>{t.push(Au.of({from:i,to:s}))}),n.dispatch({effects:t}),!0},$7=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:M7},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:P7},{key:"Ctrl-Alt-[",run:_7},{key:"Ctrl-Alt-]",run:D7}],L7={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},fk=ye.define({combine(n){return Is(n,L7)}});function hk(n){return[Ga,U7]}function dk(n,e){let{state:t}=n,i=t.facet(fk),s=o=>{let c=n.lineBlockAt(n.posAtDOM(o.target)),f=dd(n.state,c.from,c.to);f&&n.dispatch({effects:Au.of(f)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,s,e);let a=document.createElement("span");return a.textContent=i.placeholderText,a.setAttribute("aria-label",t.phrase("folded code")),a.title=t.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=s,a}const XS=je.replace({widget:new class extends gs{toDOM(n){return dk(n,null)}}});class z7 extends gs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return dk(e,this.value)}}const B7={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Wg extends pr{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Z7(n={}){let e={...B7,...n},t=new Wg(e,!0),i=new Wg(e,!1),s=Vt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(oa)!=o.state.facet(oa)||o.startState.field(Ga,!1)!=o.state.field(Ga,!1)||on(o.startState)!=on(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let c=new dr;for(let f of o.viewportLineBlocks){let h=dd(o.state,f.from,f.to)?i:hd(o.state,f.from,f.to)?t:null;h&&c.add(f.from,f.from,h)}return c.finish()}}),{domEventHandlers:a}=e;return[s,Z8({class:"cm-foldGutter",markers(o){var c;return((c=o.plugin(s))===null||c===void 0?void 0:c.markers)||Fe.empty},initialSpacer(){return new Wg(e,!1)},domEventHandlers:{...a,click:(o,c,f)=>{if(a.click&&a.click(o,c,f))return!0;let h=dd(o.state,c.from,c.to);if(h)return o.dispatch({effects:Au.of(h)}),!0;let m=hd(o.state,c.from,c.to);return m?(o.dispatch({effects:Hd.of(m)}),!0):!1}}}),hk()]}const U7=Oe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Cu{constructor(e,t){this.specs=e;let i;function s(c){let f=sa.newName();return(i||(i=Object.create(null)))["."+f]=c,f}const a=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,o=t.scope;this.scope=o instanceof us?c=>c.prop(Zl)==o.data:o?c=>c==o:void 0,this.style=ek(e.map(c=>({tag:c.tag,class:c.class||s(Object.assign({},c,{tag:null}))})),{all:a}).style,this.module=i?new sa(i):null,this.themeType=t.themeType}static define(e,t){return new Cu(e,t||{})}}const cO=ye.define(),mk=ye.define({combine(n){return n.length?[n[0]]:null}});function Fg(n){let e=n.facet(cO);return e.length?e:n.facet(mk)}function pk(n,e){let t=[I7],i;return n instanceof Cu&&(n.module&&t.push(Oe.styleModule.of(n.module)),i=n.themeType),e?.fallback?t.push(mk.of(n)):i?t.push(cO.computeN([Oe.darkTheme],s=>s.facet(Oe.darkTheme)==(i=="dark")?[n]:[])):t.push(cO.of(n)),t}class X7{constructor(e){this.markCache=Object.create(null),this.tree=on(e.state),this.decorations=this.buildDeco(e,Fg(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=on(e.state),i=Fg(e.state),s=i!=Fg(e.startState),{viewport:a}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<a.to&&!s&&t.type==this.tree.type&&o>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=a.to)}buildDeco(e,t){if(!t||!this.tree.length)return je.none;let i=new dr;for(let{from:s,to:a}of e.visibleRanges)f7(this.tree,t,(o,c,f)=>{i.add(o,c,this.markCache[f]||(this.markCache[f]=je.mark({class:f})))},s,a);return i.finish()}}const I7=ua.high(Vt.fromClass(X7,{decorations:n=>n.decorations})),Y7=Cu.define([{tag:q.meta,color:"#404740"},{tag:q.link,textDecoration:"underline"},{tag:q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strong,fontWeight:"bold"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.keyword,color:"#708"},{tag:[q.atom,q.bool,q.url,q.contentSeparator,q.labelName],color:"#219"},{tag:[q.literal,q.inserted],color:"#164"},{tag:[q.string,q.deleted],color:"#a11"},{tag:[q.regexp,q.escape,q.special(q.string)],color:"#e40"},{tag:q.definition(q.variableName),color:"#00f"},{tag:q.local(q.variableName),color:"#30a"},{tag:[q.typeName,q.namespace],color:"#085"},{tag:q.className,color:"#167"},{tag:[q.special(q.variableName),q.macroName],color:"#256"},{tag:q.definition(q.propertyName),color:"#00c"},{tag:q.comment,color:"#940"},{tag:q.invalid,color:"#f00"}]),V7=Oe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),gk=1e4,Ok="()[]{}",xk=ye.define({combine(n){return Is(n,{afterCursor:!0,brackets:Ok,maxScanDistance:gk,renderMatch:G7})}}),q7=je.mark({class:"cm-matchingBracket"}),H7=je.mark({class:"cm-nonmatchingBracket"});function G7(n){let e=[],t=n.matched?q7:H7;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const W7=hn.define({create(){return je.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(xk);for(let s of e.state.selection.ranges){if(!s.empty)continue;let a=Ds(e.state,s.head,-1,i)||s.head>0&&Ds(e.state,s.head-1,1,i)||i.afterCursor&&(Ds(e.state,s.head,1,i)||s.head<e.state.doc.length&&Ds(e.state,s.head+1,-1,i));a&&(t=t.concat(i.renderMatch(a,e.state)))}return je.set(t,!0)},provide:n=>Oe.decorations.from(n)}),F7=[W7,V7];function K7(n={}){return[xk.of(n),F7]}const J7=new Ie;function uO(n,e,t){let i=n.prop(e<0?Ie.openedBy:Ie.closedBy);if(i)return i;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function fO(n){let e=n.type.prop(J7);return e?e(n.node):n}function Ds(n,e,t,i={}){let s=i.maxScanDistance||gk,a=i.brackets||Ok,o=on(n),c=o.resolveInner(e,t);for(let f=c;f;f=f.parent){let h=uO(f.type,t,a);if(h&&f.from<f.to){let m=fO(f);if(m&&(t>0?e>=m.from&&e<m.to:e>m.from&&e<=m.to))return e9(n,e,t,f,m,h,a)}}return t9(n,e,t,o,c.type,s,a)}function e9(n,e,t,i,s,a,o){let c=i.parent,f={from:s.from,to:s.to},h=0,m=c?.cursor();if(m&&(t<0?m.childBefore(i.from):m.childAfter(i.to)))do if(t<0?m.to<=i.from:m.from>=i.to){if(h==0&&a.indexOf(m.type.name)>-1&&m.from<m.to){let g=fO(m);return{start:f,end:g?{from:g.from,to:g.to}:void 0,matched:!0}}else if(uO(m.type,t,o))h++;else if(uO(m.type,-t,o)){if(h==0){let g=fO(m);return{start:f,end:g&&g.from<g.to?{from:g.from,to:g.to}:void 0,matched:!1}}h--}}while(t<0?m.prevSibling():m.nextSibling());return{start:f,matched:!1}}function t9(n,e,t,i,s,a,o){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),f=o.indexOf(c);if(f<0||f%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},m=n.doc.iterRange(e,t>0?n.doc.length:0),g=0;for(let x=0;!m.next().done&&x<=a;){let y=m.value;t<0&&(x+=y.length);let v=e+x*t;for(let S=t>0?0:y.length-1,w=t>0?y.length:-1;S!=w;S+=t){let C=o.indexOf(y[S]);if(!(C<0||i.resolveInner(v+S,1).type!=s))if(C%2==0==t>0)g++;else{if(g==1)return{start:h,end:{from:v+S,to:v+S+1},matched:C>>1==f>>1};g--}}t>0&&(x+=y.length)}return m.done?{start:h,matched:!1}:null}const n9=Object.create(null),IS=[ai.none],YS=[],VS=Object.create(null),i9=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])i9[n]=s9(n9,e);function Kg(n,e){YS.indexOf(n)>-1||(YS.push(n),console.warn(e))}function s9(n,e){let t=[];for(let c of e.split(" ")){let f=[];for(let h of c.split(".")){let m=n[h]||q[h];m?typeof m=="function"?f.length?f=f.map(m):Kg(h,`Modifier ${h} used at start of tag`):f.length?Kg(h,`Tag ${h} used as modifier`):f=Array.isArray(m)?m:[m]:Kg(h,`Unknown highlighting tag ${h}`)}for(let h of f)t.push(h)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),s=i+" "+t.map(c=>c.id),a=VS[s];if(a)return a.id;let o=VS[s]=ai.define({id:IS.length,name:i,props:[KC({[i]:t})]});return IS.push(o),o.id}yt.RTL,yt.LTR;const r9=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=O1(n.state,t.from);return i.line?a9(n):i.block?o9(n):!1};function g1(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(i(t.update(s)),!0):!1}}const a9=g1(f9,0),l9=g1(bk,0),o9=g1((n,e)=>bk(n,e,u9(e)),0);function O1(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const hc=50;function c9(n,{open:e,close:t},i,s){let a=n.sliceDoc(i-hc,i),o=n.sliceDoc(s,s+hc),c=/\s*$/.exec(a)[0].length,f=/^\s*/.exec(o)[0].length,h=a.length-c;if(a.slice(h-e.length,h)==e&&o.slice(f,f+t.length)==t)return{open:{pos:i-c,margin:c&&1},close:{pos:s+f,margin:f&&1}};let m,g;s-i<=2*hc?m=g=n.sliceDoc(i,s):(m=n.sliceDoc(i,i+hc),g=n.sliceDoc(s-hc,s));let x=/^\s*/.exec(m)[0].length,y=/\s*$/.exec(g)[0].length,v=g.length-y-t.length;return m.slice(x,x+e.length)==e&&g.slice(v,v+t.length)==t?{open:{pos:i+x+e.length,margin:/\s/.test(m.charAt(x+e.length))?1:0},close:{pos:s-y-t.length,margin:/\s/.test(g.charAt(v-1))?1:0}}:null}function u9(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),s=t.to<=i.to?i:n.doc.lineAt(t.to);s.from>i.from&&s.from==t.to&&(s=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let a=e.length-1;a>=0&&e[a].to>i.from?e[a].to=s.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return e}function bk(n,e,t=e.selection.ranges){let i=t.map(a=>O1(e,a.from).block);if(!i.every(a=>a))return null;let s=t.map((a,o)=>c9(e,i[o],a.from,a.to));if(n!=2&&!s.every(a=>a))return{changes:e.changes(t.map((a,o)=>s[o]?[]:[{from:a.from,insert:i[o].open+" "},{from:a.to,insert:" "+i[o].close}]))};if(n!=1&&s.some(a=>a)){let a=[];for(let o=0,c;o<s.length;o++)if(c=s[o]){let f=i[o],{open:h,close:m}=c;a.push({from:h.pos-f.open.length,to:h.pos+h.margin},{from:m.pos-m.margin,to:m.pos+f.close.length})}return{changes:a}}return null}function f9(n,e,t=e.selection.ranges){let i=[],s=-1;for(let{from:a,to:o}of t){let c=i.length,f=1e9,h=O1(e,a).line;if(h){for(let m=a;m<=o;){let g=e.doc.lineAt(m);if(g.from>s&&(a==o||o>g.from)){s=g.from;let x=/^\s*/.exec(g.text)[0].length,y=x==g.length,v=g.text.slice(x,x+h.length)==h?x:-1;x<g.text.length&&x<f&&(f=x),i.push({line:g,comment:v,token:h,indent:x,empty:y,single:!1})}m=g.to+1}if(f<1e9)for(let m=c;m<i.length;m++)i[m].indent<i[m].line.text.length&&(i[m].indent=f);i.length==c+1&&(i[c].single=!0)}}if(n!=2&&i.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:c,token:f,indent:h,empty:m,single:g}of i)(g||!m)&&a.push({from:c.from+h,insert:f+" "});let o=e.changes(a);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(a=>a.comment>=0)){let a=[];for(let{line:o,comment:c,token:f}of i)if(c>=0){let h=o.from+c,m=h+f.length;o.text[m-o.from]==" "&&m++,a.push({from:h,to:m})}return{changes:a}}return null}const hO=Xs.define(),h9=Xs.define(),d9=ye.define(),yk=ye.define({combine(n){return Is(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,s)=>e(i,s)||t(i,s)})}}),vk=hn.define({create(){return $s.empty},update(n,e){let t=e.state.facet(yk),i=e.annotation(hO);if(i){let f=ei.fromTransaction(e,i.selection),h=i.side,m=h==0?n.undone:n.done;return f?m=md(m,m.length,t.minDepth,f):m=Ak(m,e.startState.selection),new $s(h==0?i.rest:m,h==0?m:i.rest)}let s=e.annotation(h9);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(Kt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let a=ei.fromTransaction(e),o=e.annotation(Kt.time),c=e.annotation(Kt.userEvent);return a?n=n.addChanges(a,o,c,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,c,t.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new $s(n.done.map(ei.fromJSON),n.undone.map(ei.fromJSON))}});function m9(n={}){return[vk,yk.of(n),Oe.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Sk:e.inputType=="historyRedo"?dO:null;return i?(e.preventDefault(),i(t)):!1}})]}function Gd(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let s=t.field(vk,!1);if(!s)return!1;let a=s.pop(n,t,e);return a?(i(a),!0):!1}}const Sk=Gd(0,!1),dO=Gd(1,!1),p9=Gd(0,!0),g9=Gd(1,!0);class ei{constructor(e,t,i,s,a){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=s,this.selectionsAfter=a}setSelAfter(e){return new ei(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new ei(e.changes&&sn.fromJSON(e.changes),[],e.mapped&&Bs.fromJSON(e.mapped),e.startSelection&&fe.fromJSON(e.startSelection),e.selectionsAfter.map(fe.fromJSON))}static fromTransaction(e,t){let i=Xi;for(let s of e.startState.facet(d9)){let a=s(e);a.length&&(i=i.concat(a))}return!i.length&&e.changes.empty?null:new ei(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Xi)}static selection(e){return new ei(void 0,Xi,void 0,void 0,e)}}function md(n,e,t,i){let s=e+1>t+20?e-t-1:0,a=n.slice(s,e);return a.push(i),a}function O9(n,e){let t=[],i=!1;return n.iterChangedRanges((s,a)=>t.push(s,a)),e.iterChangedRanges((s,a,o,c)=>{for(let f=0;f<t.length;){let h=t[f++],m=t[f++];c>=h&&o<=m&&(i=!0)}}),i}function x9(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function wk(n,e){return n.length?e.length?n.concat(e):n:e}const Xi=[],b9=200;function Ak(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-b9));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),md(n,n.length-1,1e9,t.setSelAfter(i)))}else return[ei.selection([e])]}function y9(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Jg(n,e){if(!n.length)return n;let t=n.length,i=Xi;for(;t;){let s=v9(n[t-1],e,i);if(s.changes&&!s.changes.empty||s.effects.length){let a=n.slice(0,t);return a[t-1]=s,a}else e=s.mapped,t--,i=s.selectionsAfter}return i.length?[ei.selection(i)]:Xi}function v9(n,e,t){let i=wk(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(e)):Xi,t);if(!n.changes)return ei.selection(i);let s=n.changes.map(e),a=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(a):a;return new ei(s,De.mapEffects(n.effects,e),o,n.startSelection.map(a),i)}const S9=/^(input\.type|delete)($|\.)/;class $s{constructor(e,t,i=0,s=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new $s(this.done,this.undone):this}addChanges(e,t,i,s,a){let o=this.done,c=o[o.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!i||S9.test(i))&&(!c.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,O9(c.changes,e.changes))||i=="input.type.compose")?o=md(o,o.length-1,s.minDepth,new ei(e.changes.compose(c.changes),wk(De.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,Xi)):o=md(o,o.length,s.minDepth,e),new $s(o,Xi,t,i)}addSelection(e,t,i,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Xi;return a.length>0&&t-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&x9(a[a.length-1],e)?this:new $s(Ak(this.done,e),this.undone,t,i)}addMapping(e){return new $s(Jg(this.done,e),Jg(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let s=e==0?this.done:this.undone;if(s.length==0)return null;let a=s[s.length-1],o=a.selectionsAfter[0]||t.selection;if(i&&a.selectionsAfter.length)return t.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:hO.of({side:e,rest:y9(s),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=s.length==1?Xi:s.slice(0,s.length-1);return a.mapped&&(c=Jg(c,a.mapped)),t.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:hO.of({side:e,rest:c,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}$s.empty=new $s(Xi,Xi);const w9=[{key:"Mod-z",run:Sk,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:dO,preventDefault:!0},{linux:"Ctrl-Shift-z",run:dO,preventDefault:!0},{key:"Mod-u",run:p9,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:g9,preventDefault:!0}];function ho(n,e){return fe.create(n.ranges.map(e),n.mainIndex)}function Os(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function xs({state:n,dispatch:e},t){let i=ho(n.selection,t);return i.eq(n.selection,!0)?!1:(e(Os(n,i)),!0)}function Wd(n,e){return fe.cursor(e?n.to:n.from)}function Ck(n,e){return xs(n,t=>t.empty?n.moveByChar(t,e):Wd(t,e))}function Qn(n){return n.textDirectionAt(n.state.selection.main.head)==yt.LTR}const kk=n=>Ck(n,!Qn(n)),Tk=n=>Ck(n,Qn(n));function Ek(n,e){return xs(n,t=>t.empty?n.moveByGroup(t,e):Wd(t,e))}const A9=n=>Ek(n,!Qn(n)),C9=n=>Ek(n,Qn(n));function k9(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Fd(n,e,t){let i=on(n).resolveInner(e.head),s=t?Ie.closedBy:Ie.openedBy;for(let f=e.head;;){let h=t?i.childAfter(f):i.childBefore(f);if(!h)break;k9(n,h,s)?i=h:f=t?h.to:h.from}let a=i.type.prop(s),o,c;return a&&(o=t?Ds(n,i.from,1):Ds(n,i.to,-1))&&o.matched?c=t?o.end.to:o.end.from:c=t?i.to:i.from,fe.cursor(c,t?-1:1)}const T9=n=>xs(n,e=>Fd(n.state,e,!Qn(n))),E9=n=>xs(n,e=>Fd(n.state,e,Qn(n)));function Rk(n,e){return xs(n,t=>{if(!t.empty)return Wd(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const Qk=n=>Rk(n,!1),Nk=n=>Rk(n,!0);function jk(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,s;if(e){for(let a of n.state.facet(Oe.scrollMargins)){let o=a(n);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(i=Math.max(o?.bottom,i))}s=n.scrollDOM.clientHeight-t-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function Mk(n,e){let t=jk(n),{state:i}=n,s=ho(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):Wd(o,e));if(s.eq(i.selection))return!1;let a;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),f=c.top+t.marginTop,h=c.bottom-t.marginBottom;o&&o.top>f&&o.bottom<h&&(a=Oe.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-f}))}return n.dispatch(Os(i,s),{effects:a}),!0}const qS=n=>Mk(n,!1),mO=n=>Mk(n,!0);function fa(n,e,t){let i=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?i.to:i.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==i.from&&i.length){let a=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;a&&e.head!=i.from+a&&(s=fe.cursor(i.from+a))}return s}const R9=n=>xs(n,e=>fa(n,e,!0)),Q9=n=>xs(n,e=>fa(n,e,!1)),N9=n=>xs(n,e=>fa(n,e,!Qn(n))),j9=n=>xs(n,e=>fa(n,e,Qn(n))),M9=n=>xs(n,e=>fe.cursor(n.lineBlockAt(e.head).from,1)),P9=n=>xs(n,e=>fe.cursor(n.lineBlockAt(e.head).to,-1));function _9(n,e,t){let i=!1,s=ho(n.selection,a=>{let o=Ds(n,a.head,-1)||Ds(n,a.head,1)||a.head>0&&Ds(n,a.head-1,1)||a.head<n.doc.length&&Ds(n,a.head+1,-1);if(!o||!o.end)return a;i=!0;let c=o.start.from==a.head?o.end.to:o.end.from;return fe.cursor(c)});return i?(e(Os(n,s)),!0):!1}const D9=({state:n,dispatch:e})=>_9(n,e);function qi(n,e){let t=ho(n.state.selection,i=>{let s=e(i);return fe.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Os(n.state,t)),!0)}function Pk(n,e){return qi(n,t=>n.moveByChar(t,e))}const _k=n=>Pk(n,!Qn(n)),Dk=n=>Pk(n,Qn(n));function $k(n,e){return qi(n,t=>n.moveByGroup(t,e))}const $9=n=>$k(n,!Qn(n)),L9=n=>$k(n,Qn(n)),z9=n=>qi(n,e=>Fd(n.state,e,!Qn(n))),B9=n=>qi(n,e=>Fd(n.state,e,Qn(n)));function Lk(n,e){return qi(n,t=>n.moveVertically(t,e))}const zk=n=>Lk(n,!1),Bk=n=>Lk(n,!0);function Zk(n,e){return qi(n,t=>n.moveVertically(t,e,jk(n).height))}const HS=n=>Zk(n,!1),GS=n=>Zk(n,!0),Z9=n=>qi(n,e=>fa(n,e,!0)),U9=n=>qi(n,e=>fa(n,e,!1)),X9=n=>qi(n,e=>fa(n,e,!Qn(n))),I9=n=>qi(n,e=>fa(n,e,Qn(n))),Y9=n=>qi(n,e=>fe.cursor(n.lineBlockAt(e.head).from)),V9=n=>qi(n,e=>fe.cursor(n.lineBlockAt(e.head).to)),WS=({state:n,dispatch:e})=>(e(Os(n,{anchor:0})),!0),FS=({state:n,dispatch:e})=>(e(Os(n,{anchor:n.doc.length})),!0),KS=({state:n,dispatch:e})=>(e(Os(n,{anchor:n.selection.main.anchor,head:0})),!0),JS=({state:n,dispatch:e})=>(e(Os(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),q9=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),H9=({state:n,dispatch:e})=>{let t=Kd(n).map(({from:i,to:s})=>fe.range(i,Math.min(s+1,n.doc.length)));return e(n.update({selection:fe.create(t),userEvent:"select"})),!0},G9=({state:n,dispatch:e})=>{let t=ho(n.selection,i=>{let s=on(n),a=s.resolveStack(i.from,1);if(i.empty){let o=s.resolveStack(i.from,-1);o.node.from>=a.node.from&&o.node.to<=a.node.to&&(a=o)}for(let o=a;o;o=o.next){let{node:c}=o;if((c.from<i.from&&c.to>=i.to||c.to>i.to&&c.from<=i.from)&&o.next)return fe.range(c.to,c.from)}return i});return t.eq(n.selection)?!1:(e(Os(n,t)),!0)};function Uk(n,e){let{state:t}=n,i=t.selection,s=t.selection.ranges.slice();for(let a of t.selection.ranges){let o=t.doc.lineAt(a.head);if(e?o.to<n.state.doc.length:o.from>0)for(let c=a;;){let f=n.moveVertically(c,e);if(f.head<o.from||f.head>o.to){s.some(h=>h.head==f.head)||s.push(f);break}else{if(f.head==c.head)break;c=f}}}return s.length==i.ranges.length?!1:(n.dispatch(Os(t,fe.create(s,s.length-1))),!0)}const W9=n=>Uk(n,!1),F9=n=>Uk(n,!0),K9=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=fe.create([t.main]):t.main.empty||(i=fe.create([fe.cursor(t.main.head)])),i?(e(Os(n,i)),!0):!1};function ku(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,s=i.changeByRange(a=>{let{from:o,to:c}=a;if(o==c){let f=e(a);f<o?(t="delete.backward",f=ph(n,f,!1)):f>o&&(t="delete.forward",f=ph(n,f,!0)),o=Math.min(o,f),c=Math.max(c,f)}else o=ph(n,o,!1),c=ph(n,c,!0);return o==c?{range:a}:{changes:{from:o,to:c},range:fe.cursor(o,o<a.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Oe.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function ph(n,e,t){if(n instanceof Oe)for(let i of n.state.facet(Oe.atomicRanges).map(s=>s(n)))i.between(e,e,(s,a)=>{s<e&&a>e&&(e=t?a:s)});return e}const Xk=(n,e,t)=>ku(n,i=>{let s=i.from,{state:a}=n,o=a.doc.lineAt(s),c,f;if(t&&!e&&s>o.from&&s<o.from+200&&!/[^ \t]/.test(c=o.text.slice(0,s-o.from))){if(c[c.length-1]=="	")return s-1;let h=fo(c,a.tabSize),m=h%fd(a)||fd(a);for(let g=0;g<m&&c[c.length-1-g]==" ";g++)s--;f=s}else f=an(o.text,s-o.from,e,e)+o.from,f==s&&o.number!=(e?a.doc.lines:1)?f+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(f-o.from,s-o.from))&&(f=an(o.text,f-o.from,!1,!1)+o.from);return f}),pO=n=>Xk(n,!1,!0),Ik=n=>Xk(n,!0,!1),Yk=(n,e)=>ku(n,t=>{let i=t.head,{state:s}=n,a=s.doc.lineAt(i),o=s.charCategorizer(i);for(let c=null;;){if(i==(e?a.to:a.from)){i==t.head&&a.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);break}let f=an(a.text,i-a.from,e)+a.from,h=a.text.slice(Math.min(i,f)-a.from,Math.max(i,f)-a.from),m=o(h);if(c!=null&&m!=c)break;(h!=" "||i!=t.head)&&(c=m),i=f}return i}),Vk=n=>Yk(n,!1),J9=n=>Yk(n,!0),eL=n=>ku(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),tL=n=>ku(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),nL=n=>ku(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),iL=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:nt.of(["",""])},range:fe.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},sL=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,a=n.doc.lineAt(s),o=s==a.from?s-1:an(a.text,s-a.from,!1)+a.from,c=s==a.to?s+1:an(a.text,s-a.from,!0)+a.from;return{changes:{from:o,to:c,insert:n.doc.slice(s,c).append(n.doc.slice(o,s))},range:fe.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Kd(n){let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),a=n.doc.lineAt(i.to);if(!i.empty&&i.to==a.from&&(a=n.doc.lineAt(i.to-1)),t>=s.number){let o=e[e.length-1];o.to=a.to,o.ranges.push(i)}else e.push({from:s.from,to:a.to,ranges:[i]});t=a.number+1}return e}function qk(n,e,t){if(n.readOnly)return!1;let i=[],s=[];for(let a of Kd(n)){if(t?a.to==n.doc.length:a.from==0)continue;let o=n.doc.lineAt(t?a.to+1:a.from-1),c=o.length+1;if(t){i.push({from:a.to,to:o.to},{from:a.from,insert:o.text+n.lineBreak});for(let f of a.ranges)s.push(fe.range(Math.min(n.doc.length,f.anchor+c),Math.min(n.doc.length,f.head+c)))}else{i.push({from:o.from,to:a.from},{from:a.to,insert:n.lineBreak+o.text});for(let f of a.ranges)s.push(fe.range(f.anchor-c,f.head-c))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:fe.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const rL=({state:n,dispatch:e})=>qk(n,e,!1),aL=({state:n,dispatch:e})=>qk(n,e,!0);function Hk(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of Kd(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const lL=({state:n,dispatch:e})=>Hk(n,e,!1),oL=({state:n,dispatch:e})=>Hk(n,e,!0),cL=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Kd(e).map(({from:s,to:a})=>(s>0?s--:a<e.doc.length&&a++,{from:s,to:a}))),i=ho(e.selection,s=>{let a;if(n.lineWrapping){let o=n.lineBlockAt(s.head),c=n.coordsAtPos(s.head,s.assoc||1);c&&(a=o.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,a)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function uL(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=on(n).resolveInner(e),i=t.childBefore(e),s=t.childAfter(e),a;return i&&s&&i.to<=e&&s.from>=e&&(a=i.type.prop(Ie.closedBy))&&a.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}const ew=Gk(!1),fL=Gk(!0);function Gk(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(s=>{let{from:a,to:o}=s,c=e.doc.lineAt(a),f=!n&&a==o&&uL(e,a);n&&(a=o=(o<=c.to?c:e.doc.lineAt(o)).to);let h=new qd(e,{simulateBreak:a,simulateDoubleBreak:!!f}),m=m1(h,a);for(m==null&&(m=fo(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));o<c.to&&/\s/.test(c.text[o-c.from]);)o++;f?{from:a,to:o}=f:a>c.from&&a<c.from+100&&!/\S/.test(c.text.slice(0,a))&&(a=c.from);let g=["",iu(e,m)];return f&&g.push(iu(e,h.lineIndent(c.from,-1))),{changes:{from:a,to:o,insert:nt.of(g)},range:fe.cursor(a+1+g[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function x1(n,e){let t=-1;return n.changeByRange(i=>{let s=[];for(let o=i.from;o<=i.to;){let c=n.doc.lineAt(o);c.number>t&&(i.empty||i.to>c.from)&&(e(c,s,i),t=c.number),o=c.to+1}let a=n.changes(s);return{changes:s,range:fe.range(a.mapPos(i.anchor,1),a.mapPos(i.head,1))}})}const hL=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new qd(n,{overrideIndentation:a=>{let o=t[a];return o??-1}}),s=x1(n,(a,o,c)=>{let f=m1(i,a.from);if(f==null)return;/\S/.test(a.text)||(f=0);let h=/^\s*/.exec(a.text)[0],m=iu(n,f);(h!=m||c.from<a.from+h.length)&&(t[a.from]=f,o.push({from:a.from,to:a.from+h.length,insert:m}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},Wk=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(x1(n,(t,i)=>{i.push({from:t.from,insert:n.facet(wu)})}),{userEvent:"input.indent"})),!0),Fk=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(x1(n,(t,i)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let a=fo(s,n.tabSize),o=0,c=iu(n,Math.max(0,a-fd(n)));for(;o<s.length&&o<c.length&&s.charCodeAt(o)==c.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+s.length,insert:c.slice(o)})}),{userEvent:"delete.dedent"})),!0),dL=n=>(n.setTabFocusMode(),!0),mL=[{key:"Ctrl-b",run:kk,shift:_k,preventDefault:!0},{key:"Ctrl-f",run:Tk,shift:Dk},{key:"Ctrl-p",run:Qk,shift:zk},{key:"Ctrl-n",run:Nk,shift:Bk},{key:"Ctrl-a",run:M9,shift:Y9},{key:"Ctrl-e",run:P9,shift:V9},{key:"Ctrl-d",run:Ik},{key:"Ctrl-h",run:pO},{key:"Ctrl-k",run:eL},{key:"Ctrl-Alt-h",run:Vk},{key:"Ctrl-o",run:iL},{key:"Ctrl-t",run:sL},{key:"Ctrl-v",run:mO}],pL=[{key:"ArrowLeft",run:kk,shift:_k,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:A9,shift:$9,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:N9,shift:X9,preventDefault:!0},{key:"ArrowRight",run:Tk,shift:Dk,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:C9,shift:L9,preventDefault:!0},{mac:"Cmd-ArrowRight",run:j9,shift:I9,preventDefault:!0},{key:"ArrowUp",run:Qk,shift:zk,preventDefault:!0},{mac:"Cmd-ArrowUp",run:WS,shift:KS},{mac:"Ctrl-ArrowUp",run:qS,shift:HS},{key:"ArrowDown",run:Nk,shift:Bk,preventDefault:!0},{mac:"Cmd-ArrowDown",run:FS,shift:JS},{mac:"Ctrl-ArrowDown",run:mO,shift:GS},{key:"PageUp",run:qS,shift:HS},{key:"PageDown",run:mO,shift:GS},{key:"Home",run:Q9,shift:U9,preventDefault:!0},{key:"Mod-Home",run:WS,shift:KS},{key:"End",run:R9,shift:Z9,preventDefault:!0},{key:"Mod-End",run:FS,shift:JS},{key:"Enter",run:ew,shift:ew},{key:"Mod-a",run:q9},{key:"Backspace",run:pO,shift:pO,preventDefault:!0},{key:"Delete",run:Ik,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Vk,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:J9,preventDefault:!0},{mac:"Mod-Backspace",run:tL,preventDefault:!0},{mac:"Mod-Delete",run:nL,preventDefault:!0}].concat(mL.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),gL=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:T9,shift:z9},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:E9,shift:B9},{key:"Alt-ArrowUp",run:rL},{key:"Shift-Alt-ArrowUp",run:lL},{key:"Alt-ArrowDown",run:aL},{key:"Shift-Alt-ArrowDown",run:oL},{key:"Mod-Alt-ArrowUp",run:W9},{key:"Mod-Alt-ArrowDown",run:F9},{key:"Escape",run:K9},{key:"Mod-Enter",run:fL},{key:"Alt-l",mac:"Ctrl-l",run:H9},{key:"Mod-i",run:G9,preventDefault:!0},{key:"Mod-[",run:Fk},{key:"Mod-]",run:Wk},{key:"Mod-Alt-\\",run:hL},{key:"Shift-Mod-k",run:cL},{key:"Shift-Mod-\\",run:D9},{key:"Mod-/",run:r9},{key:"Alt-A",run:l9},{key:"Ctrl-m",mac:"Shift-Alt-m",run:dL}].concat(pL),OL={key:"Tab",run:Wk,shift:Fk},tw=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class ao{constructor(e,t,i=0,s=e.length,a,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,s),this.bufferStart=i,this.normalize=a?c=>a(tw(c)):tw,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Wn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=qO(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Ms(e);let s=this.normalize(t);if(s.length)for(let a=0,o=i;;a++){let c=s.charCodeAt(a),f=this.match(c,o,this.bufferPos+this.bufferStart);if(a==s.length-1){if(f)return this.value=f,this;break}o==i&&a<t.length&&t.charCodeAt(a)==c&&o++}}}match(e,t,i){let s=null;for(let a=0;a<this.matches.length;a+=2){let o=this.matches[a],c=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?s={from:this.matches[a+1],to:i}:(this.matches[a]++,c=!0)),c||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:t,to:i}:this.matches.push(1,t)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(ao.prototype[Symbol.iterator]=function(){return this});const Kk={from:-1,to:-1,match:/.*/.exec("")},b1="gm"+(/x/.unicode==null?"":"u");class Jk{constructor(e,t,i,s=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=Kk,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new e5(e,t,i,s,a);this.re=new RegExp(t,b1+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let o=e.lineAt(s);this.curLineStart=o.from,this.matchPos=pd(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,s=i+t[0].length;if(this.matchPos=pd(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const e0=new WeakMap;class Gl{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let s=e0.get(e);if(!s||s.from>=i||s.to<=t){let c=new Gl(t,e.sliceString(t,i));return e0.set(e,c),c}if(s.from==t&&s.to==i)return s;let{text:a,from:o}=s;return o>t&&(a=e.sliceString(t,o)+a,o=t),s.to<i&&(a+=e.sliceString(s.to,i)),e0.set(e,new Gl(o,a)),new Gl(t,a.slice(t-o,i-o))}}class e5{constructor(e,t,i,s,a){this.text=e,this.to=a,this.done=!1,this.value=Kk,this.matchPos=pd(e,s),this.re=new RegExp(t,b1+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=Gl.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,s=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this.matchPos=pd(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Gl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Jk.prototype[Symbol.iterator]=e5.prototype[Symbol.iterator]=function(){return this});function xL(n){try{return new RegExp(n,b1),!0}catch{return!1}}function pd(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function gO(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=xt("input",{class:"cm-textfield",name:"line",value:e}),i=xt("form",{class:"cm-gotoLine",onkeydown:a=>{a.keyCode==27?(a.preventDefault(),n.dispatch({effects:Mc.of(!1)}),n.focus()):a.keyCode==13&&(a.preventDefault(),s())},onsubmit:a=>{a.preventDefault(),s()}},xt("label",n.state.phrase("Go to line"),": ",t)," ",xt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),xt("button",{name:"close",onclick:()=>{n.dispatch({effects:Mc.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function s(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!a)return;let{state:o}=n,c=o.doc.lineAt(o.selection.main.head),[,f,h,m,g]=a,x=m?+m.slice(1):0,y=h?+h:c.number;if(h&&g){let w=y/100;f&&(w=w*(f=="-"?-1:1)+c.number/o.doc.lines),y=Math.round(o.doc.lines*w)}else h&&f&&(y=y*(f=="-"?-1:1)+c.number);let v=o.doc.line(Math.max(1,Math.min(o.doc.lines,y))),S=fe.cursor(v.from+Math.max(0,Math.min(x,v.length)));n.dispatch({effects:[Mc.of(!1),Oe.scrollIntoView(S.from,{y:"center"})],selection:S}),n.focus()}return{dom:i}}const Mc=De.define(),nw=hn.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Mc)&&(n=t.value);return n},provide:n=>eu.from(n,e=>e?gO:null)}),bL=n=>{let e=Jc(n,gO);if(!e){let t=[Mc.of(!0)];n.state.field(nw,!1)==null&&t.push(De.appendConfig.of([nw,yL])),n.dispatch({effects:t}),e=Jc(n,gO)}return e&&e.dom.querySelector("input").select(),!0},yL=Oe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),vL={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},SL=ye.define({combine(n){return Is(n,vL,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function wL(n){return[EL,TL]}const AL=je.mark({class:"cm-selectionMatch"}),CL=je.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function iw(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Rt.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Rt.Word)}function kL(n,e,t,i){return n(e.sliceDoc(t,t+1))==Rt.Word&&n(e.sliceDoc(i-1,i))==Rt.Word}const TL=Vt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(SL),{state:t}=n,i=t.selection;if(i.ranges.length>1)return je.none;let s=i.main,a,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return je.none;let f=t.wordAt(s.head);if(!f)return je.none;o=t.charCategorizer(s.head),a=t.sliceDoc(f.from,f.to)}else{let f=s.to-s.from;if(f<e.minSelectionLength||f>200)return je.none;if(e.wholeWords){if(a=t.sliceDoc(s.from,s.to),o=t.charCategorizer(s.head),!(iw(o,t,s.from,s.to)&&kL(o,t,s.from,s.to)))return je.none}else if(a=t.sliceDoc(s.from,s.to),!a)return je.none}let c=[];for(let f of n.visibleRanges){let h=new ao(t.doc,a,f.from,f.to);for(;!h.next().done;){let{from:m,to:g}=h.value;if((!o||iw(o,t,m,g))&&(s.empty&&m<=s.from&&g>=s.to?c.push(CL.range(m,g)):(m>=s.to||g<=s.from)&&c.push(AL.range(m,g)),c.length>e.maxMatches))return je.none}}return je.set(c)}},{decorations:n=>n.decorations}),EL=Oe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),RL=({state:n,dispatch:e})=>{let{selection:t}=n,i=fe.create(t.ranges.map(s=>n.wordAt(s.head)||fe.cursor(s.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function QL(n,e){let{main:t,ranges:i}=n.selection,s=n.wordAt(t.head),a=s&&s.from==t.from&&s.to==t.to;for(let o=!1,c=new ao(n.doc,e,i[i.length-1].to);;)if(c.next(),c.done){if(o)return null;c=new ao(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(f=>f.from==c.value.from))continue;if(a){let f=n.wordAt(c.value.from);if(!f||f.from!=c.value.from||f.to!=c.value.to)continue}return c.value}}const NL=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(a=>a.from===a.to))return RL({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(a=>n.sliceDoc(a.from,a.to)!=i))return!1;let s=QL(n,i);return s?(e(n.update({selection:n.selection.addRange(fe.range(s.from,s.to),!1),effects:Oe.scrollIntoView(s.to)})),!0):!1},mo=ye.define({combine(n){return Is(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new XL(e),scrollToMatch:e=>Oe.scrollIntoView(e)})}});class t5{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||xL(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new _L(this):new ML(this)}getCursor(e,t=0,i){let s=e.doc?e:et.create({doc:e});return i==null&&(i=s.doc.length),this.regexp?Dl(this,s,t,i):_l(this,s,t,i)}}class n5{constructor(e){this.spec=e}}function _l(n,e,t,i){return new ao(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?jL(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function jL(n,e){return(t,i,s,a)=>((a>t||a+s.length<i)&&(a=Math.max(0,t-2),s=n.sliceString(a,Math.min(n.length,i+2))),(e(gd(s,t-a))!=Rt.Word||e(Od(s,t-a))!=Rt.Word)&&(e(Od(s,i-a))!=Rt.Word||e(gd(s,i-a))!=Rt.Word))}class ML extends n5{constructor(e){super(e)}nextMatch(e,t,i){let s=_l(this.spec,e,i,e.doc.length).nextOverlapping();if(s.done){let a=Math.min(e.doc.length,t+this.spec.unquoted.length);s=_l(this.spec,e,0,a).nextOverlapping()}return s.done||s.value.from==t&&s.value.to==i?null:s.value}prevMatchInRange(e,t,i){for(let s=i;;){let a=Math.max(t,s-1e4-this.spec.unquoted.length),o=_l(this.spec,e,a,s),c=null;for(;!o.nextOverlapping().done;)c=o.value;if(c)return c;if(a==t)return null;s-=1e4}}prevMatch(e,t,i){let s=this.prevMatchInRange(e,0,t);return s||(s=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),s&&(s.from!=t||s.to!=i)?s:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=_l(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let a=_l(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}function Dl(n,e,t,i){return new Jk(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?PL(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function gd(n,e){return n.slice(an(n,e,!1),e)}function Od(n,e){return n.slice(e,an(n,e))}function PL(n){return(e,t,i)=>!i[0].length||(n(gd(i.input,i.index))!=Rt.Word||n(Od(i.input,i.index))!=Rt.Word)&&(n(Od(i.input,i.index+i[0].length))!=Rt.Word||n(gd(i.input,i.index+i[0].length))!=Rt.Word)}class _L extends n5{nextMatch(e,t,i){let s=Dl(this.spec,e,i,e.doc.length).next();return s.done&&(s=Dl(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=1;;s++){let a=Math.max(t,i-s*1e4),o=Dl(this.spec,e,a,i),c=null;for(;!o.next().done;)c=o.value;if(c&&(a==t||c.from>a+10))return c;if(a==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let s=i.length;s>0;s--){let a=+i.slice(0,s);if(a>0&&a<e.match.length)return e.match[a]+i.slice(s)}return t})}matchAll(e,t){let i=Dl(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let a=Dl(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}const su=De.define(),y1=De.define(),na=hn.define({create(n){return new t0(OO(n).create(),null)},update(n,e){for(let t of e.effects)t.is(su)?n=new t0(t.value.create(),n.panel):t.is(y1)&&(n=new t0(n.query,t.value?v1:null));return n},provide:n=>eu.from(n,e=>e.panel)});class t0{constructor(e,t){this.query=e,this.panel=t}}const DL=je.mark({class:"cm-searchMatch"}),$L=je.mark({class:"cm-searchMatch cm-searchMatch-selected"}),LL=Vt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(na))}update(n){let e=n.state.field(na);(e!=n.startState.field(na)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return je.none;let{view:t}=this,i=new dr;for(let s=0,a=t.visibleRanges,o=a.length;s<o;s++){let{from:c,to:f}=a[s];for(;s<o-1&&f>a[s+1].from-500;)f=a[++s].to;n.highlight(t.state,c,f,(h,m)=>{let g=t.state.selection.ranges.some(x=>x.from==h&&x.to==m);i.add(h,m,g?$L:DL)})}return i.finish()}},{decorations:n=>n.decorations});function Tu(n){return e=>{let t=e.state.field(na,!1);return t&&t.query.spec.valid?n(e,t):r5(e)}}const xd=Tu((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let s=fe.single(i.from,i.to),a=n.state.facet(mo);return n.dispatch({selection:s,effects:[S1(n,i),a.scrollToMatch(s.main,n)],userEvent:"select.search"}),s5(n),!0}),bd=Tu((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,s=e.prevMatch(t,i,i);if(!s)return!1;let a=fe.single(s.from,s.to),o=n.state.facet(mo);return n.dispatch({selection:a,effects:[S1(n,s),o.scrollToMatch(a.main,n)],userEvent:"select.search"}),s5(n),!0}),zL=Tu((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:fe.create(t.map(i=>fe.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),BL=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:s}=t.main,a=[],o=0;for(let c=new ao(n.doc,n.sliceDoc(i,s));!c.next().done;){if(a.length>1e3)return!1;c.value.from==i&&(o=a.length),a.push(fe.range(c.value.from,c.value.to))}return e(n.update({selection:fe.create(a,o),userEvent:"select.search.matches"})),!0},sw=Tu((n,{query:e})=>{let{state:t}=n,{from:i,to:s}=t.selection.main;if(t.readOnly)return!1;let a=e.nextMatch(t,i,i);if(!a)return!1;let o=a,c=[],f,h,m=[];o.from==i&&o.to==s&&(h=t.toText(e.getReplacement(o)),c.push({from:o.from,to:o.to,insert:h}),o=e.nextMatch(t,o.from,o.to),m.push(Oe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let g=n.state.changes(c);return o&&(f=fe.single(o.from,o.to).map(g),m.push(S1(n,o)),m.push(t.facet(mo).scrollToMatch(f.main,n))),n.dispatch({changes:g,selection:f,effects:m,userEvent:"input.replace"}),!0}),ZL=Tu((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(s=>{let{from:a,to:o}=s;return{from:a,to:o,insert:e.getReplacement(s)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:Oe.announce.of(i),userEvent:"input.replace.all"}),!0});function v1(n){return n.state.facet(mo).createPanel(n)}function OO(n,e){var t,i,s,a,o;let c=n.selection.main,f=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(e&&!f)return e;let h=n.facet(mo);return new t5({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:h.caseSensitive,literal:(s=e?.literal)!==null&&s!==void 0?s:h.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:h.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:h.wholeWord})}function i5(n){let e=Jc(n,v1);return e&&e.dom.querySelector("[main-field]")}function s5(n){let e=i5(n);e&&e==n.root.activeElement&&e.select()}const r5=n=>{let e=n.state.field(na,!1);if(e&&e.panel){let t=i5(n);if(t&&t!=n.root.activeElement){let i=OO(n.state,e.query.spec);i.valid&&n.dispatch({effects:su.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[y1.of(!0),e?su.of(OO(n.state,e.query.spec)):De.appendConfig.of(YL)]});return!0},a5=n=>{let e=n.state.field(na,!1);if(!e||!e.panel)return!1;let t=Jc(n,v1);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:y1.of(!1)}),!0},UL=[{key:"Mod-f",run:r5,scope:"editor search-panel"},{key:"F3",run:xd,shift:bd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:xd,shift:bd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:a5,scope:"editor search-panel"},{key:"Mod-Shift-l",run:BL},{key:"Mod-Alt-g",run:bL},{key:"Mod-d",run:NL,preventDefault:!0}];class XL{constructor(e){this.view=e;let t=this.query=e.state.field(na).query.spec;this.commit=this.commit.bind(this),this.searchField=xt("input",{value:t.search,placeholder:gi(e,"Find"),"aria-label":gi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=xt("input",{value:t.replace,placeholder:gi(e,"Replace"),"aria-label":gi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=xt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=xt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=xt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(s,a,o){return xt("button",{class:"cm-button",name:s,onclick:a,type:"button"},o)}this.dom=xt("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>xd(e),[gi(e,"next")]),i("prev",()=>bd(e),[gi(e,"previous")]),i("select",()=>zL(e),[gi(e,"all")]),xt("label",null,[this.caseField,gi(e,"match case")]),xt("label",null,[this.reField,gi(e,"regexp")]),xt("label",null,[this.wordField,gi(e,"by word")]),...e.state.readOnly?[]:[xt("br"),this.replaceField,i("replace",()=>sw(e),[gi(e,"replace")]),i("replaceAll",()=>ZL(e),[gi(e,"replace all")])],xt("button",{name:"close",onclick:()=>a5(e),"aria-label":gi(e,"close"),type:"button"},[""])])}commit(){let e=new t5({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:su.of(e)}))}keydown(e){G$(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?bd:xd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),sw(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(su)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(mo).top}}function gi(n,e){return n.state.phrase(e)}const gh=30,Oh=/[\s\.,:;?!]/;function S1(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),s=n.state.doc.lineAt(t).to,a=Math.max(i.from,e-gh),o=Math.min(s,t+gh),c=n.state.sliceDoc(a,o);if(a!=i.from){for(let f=0;f<gh;f++)if(!Oh.test(c[f+1])&&Oh.test(c[f])){c=c.slice(f);break}}if(o!=s){for(let f=c.length-1;f>c.length-gh;f--)if(!Oh.test(c[f-1])&&Oh.test(c[f])){c=c.slice(0,f);break}}return Oe.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${i.number}.`)}const IL=Oe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),YL=[na,ua.low(LL),IL];class l5{constructor(e,t,i,s){this.state=e,this.pos=t,this.explicit=i,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=on(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),a=s.search(c5(e,!1));return a<0?null:{from:i+a,to:this.pos,text:s.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function rw(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function VL(n){let e=Object.create(null),t=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let a=1;a<s.length;a++)t[s[a]]=!0}let i=rw(e)+rw(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function o5(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:VL(e);return s=>{let a=s.matchBefore(i);return a||s.explicit?{from:a?a.from:s.pos,options:e,validFor:t}:null}}function qL(n,e){return t=>{for(let i=on(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class aw{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function Ua(n){return n.selection.main.from}function c5(n,e){var t;let{source:i}=n,s=e&&i[0]!="^",a=i[i.length-1]!="$";return!s&&!a?n:new RegExp(`${s?"^":""}(?:${i})${a?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const w1=Xs.define();function HL(n,e,t,i){let{main:s}=n.selection,a=t-s.from,o=i-s.from;return{...n.changeByRange(c=>{if(c!=s&&t!=i&&n.sliceDoc(c.from+a,c.from+o)!=n.sliceDoc(t,i))return{range:c};let f=n.toText(e);return{changes:{from:c.from+a,to:i==s.from?c.to:c.from+o,insert:f},range:fe.cursor(c.from+a+f.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const lw=new WeakMap;function GL(n){if(!Array.isArray(n))return n;let e=lw.get(n);return e||lw.set(n,e=o5(n)),e}const yd=De.define(),ru=De.define();class WL{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Wn(e,t),s=Ms(i);this.chars.push(i);let a=e.slice(t,t+s),o=a.toUpperCase();this.folded.push(Wn(o==a?a.toLowerCase():o,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:a,byWord:o}=this;if(t.length==1){let R=Wn(e,0),E=Ms(R),j=E==e.length?0:-100;if(R!=t[0])if(R==i[0])j+=-200;else return null;return this.ret(j,[0,E])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=t.length,h=0;if(c<0){for(let R=0,E=Math.min(e.length,200);R<E&&h<f;){let j=Wn(e,R);(j==t[h]||j==i[h])&&(s[h++]=R),R+=Ms(j)}if(h<f)return null}let m=0,g=0,x=!1,y=0,v=-1,S=-1,w=/[a-z]/.test(e),C=!0;for(let R=0,E=Math.min(e.length,200),j=0;R<E&&g<f;){let Q=Wn(e,R);c<0&&(m<f&&Q==t[m]&&(a[m++]=R),y<f&&(Q==t[y]||Q==i[y]?(y==0&&(v=R),S=R+1,y++):y=0));let M,k=Q<255?Q>=48&&Q<=57||Q>=97&&Q<=122?2:Q>=65&&Q<=90?1:0:(M=qO(Q))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!R||k==1&&w||j==0&&k!=0)&&(t[g]==Q||i[g]==Q&&(x=!0)?o[g++]=R:o.length&&(C=!1)),j=k,R+=Ms(Q)}return g==f&&o[0]==0&&C?this.result(-100+(x?-200:0),o,e):y==f&&v==0?this.ret(-200-e.length+(S==e.length?0:-100),[0,S]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):y==f?this.ret(-900-e.length,[v,S]):g==f?this.result(-100+(x?-200:0)+-700+(C?0:-1100),o,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[],a=0;for(let o of t){let c=o+(this.astral?Ms(Wn(i,o)):1);a&&s[a-1]==o?s[a-1]=c:(s[a++]=o,s[a++]=c)}return this.ret(e-i.length,s)}}class FL{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const un=ye.define({combine(n){return Is(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:KL,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>ow(e(i),t(i)),optionClass:(e,t)=>i=>ow(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function ow(n,e){return n?e?n+" "+e:n:e}function KL(n,e,t,i,s,a){let o=n.textDirection==yt.RTL,c=o,f=!1,h="top",m,g,x=e.left-s.left,y=s.right-e.right,v=i.right-i.left,S=i.bottom-i.top;if(c&&x<Math.min(v,y)?c=!1:!c&&y<Math.min(v,x)&&(c=!0),v<=(c?x:y))m=Math.max(s.top,Math.min(t.top,s.bottom-S))-e.top,g=Math.min(400,c?x:y);else{f=!0,g=Math.min(400,(o?e.right:s.right-e.left)-30);let R=s.bottom-e.bottom;R>=S||R>e.top?m=t.bottom-e.top:(h="bottom",m=e.bottom-t.top)}let w=(e.bottom-e.top)/a.offsetHeight,C=(e.right-e.left)/a.offsetWidth;return{style:`${h}: ${m/w}px; max-width: ${g/C}px`,class:"cm-completionInfo-"+(f?o?"left-narrow":"right-narrow":c?"left":"right")}}function JL(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s,a){let o=document.createElement("span");o.className="cm-completionLabel";let c=t.displayLabel||t.label,f=0;for(let h=0;h<a.length;){let m=a[h++],g=a[h++];m>f&&o.appendChild(document.createTextNode(c.slice(f,m)));let x=o.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(c.slice(m,g))),x.className="cm-completionMatchedText",f=g}return f<c.length&&o.appendChild(document.createTextNode(c.slice(f))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function n0(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class ez{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:a,selected:o}=s.open,c=e.state.facet(un);this.optionContent=JL(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=n0(a.length,o,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",f=>{let{options:h}=e.state.field(t).open;for(let m=f.target,g;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(g=/-(\d+)$/.exec(m.id))&&+g[1]<h.length){this.applyCompletion(e,h[+g[1]]),f.preventDefault();return}}),this.dom.addEventListener("focusout",f=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(un).closeOnBlur&&f.relatedTarget!=e.contentDOM&&e.dispatch({effects:ru.of(null)})}),this.showOptions(a,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=s){let{options:a,selected:o,disabled:c}=i.open;(!s.open||s.open.options!=a)&&(this.range=n0(a.length,o,e.state.facet(un).maxRenderedOptions),this.showOptions(a,i.id)),this.updateSel(),c!=((t=s.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=n0(t.options.length,t.selected,this.view.state.facet(un).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:s}=t.options[t.selected],{info:a}=s;if(!a)return;let o=typeof a=="string"?document.createTextNode(a):a(s);if(!o)return;"then"in o?o.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,s)}).catch(c=>Jn(this.view.state,c,"completion info")):(this.addInfoPane(o,s),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:a}=e;i.appendChild(s),this.infoDestroy=a||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&nz(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),a=this.space;if(!a){let o=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return s.top>Math.min(a.bottom,t.bottom)-10||s.bottom<Math.max(a.top,t.top)+10?null:this.view.state.facet(un).positionInfo(this.view,t,s,i,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",o=>{o.target==s&&o.preventDefault()});let a=null;for(let o=i.from;o<i.to;o++){let{completion:c,match:f}=e[o],{section:h}=c;if(h){let x=typeof h=="string"?h:h.name;if(x!=a&&(o>i.from||i.from==0))if(a=x,typeof h!="string"&&h.header)s.appendChild(h.header(h));else{let y=s.appendChild(document.createElement("completion-section"));y.textContent=x}}const m=s.appendChild(document.createElement("li"));m.id=t+"-"+o,m.setAttribute("role","option");let g=this.optionClass(c);g&&(m.className=g);for(let x of this.optionContent){let y=x(c,this.view.state,this.view,f);y&&m.appendChild(y)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function tz(n,e){return t=>new ez(t,n,e)}function nz(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/s:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/s)}function cw(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function iz(n,e){let t=[],i=null,s=null,a=m=>{t.push(m);let{section:g}=m.completion;if(g){i||(i=[]);let x=typeof g=="string"?g:g.name;i.some(y=>y.name==x)||i.push(typeof g=="string"?{name:x}:g)}},o=e.facet(un);for(let m of n)if(m.hasResult()){let g=m.result.getMatch;if(m.result.filter===!1)for(let x of m.result.options)a(new aw(x,m.source,g?g(x):[],1e9-t.length));else{let x=e.sliceDoc(m.from,m.to),y,v=o.filterStrict?new FL(x):new WL(x);for(let S of m.result.options)if(y=v.match(S.label)){let w=S.displayLabel?g?g(S,y.matched):[]:y.matched,C=y.score+(S.boost||0);if(a(new aw(S,m.source,w,C)),typeof S.section=="object"&&S.section.rank==="dynamic"){let{name:R}=S.section;s||(s=Object.create(null)),s[R]=Math.max(C,s[R]||-1e9)}}}}if(i){let m=Object.create(null),g=0,x=(y,v)=>(y.rank==="dynamic"&&v.rank==="dynamic"?s[v.name]-s[y.name]:0)||(typeof y.rank=="number"?y.rank:1e9)-(typeof v.rank=="number"?v.rank:1e9)||(y.name<v.name?-1:1);for(let y of i.sort(x))g-=1e5,m[y.name]=g;for(let y of t){let{section:v}=y.completion;v&&(y.score+=m[typeof v=="string"?v:v.name])}}let c=[],f=null,h=o.compareCompletions;for(let m of t.sort((g,x)=>x.score-g.score||h(g.completion,x.completion))){let g=m.completion;!f||f.label!=g.label||f.detail!=g.detail||f.type!=null&&g.type!=null&&f.type!=g.type||f.apply!=g.apply||f.boost!=g.boost?c.push(m):cw(m.completion)>cw(f)&&(c[c.length-1]=m),f=m.completion}return c}class Ul{constructor(e,t,i,s,a,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=a,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Ul(this.options,uw(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,a,o){if(s&&!o&&e.some(h=>h.isPending))return s.setDisabled();let c=iz(e,t);if(!c.length)return s&&e.some(h=>h.isPending)?s.setDisabled():null;let f=t.facet(un).selectOnOpen?0:-1;if(s&&s.selected!=f&&s.selected!=-1){let h=s.options[s.selected].completion;for(let m=0;m<c.length;m++)if(c[m].completion==h){f=m;break}}return new Ul(c,uw(i,f),{pos:e.reduce((h,m)=>m.hasResult()?Math.min(h,m.from):h,1e8),create:cz,above:a.aboveCursor},s?s.timestamp:Date.now(),f,!1)}map(e){return new Ul(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Ul(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class vd{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new vd(lz,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(un),a=(i.override||t.languageDataAt("autocomplete",Ua(t)).map(GL)).map(f=>(this.active.find(m=>m.source==f)||new Ii(f,this.active.some(m=>m.state!=0)?1:0)).update(e,i));a.length==this.active.length&&a.every((f,h)=>f==this.active[h])&&(a=this.active);let o=this.open,c=e.effects.some(f=>f.is(A1));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||a.some(f=>f.hasResult()&&e.changes.touchesRange(f.from,f.to))||!sz(a,this.active)||c?o=Ul.build(a,t,this.id,o,i,c):o&&o.disabled&&!a.some(f=>f.isPending)&&(o=null),!o&&a.every(f=>!f.isPending)&&a.some(f=>f.hasResult())&&(a=a.map(f=>f.hasResult()?new Ii(f.source,0):f));for(let f of e.effects)f.is(f5)&&(o=o&&o.setSelected(f.value,this.id));return a==this.active&&o==this.open?this:new vd(a,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?rz:az}}function sz(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let s=t==n.length,a=i==e.length;if(s||a)return s==a;if(n[t++].result!=e[i++].result)return!1}}const rz={"aria-autocomplete":"list"},az={};function uw(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const lz=[];function u5(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(w1);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Ii{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=u5(e,t),s=this;(i&8||i&16&&this.touches(e))&&(s=new Ii(s.source,0)),i&4&&s.state==0&&(s=new Ii(this.source,1)),s=s.updateFor(e,i);for(let a of e.effects)if(a.is(yd))s=new Ii(s.source,1,a.value);else if(a.is(ru))s=new Ii(s.source,0);else if(a.is(A1))for(let o of a.value)o.source==s.source&&(s=o);return s}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Ua(e.state))}}class Wl extends Ii{constructor(e,t,i,s,a,o){super(e,3,t),this.limit=i,this.result=s,this.from=a,this.to=o}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let a=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),c=Ua(e.state);if(c>o||!s||t&2&&(Ua(e.startState)==this.from||c<this.limit))return new Ii(this.source,t&4?1:0);let f=e.changes.mapPos(this.limit);return oz(s.validFor,e.state,a,o)?new Wl(this.source,this.explicit,f,s,a,o):s.update&&(s=s.update(s,a,o,new l5(e.state,c,!1)))?new Wl(this.source,this.explicit,f,s,s.from,(i=s.to)!==null&&i!==void 0?i:Ua(e.state)):new Ii(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Wl(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ii(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function oz(n,e,t,i){if(!n)return!1;let s=e.sliceDoc(t,i);return typeof n=="function"?n(s,t,i,e):c5(n,!0).test(s)}const A1=De.define({map(n,e){return n.map(t=>t.map(e))}}),f5=De.define(),Fn=hn.define({create(){return vd.start()},update(n,e){return n.update(e)},provide:n=>[o1.from(n,e=>e.tooltip),Oe.contentAttributes.from(n,e=>e.attrs)]});function C1(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Fn).active.find(s=>s.source==e.source);return i instanceof Wl?(typeof t=="string"?n.dispatch({...HL(n.state,t,i.from,i.to),annotations:w1.of(e.completion)}):t(n,e.completion,i.from,i.to),!0):!1}const cz=tz(Fn,C1);function xh(n,e="option"){return t=>{let i=t.state.field(Fn,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(un).interactionDelay)return!1;let s=1,a;e=="page"&&(a=XC(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,c=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:o-1;return c<0?c=e=="page"?0:o-1:c>=o&&(c=e=="page"?o-1:0),t.dispatch({effects:f5.of(c)}),!0}}const uz=n=>{let e=n.state.field(Fn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(un).interactionDelay?!1:C1(n,e.open.options[e.open.selected])},i0=n=>n.state.field(Fn,!1)?(n.dispatch({effects:yd.of(!0)}),!0):!1,fz=n=>{let e=n.state.field(Fn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:ru.of(null)}),!0)};class hz{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const dz=50,mz=1e3,pz=Vt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Fn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Fn),t=n.state.facet(un);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Fn)==e)return;let i=n.transactions.some(a=>{let o=u5(a,t);return o&8||(a.selection||a.docChanged)&&!(o&3)});for(let a=0;a<this.running.length;a++){let o=this.running[a];if(i||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>dz&&Date.now()-o.time>mz){for(let c of o.context.abortListeners)try{c()}catch(f){Jn(this.view.state,f)}o.context.abortListeners=null,this.running.splice(a--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(a=>a.effects.some(o=>o.is(yd)))&&(this.pendingStart=!0);let s=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(o=>o.active.source==a.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let a of n.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Fn);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(un).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Ua(e),i=new l5(e,t,n.explicit,this.view),s=new hz(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(a=>{s.context.aborted||(s.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:ru.of(null)}),Jn(this.view.state,a)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(un).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(un),i=this.view.state.field(Fn);for(let s=0;s<this.running.length;s++){let a=this.running[s];if(a.done===void 0)continue;if(this.running.splice(s--,1),a.done){let c=Ua(a.updates.length?a.updates[0].startState:this.view.state),f=Math.min(c,a.done.from+(a.active.explicit?0:1)),h=new Wl(a.active.source,a.active.explicit,f,a.done,a.done.from,(n=a.done.to)!==null&&n!==void 0?n:c);for(let m of a.updates)h=h.update(m,t);if(h.hasResult()){e.push(h);continue}}let o=i.active.find(c=>c.source==a.active.source);if(o&&o.isPending)if(a.done==null){let c=new Ii(a.active.source,0);for(let f of a.updates)c=c.update(f,t);c.isPending||e.push(c)}else this.startQuery(o)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:A1.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Fn,!1);if(e&&e.tooltip&&this.view.state.facet(un).closeOnBlur){let t=e.open&&XC(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:ru.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:yd.of(!1)}),20),this.composing=0}}}),gz=typeof navigator=="object"&&/Win/.test(navigator.platform),Oz=ua.highest(Oe.domEventHandlers({keydown(n,e){let t=e.state.field(Fn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(gz&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],s=t.active.find(o=>o.source==i.source),a=i.completion.commitCharacters||s.result.commitCharacters;return a&&a.indexOf(n.key)>-1&&C1(e,i),!1}})),h5=Oe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class xz{constructor(e,t,i,s){this.field=e,this.line=t,this.from=i,this.to=s}}class k1{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,vn.TrackDel),i=e.mapPos(this.to,1,vn.TrackDel);return t==null||i==null?null:new k1(this.field,t,i)}}class T1{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],s=[t],a=e.doc.lineAt(t),o=/^\s*/.exec(a.text)[0];for(let f of this.lines){if(i.length){let h=o,m=/^\t*/.exec(f)[0].length;for(let g=0;g<m;g++)h+=e.facet(wu);s.push(t+h.length-m),f=h+f.slice(m)}i.push(f),t+=f.length+1}let c=this.fieldPositions.map(f=>new k1(f.field,s[f.line]+f.from,s[f.line]+f.to));return{text:i,ranges:c}}static parse(e){let t=[],i=[],s=[],a;for(let o of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let c=a[1]?+a[1]:null,f=a[2]||a[3]||"",h=-1,m=f.replace(/\\[{}]/g,g=>g[1]);for(let g=0;g<t.length;g++)(c!=null?t[g].seq==c:m&&t[g].name==m)&&(h=g);if(h<0){let g=0;for(;g<t.length&&(c==null||t[g].seq!=null&&t[g].seq<c);)g++;t.splice(g,0,{seq:c,name:m}),h=g;for(let x of s)x.field>=h&&x.field++}for(let g of s)if(g.line==i.length&&g.from>a.index){let x=a[2]?3+(a[1]||"").length:2;g.from-=x,g.to-=x}s.push(new xz(h,i.length,a.index,a.index+m.length)),o=o.slice(0,a.index)+f+o.slice(a.index+a[0].length)}o=o.replace(/\\([{}])/g,(c,f,h)=>{for(let m of s)m.line==i.length&&m.from>h&&(m.from--,m.to--);return f}),i.push(o)}return new T1(i,s)}}let bz=je.widget({widget:new class extends gs{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),yz=je.mark({class:"cm-snippetField"});class po{constructor(e,t){this.ranges=e,this.active=t,this.deco=je.set(e.map(i=>(i.from==i.to?bz:yz).range(i.from,i.to)),!0)}map(e){let t=[];for(let i of this.ranges){let s=i.map(e);if(!s)return null;t.push(s)}return new po(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const Eu=De.define({map(n,e){return n&&n.map(e)}}),vz=De.define(),au=hn.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(Eu))return t.value;if(t.is(vz)&&n)return new po(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>Oe.decorations.from(n,e=>e?e.deco:je.none)});function E1(n,e){return fe.create(n.filter(t=>t.field==e).map(t=>fe.range(t.from,t.to)))}function Sz(n){let e=T1.parse(n);return(t,i,s,a)=>{let{text:o,ranges:c}=e.instantiate(t.state,s),{main:f}=t.state.selection,h={changes:{from:s,to:a==f.from?f.to:a,insert:nt.of(o)},scrollIntoView:!0,annotations:i?[w1.of(i),Kt.userEvent.of("input.complete")]:void 0};if(c.length&&(h.selection=E1(c,0)),c.some(m=>m.field>0)){let m=new po(c,0),g=h.effects=[Eu.of(m)];t.state.field(au,!1)===void 0&&g.push(De.appendConfig.of([au,Tz,Ez,h5]))}t.dispatch(t.state.update(h))}}function d5(n){return({state:e,dispatch:t})=>{let i=e.field(au,!1);if(!i||n<0&&i.active==0)return!1;let s=i.active+n,a=n>0&&!i.ranges.some(o=>o.field==s+n);return t(e.update({selection:E1(i.ranges,s),effects:Eu.of(a?null:new po(i.ranges,s)),scrollIntoView:!0})),!0}}const wz=({state:n,dispatch:e})=>n.field(au,!1)?(e(n.update({effects:Eu.of(null)})),!0):!1,Az=d5(1),Cz=d5(-1),kz=[{key:"Tab",run:Az,shift:Cz},{key:"Escape",run:wz}],fw=ye.define({combine(n){return n.length?n[0]:kz}}),Tz=ua.highest(vu.compute([fw],n=>n.facet(fw)));function Gn(n,e){return{...e,apply:Sz(n)}}const Ez=Oe.domEventHandlers({mousedown(n,e){let t=e.state.field(au,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let s=t.ranges.find(a=>a.from<=i&&a.to>=i);return!s||s.field==t.active?!1:(e.dispatch({selection:E1(t.ranges,s.field),effects:Eu.of(t.ranges.some(a=>a.field>s.field)?new po(t.ranges,s.field):null),scrollIntoView:!0}),!0)}}),lu={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},La=De.define({map(n,e){let t=e.mapPos(n,-1,vn.TrackAfter);return t??void 0}}),R1=new class extends ia{};R1.startSide=1;R1.endSide=-1;const m5=hn.define({create(){return Fe.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(La)&&(n=n.update({add:[R1.range(t.value,t.value+1)]}));return n}});function Rz(){return[Nz,m5]}const s0="()[]{}<>";function p5(n){for(let e=0;e<s0.length;e+=2)if(s0.charCodeAt(e)==n)return s0.charAt(e+1);return qO(n<128?n:n+1)}function g5(n,e){return n.languageDataAt("closeBrackets",e)[0]||lu}const Qz=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Nz=Oe.inputHandler.of((n,e,t,i)=>{if((Qz?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&Ms(Wn(i,0))==1||e!=s.from||t!=s.to)return!1;let a=Pz(n.state,i);return a?(n.dispatch(a),!0):!1}),jz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=g5(n,n.selection.main.head).brackets||lu.brackets,s=null,a=n.changeByRange(o=>{if(o.empty){let c=_z(n.doc,o.head);for(let f of i)if(f==c&&Jd(n.doc,o.head)==p5(Wn(f,0)))return{changes:{from:o.head-f.length,to:o.head+f.length},range:fe.cursor(o.head-f.length)}}return{range:s=o}});return s||e(n.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},Mz=[{key:"Backspace",run:jz}];function Pz(n,e){let t=g5(n,n.selection.main.head),i=t.brackets||lu.brackets;for(let s of i){let a=p5(Wn(s,0));if(e==s)return a==s?Lz(n,s,i.indexOf(s+s+s)>-1,t):Dz(n,s,a,t.before||lu.before);if(e==a&&O5(n,n.selection.main.from))return $z(n,s,a)}return null}function O5(n,e){let t=!1;return n.field(m5).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Jd(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Ms(Wn(t,0)))}function _z(n,e){let t=n.sliceString(e-2,e);return Ms(Wn(t,0))==t.length?t:t.slice(1)}function Dz(n,e,t,i){let s=null,a=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:La.of(o.to+e.length),range:fe.range(o.anchor+e.length,o.head+e.length)};let c=Jd(n.doc,o.head);return!c||/\s/.test(c)||i.indexOf(c)>-1?{changes:{insert:e+t,from:o.head},effects:La.of(o.head+e.length),range:fe.cursor(o.head+e.length)}:{range:s=o}});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function $z(n,e,t){let i=null,s=n.changeByRange(a=>a.empty&&Jd(n.doc,a.head)==t?{changes:{from:a.head,to:a.head+t.length,insert:t},range:fe.cursor(a.head+t.length)}:i={range:a});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Lz(n,e,t,i){let s=i.stringPrefixes||lu.stringPrefixes,a=null,o=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:La.of(c.to+e.length),range:fe.range(c.anchor+e.length,c.head+e.length)};let f=c.head,h=Jd(n.doc,f),m;if(h==e){if(hw(n,f))return{changes:{insert:e+e,from:f},effects:La.of(f+e.length),range:fe.cursor(f+e.length)};if(O5(n,f)){let x=t&&n.sliceDoc(f,f+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:f,to:f+x.length,insert:x},range:fe.cursor(f+x.length)}}}else{if(t&&n.sliceDoc(f-2*e.length,f)==e+e&&(m=dw(n,f-2*e.length,s))>-1&&hw(n,m))return{changes:{insert:e+e+e+e,from:f},effects:La.of(f+e.length),range:fe.cursor(f+e.length)};if(n.charCategorizer(f)(h)!=Rt.Word&&dw(n,f,s)>-1&&!zz(n,f,e,s))return{changes:{insert:e+e,from:f},effects:La.of(f+e.length),range:fe.cursor(f+e.length)}}return{range:a=c}});return a?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function hw(n,e){let t=on(n).resolveInner(e+1);return t.parent&&t.from==e}function zz(n,e,t,i){let s=on(n).resolveInner(e,-1),a=i.reduce((o,c)=>Math.max(o,c.length),0);for(let o=0;o<5;o++){let c=n.sliceDoc(s.from,Math.min(s.to,s.from+t.length+a)),f=c.indexOf(t);if(!f||f>-1&&i.indexOf(c.slice(0,f))>-1){let m=s.firstChild;for(;m&&m.from==s.from&&m.to-m.from>t.length+f;){if(n.sliceDoc(m.to-t.length,m.to)==t)return!1;m=m.firstChild}return!0}let h=s.to==e&&s.parent;if(!h)break;s=h}return!1}function dw(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Rt.Word)return e;for(let s of t){let a=e-s.length;if(n.sliceDoc(a,e)==s&&i(n.sliceDoc(a-1,a))!=Rt.Word)return a}return-1}function Bz(n={}){return[Oz,Fn,un.of(n),pz,Zz,h5]}const x5=[{key:"Ctrl-Space",run:i0},{mac:"Alt-`",run:i0},{mac:"Alt-i",run:i0},{key:"Escape",run:fz},{key:"ArrowDown",run:xh(!0)},{key:"ArrowUp",run:xh(!1)},{key:"PageDown",run:xh(!0,"page")},{key:"PageUp",run:xh(!1,"page")},{key:"Enter",run:uz}],Zz=ua.highest(vu.computeN([un],n=>n.facet(un).defaultKeymap?[x5]:[]));class mw{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Ma{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=i.facet(ou).markerFilter;s&&(e=s(e,i));let a=e.slice().sort((y,v)=>y.from-v.from||y.to-v.to),o=new dr,c=[],f=0,h=i.doc.iter(),m=0,g=i.doc.length;for(let y=0;;){let v=y==a.length?null:a[y];if(!v&&!c.length)break;let S,w;if(c.length)S=f,w=c.reduce((E,j)=>Math.min(E,j.to),v&&v.from>S?v.from:1e8);else{if(S=v.from,S>g)break;w=v.to,c.push(v),y++}for(;y<a.length;){let E=a[y];if(E.from==S&&(E.to>E.from||E.to==S))c.push(E),y++,w=Math.min(E.to,w);else{w=Math.min(E.from,w);break}}w=Math.min(w,g);let C=!1;if(c.some(E=>E.from==S&&(E.to==w||w==g))&&(C=S==w,!C&&w-S<10)){let E=S-(m+h.value.length);E>0&&(h.next(E),m=S);for(let j=S;;){if(j>=w){C=!0;break}if(!h.lineBreak&&m+h.value.length>j)break;j=m+h.value.length,m+=h.value.length,h.next()}}let R=eB(c);if(C)o.add(S,S,je.widget({widget:new Wz(R),diagnostics:c.slice()}));else{let E=c.reduce((j,Q)=>Q.markClass?j+" "+Q.markClass:j,"");o.add(S,w,je.mark({class:"cm-lintRange cm-lintRange-"+R+E,diagnostics:c.slice(),inclusiveEnd:c.some(j=>j.to>w)}))}if(f=w,f==g)break;for(let E=0;E<c.length;E++)c[E].to<=f&&c.splice(E--,1)}let x=o.finish();return new Ma(x,t,lo(x))}}function lo(n,e=null,t=0){let i=null;return n.between(t,1e9,(s,a,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!i)i=new mw(s,a,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new mw(i.from,a,i.diagnostic)}}),i}function Uz(n,e){let t=e.pos,i=e.end||t,s=n.state.facet(ou).hideOn(n,t,i);if(s!=null)return s;let a=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(b5))||n.changes.touchesRange(a.from,Math.max(a.to,i)))}function Xz(n,e){return n.field(Si,!1)?e:e.concat(De.appendConfig.of(tB))}const b5=De.define(),Q1=De.define(),y5=De.define(),Si=hn.define({create(){return new Ma(je.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,s=n.panel;if(n.selected){let a=e.changes.mapPos(n.selected.from,1);i=lo(t,n.selected.diagnostic,a)||lo(t,null,a)}!t.size&&s&&e.state.facet(ou).autoPanel&&(s=null),n=new Ma(t,s,i)}for(let t of e.effects)if(t.is(b5)){let i=e.state.facet(ou).autoPanel?t.value.length?cu.open:null:n.panel;n=Ma.init(t.value,i,e.state)}else t.is(Q1)?n=new Ma(n.diagnostics,t.value?cu.open:null,n.selected):t.is(y5)&&(n=new Ma(n.diagnostics,n.panel,t.value));return n},provide:n=>[eu.from(n,e=>e.panel),Oe.decorations.from(n,e=>e.diagnostics)]}),Iz=je.mark({class:"cm-lintRange cm-lintRange-active"});function Yz(n,e,t){let{diagnostics:i}=n.state.field(Si),s,a=-1,o=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(f,h,{spec:m})=>{if(e>=f&&e<=h&&(f==h||(e>f||t>0)&&(e<h||t<0)))return s=m.diagnostics,a=f,o=h,!1});let c=n.state.facet(ou).tooltipFilter;return s&&c&&(s=c(s,n.state)),s?{pos:a,end:o,above:n.state.doc.lineAt(a).to<o,create(){return{dom:Vz(n,s)}}}:null}function Vz(n,e){return xt("ul",{class:"cm-tooltip-lint"},e.map(t=>S5(n,t,!1)))}const qz=n=>{let e=n.state.field(Si,!1);(!e||!e.panel)&&n.dispatch({effects:Xz(n.state,[Q1.of(!0)])});let t=Jc(n,cu.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},pw=n=>{let e=n.state.field(Si,!1);return!e||!e.panel?!1:(n.dispatch({effects:Q1.of(!1)}),!0)},Hz=n=>{let e=n.state.field(Si,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},Gz=[{key:"Mod-Shift-m",run:qz,preventDefault:!0},{key:"F8",run:Hz}],ou=ye.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...Is(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:gw,tooltipFilter:gw,needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t,hideOn:(e,t)=>e?t?(i,s,a)=>e(i,s,a)||t(i,s,a):e:t,autoPanel:(e,t)=>e||t})}}});function gw(n,e){return n?e?(t,i)=>e(n(t,i),i):n:e}function v5(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(a=>a.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function S5(n,e,t){var i;let s=t?v5(e.actions):[];return xt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},xt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((a,o)=>{let c=!1,f=y=>{if(y.preventDefault(),c)return;c=!0;let v=lo(n.state.field(Si).diagnostics,e);v&&a.apply(n,v.from,v.to)},{name:h}=a,m=s[o]?h.indexOf(s[o]):-1,g=m<0?h:[h.slice(0,m),xt("u",h.slice(m,m+1)),h.slice(m+1)],x=a.markClass?" "+a.markClass:"";return xt("button",{type:"button",class:"cm-diagnosticAction"+x,onclick:f,onmousedown:f,"aria-label":` Action: ${h}${m<0?"":` (access key "${s[o]})"`}.`},g)}),e.source&&xt("div",{class:"cm-diagnosticSource"},e.source))}class Wz extends gs{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return xt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Ow{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=S5(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class cu{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)pw(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],o=v5(a.actions);for(let c=0;c<o.length;c++)if(o[c].toUpperCase().charCodeAt(0)==s.keyCode){let f=lo(this.view.state.field(Si).diagnostics,a);f&&a.actions[c].apply(e,f.from,f.to)}}else return;s.preventDefault()},i=s=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(s.target)&&this.moveSelection(a)};this.list=xt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=xt("div",{class:"cm-panel-lint"},this.list,xt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>pw(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Si).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Si),i=0,s=!1,a=null,o=new Set;for(e.between(0,this.view.state.doc.length,(c,f,{spec:h})=>{for(let m of h.diagnostics){if(o.has(m))continue;o.add(m);let g=-1,x;for(let y=i;y<this.items.length;y++)if(this.items[y].diagnostic==m){g=y;break}g<0?(x=new Ow(this.view,m),this.items.splice(i,0,x),s=!0):(x=this.items[g],g>i&&(this.items.splice(i,g-i),s=!0)),t&&x.diagnostic==t.diagnostic?x.dom.hasAttribute("aria-selected")||(x.dom.setAttribute("aria-selected","true"),a=x):x.dom.hasAttribute("aria-selected")&&x.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new Ow(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:f})=>{let h=f.height/this.list.offsetHeight;c.top<f.top?this.list.scrollTop-=(f.top-c.top)/h:c.bottom>f.bottom&&(this.list.scrollTop+=(c.bottom-f.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Si),i=lo(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:y5.of(i)})}static open(e){return new cu(e)}}function Fz(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function bh(n){return Fz(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Kz=Oe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:bh("#d11")},".cm-lintRange-warning":{backgroundImage:bh("orange")},".cm-lintRange-info":{backgroundImage:bh("#999")},".cm-lintRange-hint":{backgroundImage:bh("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Jz(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function eB(n){let e="hint",t=1;for(let i of n){let s=Jz(i.severity);s>t&&(t=s,e=i.severity)}return e}const tB=[Si,Oe.decorations.compute([Si],n=>{let{selected:e,panel:t}=n.field(Si);return!e||!t||e.from==e.to?je.none:je.set([Iz.range(e.from,e.to)])}),$8(Yz,{hideOn:Uz}),Kz];var xw=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(Mz)),e.defaultKeymap!==!1&&(i=i.concat(gL)),e.searchKeymap!==!1&&(i=i.concat(UL)),e.historyKeymap!==!1&&(i=i.concat(w9)),e.foldKeymap!==!1&&(i=i.concat($7)),e.completionKeymap!==!1&&(i=i.concat(x5)),e.lintKeymap!==!1&&(i=i.concat(Gz));var s=[];return e.lineNumbers!==!1&&s.push(H8()),e.highlightActiveLineGutter!==!1&&s.push(F8()),e.highlightSpecialChars!==!1&&s.push(h8()),e.history!==!1&&s.push(m9()),e.foldGutter!==!1&&s.push(Z7()),e.drawSelection!==!1&&s.push(t8()),e.dropCursor!==!1&&s.push(a8()),e.allowMultipleSelections!==!1&&s.push(et.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&s.push(T7()),e.syntaxHighlighting!==!1&&s.push(pk(Y7,{fallback:!0})),e.bracketMatching!==!1&&s.push(K7()),e.closeBrackets!==!1&&s.push(Rz()),e.autocompletion!==!1&&s.push(Bz()),e.rectangularSelection!==!1&&s.push(k8()),t!==!1&&s.push(R8()),e.highlightActiveLine!==!1&&s.push(x8()),e.highlightSelectionMatches!==!1&&s.push(wL()),e.tabSize&&typeof e.tabSize=="number"&&s.push(wu.of(" ".repeat(e.tabSize))),s.concat([vu.of(i.flat())]).filter(Boolean)};const nB="#e5c07b",bw="#e06c75",iB="#56b6c2",sB="#ffffff",_h="#abb2bf",xO="#7d8799",rB="#61afef",aB="#98c379",yw="#d19a66",lB="#c678dd",oB="#21252b",vw="#2c313a",Sw="#282c34",r0="#353a42",cB="#3E4451",ww="#528bff",uB=Oe.theme({"&":{color:_h,backgroundColor:Sw},".cm-content":{caretColor:ww},".cm-cursor, .cm-dropCursor":{borderLeftColor:ww},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:cB},".cm-panels":{backgroundColor:oB,color:_h},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Sw,color:xO,border:"none"},".cm-activeLineGutter":{backgroundColor:vw},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:r0},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:r0,borderBottomColor:r0},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:vw,color:_h}}},{dark:!0}),fB=Cu.define([{tag:q.keyword,color:lB},{tag:[q.name,q.deleted,q.character,q.propertyName,q.macroName],color:bw},{tag:[q.function(q.variableName),q.labelName],color:rB},{tag:[q.color,q.constant(q.name),q.standard(q.name)],color:yw},{tag:[q.definition(q.name),q.separator],color:_h},{tag:[q.typeName,q.className,q.number,q.changed,q.annotation,q.modifier,q.self,q.namespace],color:nB},{tag:[q.operator,q.operatorKeyword,q.url,q.escape,q.regexp,q.link,q.special(q.string)],color:iB},{tag:[q.meta,q.comment],color:xO},{tag:q.strong,fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.link,color:xO,textDecoration:"underline"},{tag:q.heading,fontWeight:"bold",color:bw},{tag:[q.atom,q.bool,q.special(q.variableName)],color:yw},{tag:[q.processingInstruction,q.string,q.inserted],color:aB},{tag:q.invalid,color:sB}]),w5=[uB,pk(fB)];var hB=Oe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),dB=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:s=!1,theme:a="light",placeholder:o="",basicSetup:c=!0}=e,f=[];switch(t&&f.unshift(vu.of([OL])),c&&(typeof c=="boolean"?f.unshift(xw()):f.unshift(xw(c))),o&&f.unshift(S8(o)),a){case"light":f.push(hB);break;case"dark":f.push(w5);break;case"none":break;default:f.push(a);break}return i===!1&&f.push(Oe.editable.of(!1)),s&&f.push(et.readOnly.of(!0)),[...f]},mB=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class pB{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Aw{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var a0=null,gB=()=>typeof window>"u"?new Aw:(a0||(a0=new Aw),a0),Cw=Xs.define(),OB=200,xB=[];function bB(n){var{value:e,selection:t,onChange:i,onStatistics:s,onCreateEditor:a,onUpdate:o,extensions:c=xB,autoFocus:f,theme:h="light",height:m=null,minHeight:g=null,maxHeight:x=null,width:y=null,minWidth:v=null,maxWidth:S=null,placeholder:w="",editable:C=!0,readOnly:R=!1,indentWithTab:E=!0,basicSetup:j=!0,root:Q,initialState:M}=n,[k,$]=T.useState(),[D,L]=T.useState(),[V,z]=T.useState(),I=T.useState(()=>({current:null}))[0],H=T.useState(()=>({current:null}))[0],F=Oe.theme({"&":{height:m,minHeight:g,maxHeight:x,width:y,minWidth:v,maxWidth:S},"& .cm-scroller":{height:"100% !important"}}),P=Oe.updateListener.of(ie=>{if(ie.docChanged&&typeof i=="function"&&!ie.transactions.some(X=>X.annotation(Cw))){I.current?I.current.reset():(I.current=new pB(()=>{if(H.current){var X=H.current;H.current=null,X()}I.current=null},OB),gB().add(I.current));var le=ie.state.doc,_=le.toString();i(_,ie)}s&&s(mB(ie))}),Z=dB({theme:h,editable:C,readOnly:R,placeholder:w,indentWithTab:E,basicSetup:j}),K=[P,F,...Z];return o&&typeof o=="function"&&K.push(Oe.updateListener.of(o)),K=K.concat(c),T.useLayoutEffect(()=>{if(k&&!V){var ie={doc:e,selection:t,extensions:K},le=M?et.fromJSON(M.json,ie,M.fields):et.create(ie);if(z(le),!D){var _=new Oe({state:le,parent:k,root:Q});L(_),a&&a(_,le)}}return()=>{D&&(z(void 0),L(void 0))}},[k,V]),T.useEffect(()=>{n.container&&$(n.container)},[n.container]),T.useEffect(()=>()=>{D&&(D.destroy(),L(void 0)),I.current&&(I.current.cancel(),I.current=null)},[D]),T.useEffect(()=>{f&&D&&D.focus()},[f,D]),T.useEffect(()=>{D&&D.dispatch({effects:De.reconfigure.of(K)})},[h,c,m,g,x,y,v,S,w,C,R,E,j,i,o]),T.useEffect(()=>{if(e!==void 0){var ie=D?D.state.doc.toString():"";if(D&&e!==ie){var le=I.current&&!I.current.isDone,_=()=>{D&&e!==D.state.doc.toString()&&D.dispatch({changes:{from:0,to:D.state.doc.toString().length,insert:e||""},annotations:[Cw.of(!0)]})};le?H.current=_:_()}}},[e,D]),{state:V,setState:z,view:D,setView:L,container:k,setContainer:$}}var yB=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],A5=T.forwardRef((n,e)=>{var{className:t,value:i="",selection:s,extensions:a=[],onChange:o,onStatistics:c,onCreateEditor:f,onUpdate:h,autoFocus:m,theme:g="light",height:x,minHeight:y,maxHeight:v,width:S,minWidth:w,maxWidth:C,basicSetup:R,placeholder:E,indentWithTab:j,editable:Q,readOnly:M,root:k,initialState:$}=n,D=Z6(n,yB),L=T.useRef(null),{state:V,view:z,container:I,setContainer:H}=bB({root:k,value:i,autoFocus:m,theme:g,height:x,minHeight:y,maxHeight:v,width:S,minWidth:w,maxWidth:C,basicSetup:R,placeholder:E,indentWithTab:j,editable:Q,readOnly:M,selection:s,onChange:o,onStatistics:c,onCreateEditor:f,onUpdate:h,extensions:a,initialState:$});T.useImperativeHandle(e,()=>({editor:L.current,state:V,view:z}),[L,I,V,z]);var F=T.useCallback(Z=>{L.current=Z,H(Z)},[H]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var P=typeof g=="string"?"cm-theme-"+g:"cm-theme";return p.jsx("div",A0({ref:F,className:""+P+(t?" "+t:"")},D))});A5.displayName="CodeMirror";var kw={};class Sd{constructor(e,t,i,s,a,o,c,f,h,m=0,g){this.p=e,this.stack=t,this.state=i,this.reducePos=s,this.pos=a,this.score=o,this.buffer=c,this.bufferBase=f,this.curContext=h,this.lookAhead=m,this.parent=g}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let s=e.parser.context;return new Sd(e,[],t,i,i,0,[],0,s?new Tw(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,s=e&65535,{parser:a}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=a.dynamicPrecedence(s);if(c&&(this.score+=c),i==0){this.pushState(a.getGoto(this.state,s,!0),this.reducePos),s<a.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(s,this.reducePos);return}let f=this.stack.length-(i-1)*3-(e&262144?6:0),h=f?this.stack[f-2]:this.p.ranges[0].from,m=this.reducePos-h;m>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=m));let g=f?this.stack[f-1]:0,x=this.bufferBase+this.buffer.length-g;if(s<a.minRepeatTerm||e&131072){let y=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,h,y,x+4,!0)}if(e&262144)this.state=this.stack[f];else{let y=this.stack[f-3];this.state=a.getGoto(y,s,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(s,h)}storeNode(e,t,i,s=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,c=this.buffer.length;if(c==0&&o.parent&&(c=o.bufferBase-o.parent.bufferBase,o=o.parent),c>0&&o.buffer[c-4]==0&&o.buffer[c-1]>-1){if(t==i)return;if(o.buffer[c-2]>=t){o.buffer[c-2]=i;return}}}if(!a||this.pos==i)this.buffer.push(e,t,i,s);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let c=!1;for(let f=o;f>0&&this.buffer[f-2]>i;f-=4)if(this.buffer[f-1]>=0){c=!0;break}if(c)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,s>4&&(s-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=s}}shift(e,t,i,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:o}=this.p;(s>this.pos||t<=o.maxNode)&&(this.pos=s,o.stateFlag(a,1)||(this.reducePos=s)),this.pushState(a,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,s,4)}else this.pos=s,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,s,4)}apply(e,t,i,s){e&65536?this.reduce(e):this.shift(e,t,i,s)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new Sd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new vB(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let a=0,o;a<t.length;a+=2)(o=t[a+1])!=this.state&&this.p.parser.hasAction(o,e)&&s.push(t[a],o);if(this.stack.length<120)for(let a=0;s.length<8&&a<t.length;a+=2){let o=t[a+1];s.some((c,f)=>f&1&&c==o)||s.push(t[a],o)}t=s}let i=[];for(let s=0;s<t.length&&i.length<4;s+=2){let a=t[s+1];if(a==this.state)continue;let o=this.split();o.pushState(a,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[s],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,s=t&65535,a=this.stack.length-i*3;if(a<0||e.getGoto(this.stack[a],s,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(s,a)=>{if(!t.includes(s))return t.push(s),e.allActions(s,o=>{if(!(o&393216))if(o&65536){let c=(o>>19)-a;if(c>1){let f=o&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],f,!1)>=0)return c<<19|65536|f}}else{let c=i(o,a+1);if(c!=null)return c}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Tw(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Tw{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class vB{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class wd{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new wd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new wd(this.stack,this.pos,this.index)}}function wc(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,s=0;i<n.length;){let a=0;for(;;){let o=n.charCodeAt(i++),c=!1;if(o==126){a=65535;break}o>=92&&o--,o>=34&&o--;let f=o-32;if(f>=46&&(f-=46,c=!0),a+=f,c)break;a*=46}t?t[s++]=a:t=new e(a)}return t}class Dh{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Ew=new Dh;class SB{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Ew,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,s=this.rangeIndex,a=this.pos+e;for(;a<i.from;){if(!s)return null;let o=this.ranges[--s];a-=i.from-o.to,i=o}for(;t<0?a>i.to:a>=i.to;){if(s==this.ranges.length-1)return null;let o=this.ranges[++s];a+=o.from-i.to,i=o}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,s;if(t>=0&&t<this.chunk.length)i=this.pos+e,s=this.chunk.charCodeAt(t);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(i=a,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,c=this.range;for(;c.to<=i;)c=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Ew,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return i}}class Fl{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;C5(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Fl.prototype.contextual=Fl.prototype.fallback=Fl.prototype.extend=!1;class bO{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?wc(e):e}token(e,t){let i=e.pos,s=0;for(;;){let a=e.next<0,o=e.resolveOffset(1,1);if(C5(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(a||s++,o==null)break;e.reset(o,e.token)}s&&(e.reset(i,e.token),e.acceptToken(this.elseToken,s))}}bO.prototype.contextual=Fl.prototype.fallback=Fl.prototype.extend=!1;class Ru{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function C5(n,e,t,i,s,a){let o=0,c=1<<i,{dialect:f}=t.p.parser;e:for(;(c&n[o])!=0;){let h=n[o+1];for(let y=o+3;y<h;y+=2)if((n[y+1]&c)>0){let v=n[y];if(f.allows(v)&&(e.token.value==-1||e.token.value==v||wB(v,e.token.value,s,a))){e.acceptToken(v);break}}let m=e.next,g=0,x=n[o+2];if(e.next<0&&x>g&&n[h+x*3-3]==65535){o=n[h+x*3-1];continue e}for(;g<x;){let y=g+x>>1,v=h+y+(y<<1),S=n[v],w=n[v+1]||65536;if(m<S)x=y;else if(m>=w)g=y+1;else{o=n[v+2],e.advance();continue e}}break}}function Rw(n,e,t){for(let i=e,s;(s=n[i])!=65535;i++)if(s==t)return i-e;return-1}function wB(n,e,t,i){let s=Rw(t,i,e);return s<0||Rw(t,i,n)<s}const Oi=typeof process<"u"&&kw&&/\bparse\b/.test(kw.LOG);let l0=null;function Qw(n,e,t){let i=n.cursor(rn.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class AB{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Qw(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Qw(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],s=this.index[t];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=i.children[s],o=this.start[t]+i.positions[s];if(o>e)return this.nextStart=o,null;if(a instanceof Jt){if(o==e){if(o<this.safeFrom)return null;let c=o+a.length;if(c<=this.safeTo){let f=a.prop(Ie.lookAhead);if(!f||c+f<this.fragment.to)return a}}this.index[t]++,o+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+a.length}}}class CB{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Dh)}getActions(e){let t=0,i=null,{parser:s}=e.p,{tokenizers:a}=s,o=s.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,f=0;for(let h=0;h<a.length;h++){if((1<<h&o)==0)continue;let m=a[h],g=this.tokens[h];if(!(i&&!m.fallback)&&((m.contextual||g.start!=e.pos||g.mask!=o||g.context!=c)&&(this.updateCachedToken(g,m,e),g.mask=o,g.context=c),g.lookAhead>g.end+25&&(f=Math.max(g.lookAhead,f)),g.value!=0)){let x=t;if(g.extended>-1&&(t=this.addActions(e,g.extended,g.end,t)),t=this.addActions(e,g.value,g.end,t),!m.extend&&(i=g,t>x))break}}for(;this.actions.length>t;)this.actions.pop();return f&&e.setLookAhead(f),!i&&e.pos==this.stream.end&&(i=new Dh,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Dh,{pos:i,p:s}=e;return t.start=i,t.end=Math.min(i+1,s.stream.end),t.value=i==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,i){let s=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(s,e),i),e.value>-1){let{parser:a}=i.p;for(let o=0;o<a.specialized.length;o++)if(a.specialized[o]==e.value){let c=a.specializers[o](this.stream.read(e.start,e.end),i);if(c>=0&&i.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,i,s){for(let a=0;a<s;a+=3)if(this.actions[a]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=i,s}addActions(e,t,i,s){let{state:a}=e,{parser:o}=e.p,{data:c}=o;for(let f=0;f<2;f++)for(let h=o.stateSlot(a,f?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=ur(c,h+2);else{s==0&&c[h+1]==2&&(s=this.putAction(ur(c,h+2),t,i,s));break}c[h]==t&&(s=this.putAction(ur(c,h+1),t,i,s))}return s}}class kB{constructor(e,t,i,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new SB(t,s),this.tokens=new CB(e,this.stream),this.topTerm=e.top[1];let{from:a}=s[0];this.stacks=[Sd.start(this,e.top[0],a)],this.fragments=i.length&&this.stream.end-a>e.bufferLength*4?new AB(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],s,a;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let c=e[o];for(;;){if(this.tokens.mainToken=null,c.pos>t)i.push(c);else{if(this.advanceStack(c,i,e))continue;{s||(s=[],a=[]),s.push(c);let f=this.tokens.getMainToken(c);a.push(f.value,f.end)}}break}}if(!i.length){let o=s&&RB(s);if(o)return Oi&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Oi&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let o=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,a,i);if(o)return Oi&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((c,f)=>f.score-c.score);i.length>o;)i.pop();i.some(c=>c.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let c=i[o];for(let f=o+1;f<i.length;f++){let h=i[f];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)i.splice(f--,1);else{i.splice(o--,1);continue e}}}i.length>12&&(i.sort((o,c)=>c.score-o.score),i.splice(12,i.length-12))}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let s=e.pos,{parser:a}=this,o=Oi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,m=h?e.curContext.hash:0;for(let g=this.fragments.nodeAt(s);g;){let x=this.parser.nodeSet.types[g.type.id]==g.type?a.getGoto(e.state,g.type.id):-1;if(x>-1&&g.length&&(!h||(g.prop(Ie.contextHash)||0)==m))return e.useNode(g,x),Oi&&console.log(o+this.stackID(e)+` (via reuse of ${a.getName(g.type.id)})`),!0;if(!(g instanceof Jt)||g.children.length==0||g.positions[0]>0)break;let y=g.children[0];if(y instanceof Jt&&g.positions[0]==0)g=y;else break}}let c=a.stateSlot(e.state,4);if(c>0)return e.reduce(c),Oi&&console.log(o+this.stackID(e)+` (via always-reduce ${a.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let f=this.tokens.getActions(e);for(let h=0;h<f.length;){let m=f[h++],g=f[h++],x=f[h++],y=h==f.length||!i,v=y?e:e.split(),S=this.tokens.mainToken;if(v.apply(m,g,S?S.start:v.pos,x),Oi&&console.log(o+this.stackID(v)+` (via ${(m&65536)==0?"shift":`reduce of ${a.getName(m&65535)}`} for ${a.getName(g)} @ ${s}${v==e?"":", split"})`),y)return!0;v.pos>s?t.push(v):i.push(v)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Nw(e,t),!0}}runRecovery(e,t,i){let s=null,a=!1;for(let o=0;o<e.length;o++){let c=e[o],f=t[o<<1],h=t[(o<<1)+1],m=Oi?this.stackID(c)+" -> ":"";if(c.deadEnd&&(a||(a=!0,c.restart(),Oi&&console.log(m+this.stackID(c)+" (restarted)"),this.advanceFully(c,i))))continue;let g=c.split(),x=m;for(let y=0;y<10&&g.forceReduce()&&(Oi&&console.log(x+this.stackID(g)+" (via force-reduce)"),!this.advanceFully(g,i));y++)Oi&&(x=this.stackID(g)+" -> ");for(let y of c.recoverByInsert(f))Oi&&console.log(m+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,i);this.stream.end>c.pos?(h==c.pos&&(h++,f=0),c.recoverByDelete(f,h),Oi&&console.log(m+this.stackID(c)+` (via recover-delete ${this.parser.getName(f)})`),Nw(c,i)):(!s||s.score<c.score)&&(s=c)}return s}stackToTree(e){return e.close(),Jt.build({buffer:wd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(l0||(l0=new WeakMap)).get(e);return t||l0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Nw(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class TB{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const o0=n=>n;class EB{constructor(e){this.start=e.start,this.shift=e.shift||o0,this.reduce=e.reduce||o0,this.reuse=e.reuse||o0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ad extends FC{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let i=Object.keys(e.topRules).map(c=>e.topRules[c][1]),s=[];for(let c=0;c<t.length;c++)s.push([]);function a(c,f,h){s[c].push([f,f.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let f=c[0];typeof f=="string"&&(f=Ie[f]);for(let h=1;h<c.length;){let m=c[h++];if(m>=0)a(m,f,c[h++]);else{let g=c[h+-m];for(let x=-m;x>0;x--)a(c[h++],f,g);h++}}}this.nodeSet=new c1(t.map((c,f)=>ai.define({name:f>=this.minRepeatTerm?void 0:c,id:f,props:s[f],top:i.indexOf(f)>-1,error:f==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(f)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=qC;let o=wc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(jw),this.states=wc(e.states,Uint32Array),this.data=wc(e.stateData),this.goto=wc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new Fl(o,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let s=new kB(this,e,t,i);for(let a of this.wrappers)s=a(s,e,t,i);return s}getGoto(e,t,i=!1){let s=this.goto;if(t>=s[0])return-1;for(let a=s[t+1];;){let o=s[a++],c=o&1,f=s[a++];if(c&&i)return f;for(let h=a+(o>>1);a<h;a++)if(s[a]==e)return f;if(c)return-1}}hasAction(e,t){let i=this.data;for(let s=0;s<2;s++)for(let a=this.stateSlot(e,s?2:1),o;;a+=3){if((o=i[a])==65535)if(i[a+1]==1)o=i[a=ur(i,a+2)];else{if(i[a+1]==2)return ur(i,a+2);break}if(o==t||o==0)return ur(i,a+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),s=i?t(i):void 0;for(let a=this.stateSlot(e,1);s==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=ur(this.data,a+2);else break;s=t(ur(this.data,a+1))}return s}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ur(this.data,i+2);else break;if((this.data[i+2]&1)==0){let s=this.data[i+1];t.some((a,o)=>o&1&&a==s)||t.push(this.data[i],s)}}return t}configure(e){let t=Object.assign(Object.create(Ad.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let s=e.tokenizers.find(a=>a.from==i);return s?s.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,s)=>{let a=e.specializers.find(c=>c.from==i.external);if(!a)return i;let o=Object.assign(Object.assign({},i),{external:a.to});return t.specializers[s]=jw(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let a of e.split(" ")){let o=t.indexOf(a);o>=0&&(i[o]=!0)}let s=null;for(let a=0;a<t.length;a++)if(!i[a])for(let o=this.dialects[t[a]],c;(c=this.data[o++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new TB(e,i,s)}static deserialize(e){return new Ad(e)}}function ur(n,e){return n[e]|n[e+1]<<16}function RB(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function jw(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const QB=316,NB=317,Mw=1,jB=2,MB=3,PB=4,_B=318,DB=320,$B=321,LB=5,zB=6,BB=0,yO=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],k5=125,ZB=59,vO=47,UB=42,XB=43,IB=45,YB=60,VB=44,qB=63,HB=46,GB=91,WB=new EB({start:!1,shift(n,e){return e==LB||e==zB||e==DB?n:e==$B},strict:!1}),FB=new Ru((n,e)=>{let{next:t}=n;(t==k5||t==-1||e.context)&&n.acceptToken(_B)},{contextual:!0,fallback:!0}),KB=new Ru((n,e)=>{let{next:t}=n,i;yO.indexOf(t)>-1||t==vO&&((i=n.peek(1))==vO||i==UB)||t!=k5&&t!=ZB&&t!=-1&&!e.context&&n.acceptToken(QB)},{contextual:!0}),JB=new Ru((n,e)=>{n.next==GB&&!e.context&&n.acceptToken(NB)},{contextual:!0}),eZ=new Ru((n,e)=>{let{next:t}=n;if(t==XB||t==IB){if(n.advance(),t==n.next){n.advance();let i=!e.context&&e.canShift(Mw);n.acceptToken(i?Mw:jB)}}else t==qB&&n.peek(1)==HB&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(MB))},{contextual:!0});function c0(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const tZ=new Ru((n,e)=>{if(n.next!=YB||!e.dialectEnabled(BB)||(n.advance(),n.next==vO))return;let t=0;for(;yO.indexOf(n.next)>-1;)n.advance(),t++;if(c0(n.next,!0)){for(n.advance(),t++;c0(n.next,!1);)n.advance(),t++;for(;yO.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==VB)return;for(let i=0;;i++){if(i==7){if(!c0(n.next,!0))return;break}if(n.next!="extends".charCodeAt(i))break;n.advance(),t++}}n.acceptToken(PB,-t)}),nZ=KC({"get set async static":q.modifier,"for while do if else switch try catch finally return throw break continue default case defer":q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":q.operatorKeyword,"let var const using function class extends":q.definitionKeyword,"import export from":q.moduleKeyword,"with debugger new":q.keyword,TemplateString:q.special(q.string),super:q.atom,BooleanLiteral:q.bool,this:q.self,null:q.null,Star:q.modifier,VariableName:q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":q.function(q.variableName),VariableDefinition:q.definition(q.variableName),Label:q.labelName,PropertyName:q.propertyName,PrivatePropertyName:q.special(q.propertyName),"CallExpression/MemberExpression/PropertyName":q.function(q.propertyName),"FunctionDeclaration/VariableDefinition":q.function(q.definition(q.variableName)),"ClassDeclaration/VariableDefinition":q.definition(q.className),"NewExpression/VariableName":q.className,PropertyDefinition:q.definition(q.propertyName),PrivatePropertyDefinition:q.definition(q.special(q.propertyName)),UpdateOp:q.updateOperator,"LineComment Hashbang":q.lineComment,BlockComment:q.blockComment,Number:q.number,String:q.string,Escape:q.escape,ArithOp:q.arithmeticOperator,LogicOp:q.logicOperator,BitOp:q.bitwiseOperator,CompareOp:q.compareOperator,RegExp:q.regexp,Equals:q.definitionOperator,Arrow:q.function(q.punctuation),": Spread":q.punctuation,"( )":q.paren,"[ ]":q.squareBracket,"{ }":q.brace,"InterpolationStart InterpolationEnd":q.special(q.brace),".":q.derefOperator,", ;":q.separator,"@":q.meta,TypeName:q.typeName,TypeDefinition:q.definition(q.typeName),"type enum interface implements namespace module declare":q.definitionKeyword,"abstract global Privacy readonly override":q.modifier,"is keyof unique infer asserts":q.operatorKeyword,JSXAttributeValue:q.attributeValue,JSXText:q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":q.angleBracket,"JSXIdentifier JSXNameSpacedName":q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":q.attributeName,"JSXBuiltin/JSXIdentifier":q.standard(q.tagName)}),iZ={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},sZ={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},rZ={__proto__:null,"<":193},aZ=Ad.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:WB,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[nZ],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[KB,JB,eZ,tZ,2,3,4,5,6,7,8,9,10,11,12,13,14,FB,new bO("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new bO("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:n=>iZ[n]||-1},{term:343,get:n=>sZ[n]||-1},{term:95,get:n=>rZ[n]||-1}],tokenPrec:15201}),T5=[Gn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Gn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Gn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Gn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Gn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Gn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Gn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Gn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Gn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Gn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Gn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],lZ=T5.concat([Gn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Gn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Gn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Pw=new s7,E5=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function dc(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const oZ=["FunctionDeclaration"],cZ={FunctionDeclaration:dc("function"),ClassDeclaration:dc("class"),ClassExpression:()=>!0,EnumDeclaration:dc("constant"),TypeAliasDeclaration:dc("type"),NamespaceDeclaration:dc("namespace"),VariableDefinition(n,e){n.matchContext(oZ)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function R5(n,e){let t=Pw.get(e);if(t)return t;let i=[],s=!0;function a(o,c){let f=n.sliceString(o.from,o.to);i.push({label:f,type:c})}return e.cursor(rn.IncludeAnonymous).iterate(o=>{if(s)s=!1;else if(o.name){let c=cZ[o.name];if(c&&c(o,a)||E5.has(o.name))return!1}else if(o.to-o.from>8192){for(let c of R5(n,o.node))i.push(c);return!1}}),Pw.set(e,i),i}const _w=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Q5=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function uZ(n){let e=on(n.state).resolveInner(n.pos,-1);if(Q5.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&_w.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let s=e;s;s=s.parent)E5.has(s.name)&&(i=i.concat(R5(n.state.doc,s)));return{options:i,from:t?e.from:n.pos,validFor:_w}}const Xa=cd.define({name:"javascript",parser:aZ.configure({props:[ik.add({IfStatement:Gg({except:/^\s*({|else\b)/}),TryStatement:Gg({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:C7,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:A7({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Gg({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),ak.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":R7,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),N5={test:n=>/^JSX/.test(n.name),facet:tk({commentTokens:{block:{open:"{/*",close:"*/}"}}})},fZ=Xa.configure({dialect:"ts"},"typescript"),hZ=Xa.configure({dialect:"jsx",props:[d1.add(n=>n.isTop?[N5]:void 0)]}),dZ=Xa.configure({dialect:"jsx ts",props:[d1.add(n=>n.isTop?[N5]:void 0)]},"typescript");let j5=n=>({label:n,type:"keyword"});const M5="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(j5),mZ=M5.concat(["declare","implements","private","protected","public"].map(j5));function pZ(n={}){let e=n.jsx?n.typescript?dZ:hZ:n.typescript?fZ:Xa,t=n.typescript?lZ.concat(mZ):T5.concat(M5);return new g7(e,[Xa.data.of({autocomplete:qL(Q5,o5(t))}),Xa.data.of({autocomplete:uZ}),n.jsx?xZ:[]])}function gZ(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function Dw(n,e,t=n.length){for(let i=e?.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}const OZ=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),xZ=Oe.inputHandler.of((n,e,t,i,s)=>{if((OZ?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!Xa.isActiveAt(n.state,e,-1))return!1;let a=s(),{state:o}=a,c=o.changeByRange(f=>{var h;let{head:m}=f,g=on(o).resolveInner(m-1,-1),x;if(g.name=="JSXStartTag"&&(g=g.parent),!(o.doc.sliceString(m-1,m)!=i||g.name=="JSXAttributeValue"&&g.to>m)){if(i==">"&&g.name=="JSXFragmentTag")return{range:f,changes:{from:m,insert:"</>"}};if(i=="/"&&g.name=="JSXStartCloseTag"){let y=g.parent,v=y.parent;if(v&&y.from==m-2&&((x=Dw(o.doc,v.firstChild,m))||((h=v.firstChild)===null||h===void 0?void 0:h.name)=="JSXFragmentTag")){let S=`${x}>`;return{range:fe.cursor(m+S.length,-1),changes:{from:m,insert:S}}}}else if(i==">"){let y=gZ(g);if(y&&y.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(m,m+2))&&(x=Dw(o.doc,y,m)))return{range:f,changes:{from:m,insert:`</${x}>`}}}}return{range:f}});return c.changes.empty?!1:(n.dispatch([a,o.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function P5({submissionId:n,isOpen:e,onClose:t}){const[i,s]=T.useState(null),[a,o]=T.useState(!1),[c,f]=T.useState("");T.useEffect(()=>{let m=!1;return e&&n&&(o(!0),f(""),j2(n).then(g=>{m||s({...g,submissionStatus:Lt[g.submissionStatus]})}).catch(()=>{m||f("Failed to load submission details. Please try again.")}).finally(()=>{m||o(!1)})),()=>{m=!0}},[e,n]);const h=async()=>{o(!0),f("");try{const m=await j2(n),g={...m,submissionStatus:Lt[m.submissionStatus]};s(g)}catch(m){console.error("Error fetching submission details:",m),f("Failed to load submission details. Please try again.")}finally{o(!1)}};return e?p.jsxs(p.Fragment,{children:[p.jsx("style",{children:`
        /* Custom scrollbar for CodeMirror */
        .cm-scroller::-webkit-scrollbar {
          width: 8px;
          height: 8px;
        }
        
        .cm-scroller::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 4px;
        }
        
        .cm-scroller::-webkit-scrollbar-thumb {
          background: #ff6b35;
          border-radius: 4px;
        }
        
        .cm-scroller::-webkit-scrollbar-thumb:hover {
          background: #ff8555;
        }
        
        /* For Firefox */
        .cm-scroller {
          scrollbar-width: thin;
          scrollbar-color: #ff6b35 rgba(255, 255, 255, 0.1);
        }
      `}),p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-background border-2 border-orange rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"relative flex items-center justify-between p-6 border-b border-orange",children:[p.jsx("h2",{className:"absolute left-1/2 transform -translate-x-1/2 text-2xl font-bold font-anta text-orange",children:"Submission Details"}),p.jsx("button",{onClick:t,className:"ml-auto text-text hover:text-orange transition-colors","aria-label":"Close",children:p.jsx(Lc,{size:24})})]}),p.jsxs("div",{className:"flex-1 p-6 custom-scroll overflow-y-auto space-y-6",children:[a&&p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx("div",{className:"text-text text-lg font-anta",children:"Loading details..."})}),c&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[p.jsx("div",{className:"text-statusUnsolved text-lg font-anta mb-4",children:c}),p.jsx("button",{onClick:h,className:"bg-orange hover:bg-orange/90 text-white px-6 py-2 rounded-button font-anta",children:"Retry"})]}),!a&&!c&&i&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-orange/30",children:[p.jsx("div",{className:"text-text/70 text-sm font-anta mb-1",children:"Problem"}),p.jsx("div",{className:"text-text text-lg font-anta",children:i.problemTitle})]}),p.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-orange/30",children:[p.jsx("div",{className:"text-text/70 text-sm font-anta mb-1",children:"Username"}),p.jsx("div",{className:"text-text text-lg font-anta",children:i.username})]}),p.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-orange/30",children:[p.jsx("div",{className:"text-text/70 text-sm font-anta mb-1",children:"Language"}),p.jsx("div",{className:"text-text text-lg font-anta",children:i.submissionLang})]}),p.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-orange/30",children:[p.jsx("div",{className:"text-text/70 text-sm font-anta mb-1",children:"Submission Status"}),p.jsx("div",{className:`${YO(i.submissionStatus)} text-lg font-anta`,children:VO(i.submissionStatus)})]})]}),p.jsx("div",{className:"bg-background-light border border-orange/30 rounded-lg overflow-hidden",children:p.jsx(A5,{value:i.submissionCode,height:"400px",extensions:[pZ()],theme:w5,editable:!1})})]})]})]})})]}):null}function _5(){const n=fs(),e=n.matchId||n.id,[t,i]=T.useState([]),[s,a]=T.useState(!0),[o,c]=T.useState(""),[f,h]=T.useState(null),[m,g]=T.useState(!1),{username:x}=fs(),y=vt();T.useEffect(()=>{v()},[e]),T.useEffect(()=>{const C=t.filter(E=>E.submissionStatus===Lt.WAITING||E.submissionStatus===Lt.RUNNING_ON_TEST);if(console.log("Pending submissions for polling:",C),C.length===0)return;const R=setInterval(async()=>{console.log("Polling pending submissions...");const E=await Promise.all(t.map(async j=>{if(j.submissionStatus!==Lt.WAITING&&j.submissionStatus!==Lt.RUNNING_ON_TEST)return j;try{const Q=await O6(j.submissionId);return{...j,...Q,submissionStatus:Lt[Q.submissionStatus]}}catch(Q){return console.error("Polling error:",Q),j}}));i(E)},2e3);return()=>clearInterval(R)},[t]);const v=async()=>{x!=En()&&y("/not-found",{replace:!0}),a(!0),c("");const C=Date.now();try{const R=await g6();await Us(C);let E=R.map(j=>({submissionId:j.submissionId,submissionStatus:Lt[j.submissionStatus],timeTaken:j.timeTaken,memoryTaken:j.memoryTaken,submittedAt:j.submittedAt,numberOfPassedTestCases:j.numberOfPassedTestCases,numberOfTotalTestCases:j.numberOfTotalTestCases,numberOfCurrentTestCase:j.numberOfCurrentTestCase,problemTitle:j.problemTitle,problemId:j.problemId}));console.log("Fetched submissions:",E),i(E)}catch(R){console.error("Failed to fetch submissions:",R),c("Failed to load submissions. Please try again.")}finally{a(!1)}},S=C=>{h(C.submissionId),g(!0)};if(s)return p.jsx(ps,{loadingMessage:"Loading Submissions"});if(o)return p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[p.jsx("div",{className:"text-statusUnsolved text-xl font-anta mb-4",children:o}),p.jsx("button",{onClick:v,className:"bg-orange hover:bg-orange/90 text-white px-6 py-2 rounded-button font-anta",children:"Retry"})]});const w=["Status","Problem","Time","Memory","Passed","Submitted At"];return p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"mb-6 ",children:[p.jsx("h1",{className:"text-3xl font-bold font-anta text-orange text-center p-4",children:"My Submissions"}),p.jsxs("p",{className:"text-text mt-2",children:["Total Submissions: ",t.length]})]}),p.jsx(ri,{data:t,columns:w,onRowClick:S,gridCols:"grid-cols-[200px_200px_150px_150px_150px_1fr]",renderRow:(C,R)=>p.jsx(D6,{submissionStatus:C.submissionStatus,timeTaken:C.timeTaken,memoryTaken:C.memoryTaken,submittedAt:C.submittedAt,numberOfPassedTestCases:C.numberOfPassedTestCases,numberOfTotalTestCases:C.numberOfTotalTestCases,numberOfCurrentTestCase:C.numberOfCurrentTestCase,problemTitle:C.problemTitle,problemId:C.problemId,onClick:R,className:"grid-cols-[200px_200px_150px_150px_150px_1fr]"},`${C.submittedAt}-${C.timeTaken}`)}),f!==null&&p.jsx(P5,{submissionId:f,isOpen:m,onClose:()=>{g(!1),h(null)}})]})}const bZ=n=>n?new Date(n).toLocaleTimeString("en-GB",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--:--",yZ=n=>{const e=new Date(n);return{date:e.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},vZ=n=>n===1?{text:"WON",color:"text-winGreen"}:n===0?{text:"DRAW",color:"text-orange"}:{text:"LOST",color:"text-loseRed"},D5="grid-cols-[0.5fr_1.2fr_1fr_2.5fr_0.8fr_0.8fr_0.8fr_1.5fr]",SZ=["Id","When","Opponent","Problem","Status","Change","New Rate","Title"],wZ=["All Matches","Rated Only","Friendly Only"],AZ=n=>{if(!n.rated||n.newRating==null)return{type:"FRIENDLY"};const e=(n.newRating||0)-(n.rateChange||0),t=Xh(e),i=Xh(n.newRating),s=Ba(n.newRating);return t===i?{type:"SAME",name:i,color:s}:{type:"CHANGE",old:{name:t,color:Ba(e)},new:{name:i,color:s}}},CZ=n=>{const e=Me.c(51),{match:t}=n;let i;e[0]!==t.time?(i=yZ(t.time),e[0]=t.time,e[1]=i):i=e[1];const{date:s,time:a}=i;let o;e[2]!==t.rank?(o=vZ(t.rank),e[2]=t.rank,e[3]=o):o=e[3];const c=o;let f;e[4]!==t?(f=AZ(t),e[4]=t,e[5]=f):f=e[5];const h=f,m=t.rated&&t.rateChange!==null,g=t.rated&&t.newRating!==null;let x;e[6]!==t.matchId?(x=p.jsx("div",{className:"text-sm font-bold truncate flex items-center justify-center",children:p.jsxs("span",{className:"text-white",children:["#",t.matchId]})}),e[6]=t.matchId,e[7]=x):x=e[7];let y;e[8]!==s?(y=p.jsx("span",{className:"text-white",children:s}),e[8]=s,e[9]=y):y=e[9];let v;e[10]!==a?(v=p.jsx("span",{className:"text-white/50 text-xs",children:a}),e[10]=a,e[11]=v):v=e[11];let S;e[12]!==y||e[13]!==v?(S=p.jsxs("div",{className:"text-sm font-bold truncate flex items-center justify-center flex-col items-start",children:[y,v]}),e[12]=y,e[13]=v,e[14]=S):S=e[14];let w;e[15]!==t.opponent?(w=p.jsx("div",{className:"text-sm font-bold truncate flex items-center justify-center",children:p.jsx("span",{className:"text-white truncate",children:t.opponent})}),e[15]=t.opponent,e[16]=w):w=e[16];let C;e[17]!==t.problem?(C=p.jsx("div",{className:"text-sm font-bold truncate flex items-center justify-center",children:p.jsx("span",{className:"text-white truncate",title:t.problem,children:t.problem})}),e[17]=t.problem,e[18]=C):C=e[18];const R=`${c.color} tracking-wider`;let E;e[19]!==c.text||e[20]!==R?(E=p.jsx("div",{className:"text-sm font-bold truncate flex items-center justify-center",children:p.jsx("span",{className:R,children:c.text})}),e[19]=c.text,e[20]=R,e[21]=E):E=e[21];let j;e[22]!==m||e[23]!==t.rateChange?(j=p.jsx("div",{className:"text-sm font-bold truncate flex items-center justify-center",children:m?p.jsxs("span",{className:t.rateChange>=0?"text-winGreen":"text-loseRed",children:[t.rateChange>0?"+":"",t.rateChange]}):p.jsx("span",{className:"text-white",children:""})}),e[22]=m,e[23]=t.rateChange,e[24]=j):j=e[24];let Q;e[25]!==g||e[26]!==t.newRating?(Q=p.jsx("div",{className:"text-sm font-bold truncate flex items-center justify-center",children:g?p.jsx("span",{className:"text-white",children:t.newRating}):p.jsx("span",{className:"text-white",children:""})}),e[25]=g,e[26]=t.newRating,e[27]=Q):Q=e[27];let M;e[28]!==h.type?(M=h.type==="FRIENDLY"&&p.jsx("span",{className:"text-white",children:""}),e[28]=h.type,e[29]=M):M=e[29];let k;e[30]!==h.color||e[31]!==h.name||e[32]!==h.type?(k=h.type==="SAME"&&p.jsx("span",{style:{color:h.color},children:h.name}),e[30]=h.color,e[31]=h.name,e[32]=h.type,e[33]=k):k=e[33];let $;e[34]!==h.new||e[35]!==h.old||e[36]!==h.type?($=h.type==="CHANGE"&&p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{color:h.old.color},children:h.old.name}),p.jsx("span",{className:"text-white/40",children:""}),p.jsx("span",{style:{color:h.new.color},children:h.new.name})]}),e[34]=h.new,e[35]=h.old,e[36]=h.type,e[37]=$):$=e[37];let D;e[38]!==M||e[39]!==k||e[40]!==$?(D=p.jsxs("div",{className:"text-sm font-bold truncate flex items-center justify-center",children:[M,k,$]}),e[38]=M,e[39]=k,e[40]=$,e[41]=D):D=e[41];let L;return e[42]!==E||e[43]!==j||e[44]!==Q||e[45]!==D||e[46]!==x||e[47]!==S||e[48]!==w||e[49]!==C?(L=p.jsxs("div",{className:`grid ${D5} gap-4 px-6 py-4 border-b border-sidebar hover:bg-white/5 transition-colors cursor-pointer`,children:[x,S,w,C,E,j,Q,D]}),e[42]=E,e[43]=j,e[44]=Q,e[45]=D,e[46]=x,e[47]=S,e[48]=w,e[49]=C,e[50]=L):L=e[50],L};function $5(){const[n,e]=T.useState([]),[t,i]=T.useState(!0),[s,a]=T.useState("All Matches"),[o,c]=T.useState(0),[f,h]=T.useState(0),{username:m}=fs(),g=vt(),x=v=>{a(v),c(0)};T.useEffect(()=>{y()},[o,s]);const y=async()=>{m!=En()&&g("/not-found",{replace:!0}),i(!0);try{const v=await nP(o,10,s);e(v.content),h(v.totalPages)}catch(v){console.error("Failed to fetch history",v)}finally{i(!1)}};return t?p.jsx(ps,{loadingMessage:"Loading Matches..."}):p.jsxs("div",{className:"w-full h-full flex flex-col p-6 gap-6 font-anta text-white bg-background",children:[p.jsxs("div",{className:"grid grid-cols-3 items-end border-b border-white/10 pb-4 w-full",children:[p.jsx("div",{}),p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsxs("h1",{className:"text-3xl font-bold font-anta text-orange p-2 text-center whitespace-nowrap",children:[En(),"'s Matches"]}),p.jsxs("p",{className:"text-text/60 font-anta px-2 text-center",children:["Total Matches: ",p.jsx("span",{className:"text-white",children:n.length})]})]}),p.jsx("div",{className:"flex justify-end w-full",children:p.jsx(zd,{label:"Filter By:",options:wZ,value:s,onChange:x,width:"w-52",placeholder:"All Matches"})})]}),p.jsxs("div",{className:"flex-1 w-full flex flex-col gap-4",children:[p.jsx("div",{className:"shadow-2xl shadow-black/20 rounded-xl overflow-hidden w-full border border-white/5 bg-container",children:p.jsx(ri,{data:n,columns:SZ,gridCols:D5,onRowClick:v=>console.log("Clicked:",v.matchId),renderRow:v=>p.jsx(CZ,{match:v},v.matchId)})}),n.length===0&&p.jsx("div",{className:"flex-1 flex items-center justify-center text-white/30 italic",children:"No matches found."})]}),f>=1&&p.jsxs("div",{className:"flex justify-center gap-4 py-2",children:[p.jsx("button",{onClick:()=>c(v=>Math.max(0,v-1)),disabled:o===0,className:"px-6 py-2 bg-container border border-white/10 text-white rounded-button hover:bg-orange hover:border-orange disabled:opacity-30 transition-all font-anta text-sm",children:"Previous"}),p.jsxs("span",{className:"flex items-center text-white/80 text-sm bg-container px-5 rounded-button border border-white/5 font-mono",children:[o+1," / ",f]}),p.jsx("button",{onClick:()=>c(v=>Math.min(f-1,v+1)),disabled:o>=f-1,className:"px-6 py-2 bg-container border border-white/10 text-white rounded-button hover:bg-orange hover:border-orange disabled:opacity-30 transition-all font-anta text-sm",children:"Next"})]})]})}function em(n){const e=Me.c(40),{order:t,username:i,userStatus:s,rank:a,action:o,onAddClick:c,onCancelClick:f,onAcceptClick:h,onRejectClick:m,onUsernameClick:g,showAddButton:x,showCancelButton:y,showAcceptReject:v,friendStatus:S}=n,w=a===void 0?0:a,C=x===void 0?!1:x,R=y===void 0?!1:y,E=v===void 0?!1:v;let j;e[0]!==w?(j=Ba(w),e[0]=w,e[1]=j):j=e[1];const Q=j;let M;e[2]!==S?(M=()=>{if(!S)return null;const ie={FRIENDS:{text:"Friends",color:"#34D399",borderColor:"#34D399"},PENDING_SENT:{text:"Pending",color:"#FFD700",borderColor:"#FFD700"},PENDING_RECEIVED:{text:"Requested",color:"#60A5FA",borderColor:"#60A5FA"},NONE:{text:"Not Friend",color:"#FF6B35",borderColor:"#FF6B35"}},le=ie[S]||ie.NONE;return p.jsx("span",{className:"px-3 py-1.5 rounded-full text-sm font-anta uppercase tracking-wider",style:{color:le.color,border:`2px solid ${le.borderColor}`,backgroundColor:`${le.borderColor}15`},children:le.text})},e[2]=S,e[3]=M):M=e[3];const k=M;let $;e[4]!==t?($=p.jsx("div",{className:"text-text font-anta text-lg flex items-center justify-center",children:t}),e[4]=t,e[5]=$):$=e[5];let D;e[6]!==Q?(D={color:Q},e[6]=Q,e[7]=D):D=e[7];let L;e[8]!==g||e[9]!==D||e[10]!==i?(L=p.jsx("div",{className:"font-anta text-xl cursor-pointer hover:opacity-80 transition-opacity flex items-center justify-center",style:D,onClick:g,children:i}),e[8]=g,e[9]=D,e[10]=i,e[11]=L):L=e[11];let V;e[12]!==s?(V=s&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"relative flex items-center",children:p.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${zc(s).replace("text-","bg-")}`,children:s===Jr.ONLINE&&p.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"})})}),s&&p.jsx("span",{className:`text-sm font-anta ${zc(s)}`,children:BO(s)})]}),e[12]=s,e[13]=V):V=e[13];let z;e[14]!==V?(z=p.jsx("div",{className:"flex items-center justify-center gap-2",children:V}),e[14]=V,e[15]=z):z=e[15];let I;e[16]!==o||e[17]!==S||e[18]!==k?(I=S?k():o,e[16]=o,e[17]=S,e[18]=k,e[19]=I):I=e[19];let H;e[20]!==c||e[21]!==C?(H=C&&c&&p.jsx("button",{onClick:c,className:"w-7 h-7 rounded-full bg-sidebar border-2 border-orange hover:bg-orange transition-all flex items-center justify-center group","aria-label":"Add friend",children:p.jsx(V3,{className:"w-4 h-4 text-orange group-hover:text-white transition-colors"})}),e[20]=c,e[21]=C,e[22]=H):H=e[22];let F;e[23]!==f||e[24]!==R?(F=R&&f&&p.jsx("button",{onClick:f,className:"w-7 h-7 rounded-full bg-sidebar border-2 border-rose-500 hover:bg-rose-500 transition-all flex items-center justify-center group","aria-label":"Cancel request",children:p.jsx(Lc,{className:"w-4 h-4 text-rose-500 group-hover:text-white transition-colors"})}),e[23]=f,e[24]=R,e[25]=F):F=e[25];let P;e[26]!==h||e[27]!==m||e[28]!==E?(P=E&&h&&m&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:h,className:"w-7 h-7 rounded-full bg-sidebar border-2 border-emerald-500 hover:bg-emerald-500 transition-all flex items-center justify-center group","aria-label":"Accept friend request",children:p.jsx(Bj,{className:"w-4 h-4 text-emerald-500 group-hover:text-white transition-colors"})}),p.jsx("button",{onClick:m,className:"w-7 h-7 rounded-full bg-sidebar border-2 border-rose-500 hover:bg-rose-500 transition-all flex items-center justify-center group","aria-label":"Reject friend request",children:p.jsx(Lc,{className:"w-4 h-4 text-rose-500 group-hover:text-white transition-colors"})})]}),e[26]=h,e[27]=m,e[28]=E,e[29]=P):P=e[29];let Z;e[30]!==I||e[31]!==H||e[32]!==F||e[33]!==P?(Z=p.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[I,H,F,P]}),e[30]=I,e[31]=H,e[32]=F,e[33]=P,e[34]=Z):Z=e[34];let K;return e[35]!==z||e[36]!==Z||e[37]!==$||e[38]!==L?(K=p.jsxs("div",{className:"grid grid-cols-[60px_1fr_120px_auto] gap-4 px-8 py-4 hover:bg-sidebar/30 transition-colors items-center border-b border-sidebar/50",children:[$,L,z,Z]}),e[35]=z,e[36]=Z,e[37]=$,e[38]=L,e[39]=K):K=e[39],K}function L5(){const[n,e]=T.useState([]),[t,i]=T.useState(!0),[s,a]=T.useState(null),[o,c]=T.useState(!1),[f,h]=T.useState(null),[m,g]=T.useState(0),[x,y]=T.useState(1),v=vt(),S=20;T.useEffect(()=>{(async()=>{const R=Date.now();i(!0),a(null);try{const E=await b0(m,S);console.log("Fetched friends:",E),await Us(R),e(E.content),y(E.totalPages)}catch(E){console.error("Error fetching friends:",E),a("Failed to load friends list.")}finally{i(!1)}})()},[m]);const w=async()=>{if(f)try{await Uh(f.username),e(C=>C.filter(R=>R.username!==f.username))}catch(C){console.error("Failed to unfriend:",C)}finally{c(!1),h(null)}};return t?p.jsx(ps,{loadingMessage:"Loading Friends"}):s?p.jsx("div",{className:"text-red-500 text-center p-6",children:s}):p.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-orange font-anta",children:"My Friends"}),p.jsx(ri,{data:n,columns:["#","Name","Action"],gridCols:"grid-cols-[60px_1fr_120px_auto]",renderRow:C=>p.jsx(em,{order:n.indexOf(C)+1+m*S,username:C.username,rank:C.currentRate,action:p.jsx("button",{onClick:()=>{h(C),c(!0)},className:`
                flex items-center justify-center
                px-3 py-1 rounded-full border-2 
                font-anta uppercase tracking-widest 
                transition-all duration-300 hover:text-white
                border-rose-500/30 bg-rose-500/5 text-rose-400
                hover:bg-rose-600 hover:border-rose-600 
                hover:shadow-[0_0_10px_rgba(225,29,72,0.3)]
                `,children:"Unfriend"}),onUsernameClick:()=>v(`/profile/${C.username}/overview`),userStatus:C.userStatus},C.username)}),x>1&&p.jsxs("div",{className:"flex justify-center items-center gap-2",children:[p.jsx("button",{onClick:()=>g(m-1),disabled:m===0,className:"px-4 py-2 bg-container text-text rounded-lg hover:bg-sidebar disabled:opacity-50 disabled:cursor-not-allowed font-anta",children:"Previous"}),p.jsxs("span",{className:"text-text font-anta",children:["Page ",m+1," of ",x]}),p.jsx("button",{onClick:()=>g(m+1),disabled:m>=x-1,className:"px-4 py-2 bg-container text-text rounded-lg hover:bg-sidebar disabled:opacity-50 disabled:cursor-not-allowed font-anta",children:"Next"})]}),p.jsx(Zc,{isOpen:o,onClose:()=>c(!1),onConfirm:w,title:"Confirm Unfriend",message:`Are you sure you want to unfriend ${f?.username}?`,confirmText:"Unfriend",cancelText:"Cancel"})]})}function z5(){const[n,e]=T.useState([]),[t,i]=T.useState(!0),[s,a]=T.useState(null),[o,c]=T.useState(0),[f,h]=T.useState(1),m=vt(),g=20;T.useEffect(()=>{(async()=>{const v=Date.now();i(!0),a(null);try{const S=await OM(o,g);await Us(v),e(S.content),h(S.totalPages)}catch(S){console.error("Error fetching requested friends:",S),a("Failed to load sent friend requests.")}finally{i(!1)}})()},[o]);const x=async y=>{try{await Uh(y),e(v=>v.filter(S=>S.username!==y))}catch(v){console.error("Failed to cancel friend request:",v)}};return t?p.jsx(ps,{loadingMessage:"Loading Sent Requests"}):s?p.jsx("div",{className:"text-red-500 text-center p-6",children:s}):p.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-orange font-anta",children:"Requested Friends"}),p.jsx(ri,{data:n,columns:["#","Name","Cancel"],gridCols:"grid-cols-[60px_1fr_auto]",renderRow:y=>p.jsx(em,{order:n.indexOf(y)+1+o*g,username:y.username,rank:y.currentRate,showCancelButton:!0,onCancelClick:()=>x(y.username),onUsernameClick:()=>m(`/profile/${y.username}/overview`),userStatus:y.userStatus},y.username)}),f>1&&p.jsxs("div",{className:"flex justify-center items-center gap-2",children:[p.jsx("button",{onClick:()=>c(o-1),disabled:o===0,className:"px-4 py-2 bg-container text-text rounded-lg hover:bg-sidebar disabled:opacity-50 disabled:cursor-not-allowed font-anta",children:"Previous"}),p.jsxs("span",{className:"text-text font-anta",children:["Page ",o+1," of ",f]}),p.jsx("button",{onClick:()=>c(o+1),disabled:o>=f-1,className:"px-4 py-2 bg-container text-text rounded-lg hover:bg-sidebar disabled:opacity-50 disabled:cursor-not-allowed font-anta",children:"Next"})]})]})}function B5(){const[n,e]=T.useState([]),[t,i]=T.useState(!0),[s,a]=T.useState(null),[o,c]=T.useState(0),[f,h]=T.useState(1),m=vt(),g=20;T.useEffect(()=>{(async()=>{const S=Date.now();i(!0),a(null);try{const w=await gM(o,g);await Us(S),e(w.content),h(w.totalPages)}catch(w){console.error("Error fetching pending requests:",w),a("Failed to load pending friend requests.")}finally{i(!1)}})()},[o]);const x=async v=>{try{await G3(v),e(S=>S.filter(w=>w.username!==v))}catch(S){console.error("Failed to accept friend request:",S)}},y=async v=>{try{await W3(v),e(S=>S.filter(w=>w.username!==v))}catch(S){console.error("Failed to reject friend request:",S)}};return t?p.jsx(ps,{loadingMessage:"Loading Pending Requests"}):s?p.jsx("div",{className:"text-red-500 text-center p-6",children:s}):p.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-orange font-anta",children:"Pending Requests"}),p.jsx(ri,{data:n,columns:["#","Name","Actions"],gridCols:"grid-cols-[60px_1fr_auto]",renderRow:v=>p.jsx(em,{order:n.indexOf(v)+1+o*g,username:v.username,rank:v.currentRate,showAcceptReject:!0,onAcceptClick:()=>x(v.username),onRejectClick:()=>y(v.username),onUsernameClick:()=>m(`/profile/${v.username}/overview`),userStatus:v.userStatus},v.username)}),f>1&&p.jsxs("div",{className:"flex justify-center items-center gap-2",children:[p.jsx("button",{onClick:()=>c(o-1),disabled:o===0,className:"px-4 py-2 bg-container text-text rounded-lg hover:bg-sidebar disabled:opacity-50 disabled:cursor-not-allowed font-anta",children:"Previous"}),p.jsxs("span",{className:"text-text font-anta",children:["Page ",o+1," of ",f]}),p.jsx("button",{onClick:()=>c(o+1),disabled:o>=f-1,className:"px-4 py-2 bg-container text-text rounded-lg hover:bg-sidebar disabled:opacity-50 disabled:cursor-not-allowed font-anta",children:"Next"})]})]})}function Z5(){const[n,e]=T.useState(""),[t,i]=T.useState([]),[s,a]=T.useState(!1),o=vt();T.useEffect(()=>{if(!n.trim()){i([]);return}const f=setTimeout(async()=>{a(!0);try{const h=await $M(n);console.log("Search results:",h),console.log("Search term:",n),i(h)}catch(h){console.error("Error fetching users:",h),i([])}finally{a(!1)}},300);return()=>clearTimeout(f)},[n]);const c=f=>{o(`/profile/${f.username}/overview`)};return s?p.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-orange font-anta",children:"Search Users"}),p.jsx(Zh,{value:n,onChange:e,placeholder:"Search users..."}),p.jsx("div",{className:"bg-container rounded-lg p-8",children:p.jsx("div",{className:"text-center py-8 text-text text-lg",children:"Loading..."})})]}):p.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-orange font-anta",children:"Search Users"}),p.jsx(Zh,{value:n,onChange:e,placeholder:"Search users..."}),n.trim()&&p.jsx(ri,{data:t,columns:["#","Name","Status"],gridCols:"grid-cols-[60px_1fr_auto]",renderRow:f=>p.jsx(em,{order:t.indexOf(f)+1,username:f.username,rank:f.currentRate,friendStatus:f.friendStatus,onUsernameClick:()=>c(f)},f.username)})]})}const yh="problem_info_draft";function U5({onSave:n}){const[e,t]=T.useState(Hh.PYTHON_3_8),[i,s]=T.useState(1e3),[a,o]=T.useState(256),[c,f]=T.useState(800),[h,m]=T.useState([]),[g,x]=T.useState(""),[y,v]=T.useState(0),[S,w]=T.useState(""),[C,R]=T.useState(""),[E,j]=T.useState(""),[Q,M]=T.useState(!1);T.useEffect(()=>{const z=localStorage.getItem(yh);if(z)try{const I=JSON.parse(z);I.id!==void 0&&v(Number(I.id)),I.name&&w(I.name),t(I.solutionLang),s(I.timeLimit),o(I.memoryLimit),f(I.rating),m(I.topics),x(I.solutionCode)}catch(I){console.error("Failed to load from localStorage:",I)}},[]);const k=z=>{m(I=>I.includes(z)?I.filter(H=>H!==z):[...I,z])},$=()=>{const z={id:y,solutionLang:e,timeLimit:i,memoryLimit:a,rating:c,topics:h,solutionCode:g};try{localStorage.setItem(yh,JSON.stringify(z)),R("Problem info saved successfully!"),setTimeout(()=>R(""),3e3)}catch{R("Failed to save.")}n?.(z)},D=async()=>{console.log(" Starting problem suggestion..."),j(""),R(""),M(!0);try{const z={id:y,solutionLang:e,timeLimit:i,memoryLimit:a,rating:c,topics:h,solutionCode:g},I=JSON.parse(localStorage.getItem("problem_statement_draft")||"{}"),H=JSON.parse(localStorage.getItem("problem_testcases_draft")||"[]"),F=localStorage.getItem("last_compiled_code_draft")||"",P=[];I.title?.trim()||P.push("Title is required."),I.title?.length>200&&P.push("Title exceeds 200 characters."),I.statement?.trim()||P.push("Problem statement is required."),I.statement?.length>1e4&&P.push("Statement exceeds 10,000 characters."),I.inputFormat?.trim()?I.inputFormat.length>2e3&&P.push("Input Format exceeds 2000 chars."):P.push("Input Format description is required."),I.outputFormat?.trim()?I.outputFormat.length>2e3&&P.push("Output Format exceeds 2000 chars."):P.push("Output Format description is required."),I.notes?.length>5e3&&P.push("Notes exceed 5000 chars."),z.solutionCode?.trim()||P.push("Solution code is required."),z.solutionCode?.length>5e4&&P.push("Solution code exceeds 50,000 characters."),H.length===0&&P.push("At least one test case is required."),H.length>10&&P.push("Maximum 10 test cases allowed."),H.length===0?P.push("At least one test case is required."):H.length>10&&P.push("Maximum 10 test cases allowed.");let Z=!1,K=!1;if(H.forEach((ie,le)=>{ie.input?.length>1e5&&P.push(`Test case ${le+1} exceeds size limit (10^5).`),ie.actualOutput||(K=!0),ie.actualOutput?.startsWith("Compilation Error")&&(Z=!0)}),K&&H.length>0?P.push("You must 'Run Test Cases' in the Test Cases tab before suggesting the problem."):H.length>0&&z.solutionCode.trim()!==F.trim()?P.push("The code in the editor has changed since your last test run."):Z&&P.push("Reference solution has compilation errors in Test Cases. Please fix before submitting."),P.length>0){j(P.join(" ")),M(!1);return}console.log(" Data to send:",{info:z,statement:I,testCases:H}),await kj(z,I,H),alert("Problem suggestion sent successfully!"),localStorage.removeItem(yh),localStorage.removeItem("problem_statement_draft"),localStorage.removeItem("problem_testcases_draft"),window.location.reload()}catch(z){console.error(" Error:",z);const I=z.response?.data||z.message;j(I)}finally{M(!1)}},L=()=>{window.confirm("Are you sure you want to clear all progress? This will delete your draft and reset the form.")&&(localStorage.removeItem(yh),localStorage.removeItem("problem_statement_draft"),localStorage.removeItem("problem_testcases_draft"),window.location.reload())},V=z=>z.split("_").map(I=>I.charAt(0)+I.slice(1).toLowerCase()).join(" ");return p.jsx("div",{className:"bg-background text-white py-8",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-6 space-y-6",children:[p.jsx("div",{className:"bg-gray-800/40 border-l-4 border-orange p-4 mb-8 rounded-r-lg shadow-sm",children:y?p.jsxs("p",{className:"text-orange font-anta text-xl",children:["You're editing problem with Title: ",p.jsx("span",{className:"text-white font-mono px-2 py-1 rounded",children:S})]}):p.jsxs("p",{className:"text-blue-400 font-anta text-xl",children:["You're creating a ",p.jsx("span",{className:"text-white underline decoration-blue-400 underline-offset-4",children:"new problem"})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Solution Language"}),p.jsx(zd,{label:"",options:Object.values(Hh),value:e,onChange:z=>t(z),placeholder:"Choose solution language"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Time Limit (ms)"}),p.jsx("input",{type:"number",value:i,onChange:z=>s(Number(z.target.value)),className:"w-full bg-gray-800 border border-orange/30 rounded-lg px-4 py-3 text-white font-anta focus:outline-none"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Memory Limit (MB)"}),p.jsx("input",{type:"number",value:a,onChange:z=>o(Number(z.target.value)),className:"w-full bg-gray-800 border border-orange/30 rounded-lg px-4 py-3 text-white font-anta focus:outline-none"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-orange font-anta text-lg mb-2",children:["Problem Rating: ",c]}),p.jsx("input",{type:"range",value:c,onChange:z=>f(Number(z.target.value)),min:"100",max:"2000",step:"100",className:"w-full h-2 bg-background-light rounded-lg appearance-none cursor-pointer mt-3",style:{background:`linear-gradient(to right, #ff6b35 0%, #ff6b35 ${(c-100)/1900*100}%, rgba(255, 255, 255, 0.1) ${(c-100)/1900*100}%, rgba(255, 255, 255, 0.1) 100%)`}})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-orange font-anta text-lg mb-3",children:["Problem Topics (",h.length," selected)"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Object.values(Ze).map(z=>p.jsx("button",{onClick:()=>k(z),className:`px-4 py-2 rounded-full font-anta text-sm transition-all duration-200 ${h.includes(z)?"bg-orange text-white":"bg-gray-800 text-text border border-orange/30 hover:border-orange"}`,children:V(z)},z))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Solution Code"}),p.jsxs("span",{className:`text-xs font-anta ${g.length>5e4?"text-red-500":"text-gray-500"}`,children:[g.length,"/50000"]}),p.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden",style:{height:"500px"},children:p.jsx(vA,{height:"100%",language:SA[e],theme:"vs-dark",value:g,onChange:z=>x(z||""),options:{fontSize:16,minimap:{enabled:!1},automaticLayout:!0}})})]}),p.jsxs("div",{className:"text-center pt-4 space-y-4",children:[p.jsx("button",{onClick:$,className:"bg-orange hover:bg-orange/90 text-white px-20 py-3 rounded-button text-lg font-anta transition-colors",children:"Save Problem Info"}),C&&p.jsx("p",{className:"text-green-400 font-anta",children:C})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("button",{onClick:D,disabled:Q,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:cursor-not-allowed text-white px-20 py-3 rounded-button text-lg font-anta transition-colors",children:Q?"Submitting...":"Suggest Problem"}),E&&p.jsx("div",{className:"mt-4 max-w-2xl mx-auto p-4 bg-red-900/20 border border-red-500/50 rounded-lg",children:p.jsx("p",{className:"text-red-400 font-anta text-sm leading-relaxed text-center",children:E})}),p.jsxs("div",{className:"pt-10 mt-10 border-t border-white/10 text-center",children:[p.jsx("button",{onClick:L,className:"bg-red-600 hover:bg-red-700 text-white px-10 py-3 rounded-button text-lg font-anta transition-all",children:"Clear All & Quit"}),p.jsx("p",{className:"text-gray-500 text-sm mt-3 font-anta",children:"Draft will be permanently deleted."})]})]})]})})}const $w="problem_statement_draft";function X5(n){const e=Me.c(73),{onSave:t}=n,[i,s]=T.useState(""),[a,o]=T.useState(""),[c,f]=T.useState(""),[h,m]=T.useState(""),[g,x]=T.useState(""),[y,v]=T.useState("");let S,w;e[0]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{const pt=localStorage.getItem($w);if(pt)try{const qt=JSON.parse(pt);s(qt.title),o(qt.statement),f(qt.inputFormat),m(qt.outputFormat),x(qt.notes),console.log("Loaded saved problem statement:",qt)}catch(qt){console.error("Failed to load from localStorage:",qt)}},w=[],e[0]=S,e[1]=w):(S=e[0],w=e[1]),T.useEffect(S,w);let C;e[2]!==c||e[3]!==g||e[4]!==t||e[5]!==h||e[6]!==a||e[7]!==i?(C=()=>{const pt={title:i,statement:a,inputFormat:c,outputFormat:h,notes:g};try{localStorage.setItem($w,JSON.stringify(pt)),console.log("Problem statement saved to localStorage:",pt),v("Problem statement saved successfully!"),setTimeout(()=>v(""),3e3)}catch(qt){console.error("Failed to save to localStorage:",qt),v("Failed to save problem statement. Please try again."),setTimeout(()=>v(""),3e3)}t?.(pt)},e[2]=c,e[3]=g,e[4]=t,e[5]=h,e[6]=a,e[7]=i,e[8]=C):C=e[8];const R=C;let E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Problem Title"}),e[9]=E):E=e[9];const j=`text-xs font-anta ${i.length>200?"text-red-500":"text-gray-500"}`;let Q;e[10]!==j||e[11]!==i.length?(Q=p.jsxs("span",{className:j,children:[i.length,"/200"]}),e[10]=j,e[11]=i.length,e[12]=Q):Q=e[12];let M;e[13]===Symbol.for("react.memo_cache_sentinel")?(M=pt=>s(pt.target.value),e[13]=M):M=e[13];let k;e[14]!==i?(k=p.jsx("input",{type:"text",value:i,onChange:M,placeholder:"Enter problem title",className:"w-full bg-gray-800 border border-orange/30 rounded-lg px-4 py-3 text-white font-anta focus:outline-none focus:border-orange"}),e[14]=i,e[15]=k):k=e[15];let $;e[16]!==Q||e[17]!==k?($=p.jsxs("div",{children:[E,Q,k]}),e[16]=Q,e[17]=k,e[18]=$):$=e[18];let D;e[19]===Symbol.for("react.memo_cache_sentinel")?(D=p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Problem Statement"}),e[19]=D):D=e[19];const L=`text-xs font-anta ${a.length>1e4?"text-red-500":"text-gray-500"}`;let V;e[20]!==a.length||e[21]!==L?(V=p.jsxs("span",{className:L,children:[a.length,"/10000"]}),e[20]=a.length,e[21]=L,e[22]=V):V=e[22];let z;e[23]===Symbol.for("react.memo_cache_sentinel")?(z=pt=>o(pt.target.value),e[23]=z):z=e[23];let I;e[24]!==a?(I=p.jsx("textarea",{value:a,onChange:z,placeholder:"Describe the problem in detail...",rows:8,className:"w-full bg-gray-800 border border-orange/30 rounded-lg px-4 py-3 text-white font-anta focus:outline-none focus:border-orange resize-y custom-scroll"}),e[24]=a,e[25]=I):I=e[25];let H;e[26]!==V||e[27]!==I?(H=p.jsxs("div",{children:[D,V,I]}),e[26]=V,e[27]=I,e[28]=H):H=e[28];let F;e[29]===Symbol.for("react.memo_cache_sentinel")?(F=p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Input Format"}),e[29]=F):F=e[29];const P=`text-xs font-anta ${c.length>2e3?"text-red-500":"text-gray-500"}`;let Z;e[30]!==c.length||e[31]!==P?(Z=p.jsxs("span",{className:P,children:[c.length,"/2000"]}),e[30]=c.length,e[31]=P,e[32]=Z):Z=e[32];let K;e[33]===Symbol.for("react.memo_cache_sentinel")?(K=pt=>f(pt.target.value),e[33]=K):K=e[33];let ie;e[34]!==c?(ie=p.jsx("textarea",{value:c,onChange:K,placeholder:"Describe the input format...",rows:6,className:"w-full bg-gray-800 border border-orange/30 rounded-lg px-4 py-3 text-white font-anta focus:outline-none focus:border-orange resize-y custom-scroll"}),e[34]=c,e[35]=ie):ie=e[35];let le;e[36]!==Z||e[37]!==ie?(le=p.jsxs("div",{children:[F,Z,ie]}),e[36]=Z,e[37]=ie,e[38]=le):le=e[38];let _;e[39]===Symbol.for("react.memo_cache_sentinel")?(_=p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Output Format"}),e[39]=_):_=e[39];const X=`text-xs font-anta ${h.length>2e3?"text-red-500":"text-gray-500"}`;let te;e[40]!==h.length||e[41]!==X?(te=p.jsxs("span",{className:X,children:[h.length,"/2000"]}),e[40]=h.length,e[41]=X,e[42]=te):te=e[42];let ce;e[43]===Symbol.for("react.memo_cache_sentinel")?(ce=pt=>m(pt.target.value),e[43]=ce):ce=e[43];let me;e[44]!==h?(me=p.jsx("textarea",{value:h,onChange:ce,placeholder:"Describe the output format...",rows:6,className:"w-full bg-gray-800 border border-orange/30 rounded-lg px-4 py-3 text-white font-anta focus:outline-none focus:border-orange resize-y custom-scroll"}),e[44]=h,e[45]=me):me=e[45];let be;e[46]!==te||e[47]!==me?(be=p.jsxs("div",{children:[_,te,me]}),e[46]=te,e[47]=me,e[48]=be):be=e[48];let Ce;e[49]===Symbol.for("react.memo_cache_sentinel")?(Ce=p.jsx("label",{className:"block text-orange font-anta text-lg mb-2",children:"Notes (Optional)"}),e[49]=Ce):Ce=e[49];const tt=`text-xs font-anta ${g.length>5e3?"text-red-500":"text-gray-500"}`;let Xe;e[50]!==g.length||e[51]!==tt?(Xe=p.jsxs("span",{className:tt,children:[g.length,"/5000"]}),e[50]=g.length,e[51]=tt,e[52]=Xe):Xe=e[52];let it;e[53]===Symbol.for("react.memo_cache_sentinel")?(it=pt=>x(pt.target.value),e[53]=it):it=e[53];let Ye;e[54]!==g?(Ye=p.jsx("textarea",{value:g,onChange:it,placeholder:"Add any additional notes or constraints...",rows:5,className:"w-full bg-gray-800 border border-orange/30 rounded-lg px-4 py-3 text-white font-anta focus:outline-none focus:border-orange resize-y custom-scroll"}),e[54]=g,e[55]=Ye):Ye=e[55];let Mt;e[56]!==Xe||e[57]!==Ye?(Mt=p.jsxs("div",{children:[Ce,Xe,Ye]}),e[56]=Xe,e[57]=Ye,e[58]=Mt):Mt=e[58];let dn;e[59]!==R?(dn=p.jsx("button",{onClick:R,className:"bg-orange hover:bg-orange/90 text-white px-20 py-3 rounded-button text-lg font-anta transition-colors duration-200",children:"Save Problem Statement"}),e[59]=R,e[60]=dn):dn=e[60];let Bt;e[61]!==y?(Bt=y&&p.jsx("p",{className:`mt-4 text-lg font-anta ${y.includes("success")?"text-green-400":"text-red-400"}`,children:y}),e[61]=y,e[62]=Bt):Bt=e[62];let Qt;e[63]!==dn||e[64]!==Bt?(Qt=p.jsxs("div",{className:"text-center pt-4 pb-6",children:[dn,Bt]}),e[63]=dn,e[64]=Bt,e[65]=Qt):Qt=e[65];let Nn;return e[66]!==H||e[67]!==le||e[68]!==be||e[69]!==Mt||e[70]!==Qt||e[71]!==$?(Nn=p.jsx("div",{className:"bg-background text-white py-8",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-6 space-y-6",children:[$,H,le,be,Mt,Qt]})}),e[66]=H,e[67]=le,e[68]=be,e[69]=Mt,e[70]=Qt,e[71]=$,e[72]=Nn):Nn=e[72],Nn}const kZ=n=>{const e=Me.c(36),{testCase:t,index:i,onUpdate:s,onRemove:a,onToggleVisibility:o}=n,c=i+1;let f;e[0]!==c?(f=p.jsxs("h3",{className:"text-orange font-anta text-lg",children:["Test Case #",c]}),e[0]=c,e[1]=f):f=e[1];let h;e[2]!==o||e[3]!==t.id?(h=()=>o(t.id),e[2]=o,e[3]=t.id,e[4]=h):h=e[4];let m;e[5]!==h||e[6]!==t.visible?(m=p.jsxs("label",{className:"flex items-center gap-1 text-sm text-text/70",children:[p.jsx("input",{type:"checkbox",checked:t.visible,onChange:h,className:"accent-orange"}),"Visible"]}),e[5]=h,e[6]=t.visible,e[7]=m):m=e[7];let g;e[8]!==a||e[9]!==t.id?(g=()=>a(t.id),e[8]=a,e[9]=t.id,e[10]=g):g=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=p.jsx(eM,{size:20}),e[11]=x):x=e[11];let y;e[12]!==g?(y=p.jsx("button",{onClick:g,className:"text-red-400 hover:text-red-300 transition-colors","aria-label":"Delete test case",children:x}),e[12]=g,e[13]=y):y=e[13];let v;e[14]!==m||e[15]!==y?(v=p.jsxs("div",{className:"flex items-center gap-3",children:[m,y]}),e[14]=m,e[15]=y,e[16]=v):v=e[16];let S;e[17]!==f||e[18]!==v?(S=p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f,v]}),e[17]=f,e[18]=v,e[19]=S):S=e[19];let w;e[20]===Symbol.for("react.memo_cache_sentinel")?(w=p.jsx("label",{className:"block text-text/70 font-anta text-sm mb-2",children:"Input"}),e[20]=w):w=e[20];let C;e[21]!==s||e[22]!==t.id?(C=$=>s(t.id,$.target.value),e[21]=s,e[22]=t.id,e[23]=C):C=e[23];let R;e[24]!==C||e[25]!==t.input?(R=p.jsxs("div",{children:[w,p.jsx("textarea",{value:t.input,onChange:C,placeholder:"Enter test input...",rows:6,className:"w-full bg-background border border-orange/30 rounded-lg px-3 py-2 text-white font-mono text-sm focus:outline-none focus:border-orange resize-y custom-scroll"})]}),e[24]=C,e[25]=t.input,e[26]=R):R=e[26];let E;e[27]===Symbol.for("react.memo_cache_sentinel")?(E=p.jsx("label",{className:"block text-text/70 font-anta text-sm mb-2",children:"Actual Output"}),e[27]=E):E=e[27];const j=t.actualOutput||"Output will appear here after running tests...";let Q;e[28]!==j?(Q=p.jsxs("div",{children:[E,p.jsx("pre",{className:"bg-background border border-green-600/30 rounded-lg px-3 py-2 text-white font-mono text-sm overflow-auto custom-scroll h-[152px]",children:j})]}),e[28]=j,e[29]=Q):Q=e[29];let M;e[30]!==R||e[31]!==Q?(M=p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R,Q]}),e[30]=R,e[31]=Q,e[32]=M):M=e[32];let k;return e[33]!==M||e[34]!==S?(k=p.jsxs("div",{className:"bg-gray-800 border border-orange/30 rounded-lg p-4",children:[S,M]}),e[33]=M,e[34]=S,e[35]=k):k=e[35],k},u0="problem_testcases_draft",TZ="problem_info_draft",I5=({onSave:n})=>{const[e,t]=T.useState([]),[i,s]=T.useState(""),[a,o]=T.useState(""),[c,f]=T.useState(!1);T.useEffect(()=>{const S=localStorage.getItem(u0);if(S)try{t(JSON.parse(S))}catch{h()}else h()},[]);const h=()=>{t(S=>[...S,{id:`test_${Date.now()}`,input:"",visible:!0}])},m=S=>{t(w=>w.filter(C=>C.id!==S))},g=(S,w)=>{t(C=>C.map(R=>R.id===S?{...R,input:w}:R))},x=S=>{t(w=>w.map(C=>C.id===S?{...C,visible:!C.visible}:C))},y=async()=>{f(!0),s(""),o("");try{const S=localStorage.getItem(TZ);if(!S)throw new Error("Missing Problem Info. Please save it first.");const w=JSON.parse(S);if(!w.solutionCode||!w.solutionCode.trim())throw new Error("Solution code is empty. Please go back and write your solution.");const C=e.map(Q=>Q.input),R=await Tj(C,w.solutionCode,w.solutionLang,w.timeLimit,w.memoryLimit);let E=null;for(const Q of R)if(Q.startsWith("Compilation Error")){E=Q;break}const j=e.map((Q,M)=>({...Q,actualOutput:E||R[M]}));t(j),s("Test cases executed successfully!"),localStorage.setItem("last_compiled_code_draft",w.solutionCode),localStorage.setItem(u0,JSON.stringify(j))}catch(S){console.error("Failed to run test cases:",S);const w=S.response?.data?.message||S.message||"An unexpected error occurred.";o(w)}finally{f(!1),setTimeout(()=>s(""),3e3)}},v=()=>{o(""),s("");try{localStorage.setItem(u0,JSON.stringify(e)),console.log(e),s("Test cases saved successfully!"),setTimeout(()=>s(""),3e3),n?.(e)}catch(S){console.error("Failed to save test cases:",S),o(S.message||"Failed to save test cases.")}};return p.jsx("div",{className:"bg-background text-white py-8",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-6 space-y-6",children:[e.map((S,w)=>p.jsx(kZ,{testCase:S,index:w,onUpdate:g,onRemove:m,onToggleVisibility:x},S.id)),p.jsxs("button",{onClick:h,className:"w-full bg-gray-800 hover:bg-gray-700 border border-orange/30 hover:border-orange rounded-lg px-4 py-3 text-text hover:text-orange font-anta transition-colors flex items-center justify-center gap-2",children:[p.jsx(V3,{size:20})," Add Test Case"]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[p.jsxs("button",{onClick:y,disabled:c||e.length===0,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 py-3 rounded-button font-anta transition-colors flex items-center justify-center gap-2",children:[p.jsx(Gj,{size:20}),c?"Running Tests...":"Run Test Cases"]}),p.jsx("button",{onClick:v,disabled:e.length===0,className:"flex-1 bg-orange hover:bg-orange/90 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-6 py-3 rounded-button font-anta transition-colors",children:"Save Test Cases"})]}),(i||a)&&p.jsx("p",{className:`text-center text-lg font-anta ${a?"text-red-400":"text-green-400"}`,children:a||i})]})})},EZ="grid-cols-[0.5fr_2fr_1fr_3fr]",RZ=n=>{const e=Me.c(17),{index:t,name:i,status:s,rejectionNote:a,onRowClick:o}=n,c=QZ,f=NZ;let h;e[0]!==t?(h=p.jsx("div",{className:"text-sm font-anta truncate flex items-center justify-center",children:p.jsx("span",{className:"text-text/60 group-hover:text-orange transition-colors",children:t})}),e[0]=t,e[1]=h):h=e[1];let m;e[2]!==i?(m=p.jsx("div",{className:"text-sm font-anta truncate flex items-center justify-center justify-start'",children:p.jsx("span",{className:"text-white",children:i})}),e[2]=i,e[3]=m):m=e[3];const g=`px-3 py-1 rounded-full text-xs border tracking-wide ${c(s)}`;let x;e[4]!==s?(x=f(s),e[4]=s,e[5]=x):x=e[5];let y;e[6]!==g||e[7]!==x?(y=p.jsx("div",{className:"text-sm font-anta truncate flex items-center justify-center",children:p.jsx("span",{className:g,children:x})}),e[6]=g,e[7]=x,e[8]=y):y=e[8];let v;e[9]!==a?(v=p.jsx("div",{className:"text-sm font-anta truncate flex items-center justify-center",children:p.jsx("span",{className:"text-white",title:a,children:a})}),e[9]=a,e[10]=v):v=e[10];let S;return e[11]!==o||e[12]!==h||e[13]!==m||e[14]!==y||e[15]!==v?(S=p.jsxs("div",{onClick:o,className:`grid ${EZ} gap-4 px-6 py-4 border-b border-white/5 hover:bg-white/5 transition-colors cursor-pointer group`,children:[h,m,y,v]}),e[11]=o,e[12]=h,e[13]=m,e[14]=y,e[15]=v,e[16]=S):S=e[16],S};function QZ(n){switch(n){case"APPROVED":return"text-green-400 bg-green-400/10 border-green-400/20";case"REJECTED":return"text-red-400 bg-red-400/10 border-red-400/20";case"PENDING_APPROVAL":return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20";default:return"text-text/70 bg-white/5 border-white/10"}}function NZ(n){return n.replace("_"," ")}function Y5(){const n=vt(),[e,t]=T.useState([]),[i,s]=T.useState(0),[a,o]=T.useState(1),[c,f]=T.useState(null),h=["PENDING_APPROVAL","APPROVED","REJECTED"];async function m(S=0,w=c){try{const C=await Ej(S,20,w),R=C.content.map(E=>({id:E.id,name:E.title??E.name,status:E.problemStatus||E.status,rejectionNote:E.rejectionNote||"-"}));t(R),s(S),o(C.totalPages)}catch(C){console.error("Failed to fetch suggestions",C)}}T.useEffect(()=>{m(0,c),s(0)},[c]);const g=S=>{f(S)},x=()=>{i>0&&m(i-1)},y=()=>{i<a-1&&m(i+1)},v=async(S,w)=>{if(w==="APPROVED"){n(`/practice/problem/${S}`);return}try{const C=await Cj(S),R={id:C.id,name:C.title,solutionLang:C.solutionLanguage||"",timeLimit:C.timeLimit,memoryLimit:C.memoryLimit,rating:C.rate||"",topics:C.tags||[],solutionCode:C.solutionCode||""};localStorage.setItem("problem_info_draft",JSON.stringify(R));const E={title:C.title,statement:C.statement,inputFormat:C.inputFormat,outputFormat:C.outputFormat,notes:C.notes};localStorage.setItem("problem_statement_draft",JSON.stringify(E));const j=(C.visibleTestCases||[]).map((Q,M)=>({id:Q.id||`test_${Date.now()}_${M}`,input:Q.input,visible:Q.visible??!0,actualOutput:Q.output}));localStorage.setItem("problem_testcases_draft",JSON.stringify(j)),n("/add-problem/info")}catch(C){console.error("Failed to prepare problem draft:",C)}};return p.jsxs("div",{className:"flex flex-col h-[90vh] p-8 space-y-6",children:[p.jsx("div",{className:"flex justify-end",children:p.jsx(zd,{label:"Filter by Status:",options:h,value:c,onChange:g,placeholder:"All Status",width:"w-64"})}),p.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-white/5 bg-sidebar/10 shadow-xl",children:p.jsx("div",{className:"h-full overflow-y-auto custom-scroll",children:p.jsx(ri,{gridCols:"grid-cols-[0.5fr_2fr_1fr_3fr]",data:e.map((S,w)=>({...S,index:w+1+i*20})),columns:["#","Problem Name","Status","Rejection Note"],renderRow:S=>p.jsx(RZ,{id:S.id,index:S.index,name:S.name,status:S.status,rejectionNote:S.rejectionNote,onRowClick:()=>v(S.id,S.status)},S.id)})})}),p.jsxs("div",{className:"flex justify-center gap-4",children:[p.jsx("button",{onClick:x,disabled:i===0,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 transition-all font-anta text-sm",children:"Previous"}),p.jsxs("span",{className:"flex items-center text-text/80 font-anta text-sm bg-sidebar/30 px-4 rounded-full border border-white/5",children:["Page ",i+1," of ",a]}),p.jsx("button",{onClick:y,disabled:i>=a-1,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 transition-all font-anta text-sm",children:"Next"})]})]})}function V5(){const n=Me.c(56),{id:e}=fs();let t;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],n[0]=t):t=n[0];const[i,s]=T.useState(t),[a,o]=T.useState(!0),[c,f]=T.useState(null),[h,m]=T.useState(null),[g,x]=T.useState(!1);let y,v;n[1]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{const te=En();f(te)},v=[],n[1]=y,n[2]=v):(y=n[1],v=n[2]),T.useEffect(y,v);let S,w;n[3]!==e?(S=()=>{const te=Number(e);if(!e||isNaN(te)||te===0){o(!1);return}const ce=()=>{S0(te).then(be=>{if(Array.isArray(be)){const Ce=be.map(DZ);s(Ce)}}).catch(_Z).finally(()=>{o(!1)})};ce();const me=setInterval(ce,3e3);return()=>clearInterval(me)},w=[e],n[3]=e,n[4]=S,n[5]=w):(S=n[4],w=n[5]),T.useEffect(S,w);let C;e:{if(i.length===0){let ce;n[6]===Symbol.for("react.memo_cache_sentinel")?(ce=[void 0,void 0],n[6]=ce):ce=n[6],C=ce;break e}if(c){let ce;n[7]!==c?(ce=c.trim().toLowerCase(),n[7]=c,n[8]=ce):ce=n[8];const me=ce;let be;if(n[9]!==me||n[10]!==i){let it;n[12]!==me?(it=Ye=>Ye.username?.trim().toLowerCase()===me,n[12]=me,n[13]=it):it=n[13],be=i.find(it),n[9]=me,n[10]=i,n[11]=be}else be=n[11];const Ce=be;let tt;if(n[14]!==me||n[15]!==i){let it;n[17]!==me?(it=Ye=>Ye.username?.trim().toLowerCase()!==me,n[17]=me,n[18]=it):it=n[18],tt=i.find(it),n[14]=me,n[15]=i,n[16]=tt}else tt=n[16];const Xe=tt;if(Ce){let it;n[19]!==Ce||n[20]!==Xe?(it=[Ce,Xe],n[19]=Ce,n[20]=Xe,n[21]=it):it=n[21],C=it;break e}}let te;n[22]!==i[0]||n[23]!==i[1]?(te=[i[0],i[1]],n[22]=i[0],n[23]=i[1],n[24]=te):te=n[24],C=te}const[R,E]=C,j=PZ,Q=MZ,M=jZ;if(a){let te;return n[25]===Symbol.for("react.memo_cache_sentinel")?(te=p.jsx(ps,{loadingMessage:"Loading Match State"}),n[25]=te):te=n[25],te}let k;n[26]===Symbol.for("react.memo_cache_sentinel")?(k=["Time","Verdict","Passed"],n[26]=k):k=n[26];const $=k,D=R?.username||"Player 1";let L;n[27]!==R||n[28]!==D?(L=p.jsx(Q,{player:R,label:D}),n[27]=R,n[28]=D,n[29]=L):L=n[29];let V;n[30]===Symbol.for("react.memo_cache_sentinel")?(V=p.jsx(M,{}),n[30]=V):V=n[30];const z=E?.username||"Player 2";let I;n[31]!==E||n[32]!==z?(I=p.jsx(Q,{player:E,label:z}),n[31]=E,n[32]=z,n[33]=I):I=n[33];let H;n[34]!==I||n[35]!==L?(H=p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between w-full max-w-[950px] mx-auto mb-4 px-8 md:px-12",children:[L,V,I]}),n[34]=I,n[35]=L,n[36]=H):H=n[36];let F;n[37]!==R?.submissions?(F=R?.submissions||[],n[37]=R?.submissions,n[38]=F):F=n[38];let P;n[39]===Symbol.for("react.memo_cache_sentinel")?(P=te=>{te.submissionId&&(m(te.submissionId),x(!0))},n[39]=P):P=n[39];let Z;n[40]!==F?(Z=p.jsx("div",{className:"flex flex-col gap-2",children:p.jsx(ri,{data:F,columns:$,gridCols:"grid-cols-[100px_1.5fr_100px]",renderRow:j,onRowClick:P})}),n[40]=F,n[41]=Z):Z=n[41];let K;n[42]!==E?.submissions?(K=E?.submissions||[],n[42]=E?.submissions,n[43]=K):K=n[43];let ie;n[44]!==K?(ie=p.jsx("div",{className:"flex flex-col gap-2",children:p.jsx(ri,{data:K,columns:$,gridCols:"grid-cols-[100px_1.5fr_100px]",renderRow:j})}),n[44]=K,n[45]=ie):ie=n[45];let le;n[46]!==Z||n[47]!==ie?(le=p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 w-full max-w-[1400px] mx-auto",children:[Z,ie]}),n[46]=Z,n[47]=ie,n[48]=le):le=n[48];let _;n[49]!==g||n[50]!==h?(_=h!==null&&p.jsx(P5,{submissionId:h,isOpen:g,onClose:()=>{x(!1),m(null)}}),n[49]=g,n[50]=h,n[51]=_):_=n[51];let X;return n[52]!==H||n[53]!==le||n[54]!==_?(X=p.jsxs("div",{className:"w-full min-h-full flex flex-col gap-6 p-6 bg-background",children:[H,le,_]}),n[52]=H,n[53]=le,n[54]=_,n[55]=X):X=n[55],X}function jZ(){return p.jsx("div",{className:"flex flex-col items-center justify-center select-none",children:p.jsxs("div",{className:"font-black italic flex items-end leading-none font-anta",children:[p.jsx("span",{className:"text-orange text-[6rem] md:text-[8rem] transform -translate-y-2 -translate-x-2 drop-shadow-lg z-10",children:"V"}),p.jsx("span",{className:"text-white/40 text-[6rem] md:text-[8rem] transform translate-y-2 translate-x-2 drop-shadow-lg z-0",children:"S"})]})})}function MZ(n){const{player:e,label:t}=n;if(!e)return p.jsxs("div",{className:"flex flex-col items-center gap-4 opacity-50",children:[p.jsx("div",{className:"w-40 h-40 rounded-full bg-sidebar border-4 border-dashed border-text/20 flex items-center justify-center",children:p.jsx("span",{className:"text-4xl text-text font-anta",children:"?"})}),p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-3xl font-anta font-bold tracking-wide text-text",children:t}),p.jsx("p",{className:"text-sm text-text/60 mt-1 font-anta",children:"Waiting..."})]})]});const i=e.rank?.toUpperCase()||"BRONZE",s=zs[i]||"#FFFFFF";return p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx("div",{className:"relative group",children:p.jsx("img",{src:e.avatarUrl,className:"relative w-56 h-56 rounded-full object-cover border-4 border-container shadow-2xl"})}),p.jsx("div",{className:"text-center",children:p.jsx("h2",{className:"text-4xl font-anta font-bold tracking-wide drop-shadow-md",style:{color:s},children:e.username})})]})}function PZ(n,e){const t=n.status,i=t===Lt.RUNNING_ON_TEST?`Running on Test ${n.numberOfCurrentTestCase||0} / ${n.numberOfTotalTestCases||0}`:VO(t);return p.jsxs("div",{onClick:e,className:`grid grid-cols-[100px_1.5fr_100px] gap-4 px-6 py-3 items-center border-b border-sidebar text-text font-anta transition-colors 
            ${e?"cursor-pointer hover:bg-white/5":""}`,children:[p.jsx("span",{className:"text-sm text-center",children:bZ(n.submittedAt)}),p.jsx("span",{className:`text-sm text-center font-bold ${YO(t)}`,children:i}),p.jsxs("span",{className:"text-sm text-center text-text/80",children:[n.numberOfPassedTestCases,"/",n.numberOfTotalTestCases]})]},n.submissionId)}function _Z(n){console.error("Failed to fetch match logs",n)}function DZ(n){return{...n,submissions:n.submissions.sort($Z)}}function $Z(n,e){return new Date(e.submittedAt).getTime()-new Date(n.submittedAt).getTime()}const q5="data:image/svg+xml,%3csvg%20width='45'%20height='52'%20viewBox='0%200%2045%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='45'%20height='52'%20fill='url(%23pattern0_2267_429)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2267_429'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2267_429'%20transform='matrix(0.0111111%200%200%200.00961538%200%200.0673077)'/%3e%3c/pattern%3e%3cimage%20id='image0_2267_429'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFhElEQVR4nO2da4hVVRTHdzWmaY9xIkgsqCyi1xd7o5HYC6Igs+f0NCuICcyk+hpRZEEgAykGEhRIQfSSMEsasUnMHpMW0ZcGP6Rm44yZWTOk/WIxS5wZpnvPOXevffaZ2T8QZObeM/+1uOfstddea13nEolEIpFIJBKJRCKRDeAY4FJgIfAy8D6wDfgZ6AMG9F+f/mybvuYlfc8lco2Mf258AZwGPAGsAfbROL8DHwKLgOluPAMcB9wHfAocwo6DwCfAvcAkN14AjtdP2g7C8xvwLHCSG6sAE4CngF7KRzQsEU1uLAFcBXxPfPwEXOuqjjwTgVeBf4kX0dYOTHRVBDgD2Ex1+AY421UJuR09hWmhkbBwrqsCwDzgb6rLAHCnixngUeOYOBRiwyMuRoBbdHMwVjgE3OFiQp5rQD9jjwHgehcDwDkVXfjyLJAzynbyRA2Lxjpflxpn62bEmq3Ac7q7PAuYAkwGLgCeAXYShvaynHy18Y6vG7g1g44W4AvsEVtnh/Hu8ATRD4ZGbQaac+hp0VyKddQjhwxNtt4dbphk4az4ETixoK5m4AXjO22xf4+ObswJhqnOg8CVHjS2YUeP5NT9eLO2EU8bGvGOR50dhjqX+NJZ6/jpV0MDbvCo9SZDnTtNj8WA+w3FH/C50ADHAvsN9bb60jqaeDlItaLTQO9GQ70f+9Y7tCTAMjO3ykDzKkO9snBPcwaipe7CklcMNEsBjiWPOwPRUtxiyfMGmiWmtuQ934KbNItlyUqvogd1v2asuc9r+ZnWwlmzyZvgI7o7A+i+2KdgKR4MkWSf6lFzc6DDiAVVWlQOc43nk/gQLHUeRX8QQPDn3gSHfXT4WxA1+W7NSm+Cwy2GQpdPwdsDCF7vTfAR3Z8F0N3tU/CeAIL350n2ZzwM+DOA7h7nUbREBCFY7cPZEr0AbwXS3F9FRwuve9D7BuHor9qj4zC7GkmX6i52N+HoqdpiOJTCdW/AY4Slu2rh3cgTjJYCOk/WOyIkXsM76eMLzZo8CRvtT/yoBJ3vVnELPpLlOTSuoByWVi2pNBodkZx61+LBqqVJq+romT4dLc+/vSUY0RG5o/d67zvX3urQrM6hT3aV1V0IhxgibcUhOQBcmEPfRfqekLRZOHp6wB6V7iIlslpDLe8NwT/Aqd4drYbIlAAr/pJbEbhNqowarFCar9eSa1qx1q93hxshoxh8skdiZeBGqesz0DtZr73CIF/Tal3k6GOL26ntcoU/uQU/6fM8HW/tMJ/90WARei9wl6nAbDa0Nljj/WTMhejbgXNdJIiWgllJKUSfEkqkDBXJwz7gPBcZwPnAHzltWRS6WSjPoJOFLlKAh3PY8V3QZqEhMWuWppxvgaNdpIg2ySlnsENsnVWWSJncUo8HXORIBi6DHcvKblGW9t1aXOYiB7i8jg1bQoai/ydyRp2S3l7gChcp8jjQ8ttaGbozXQwAc+pMnemXRcfFOcilVimF/O46FxPA7Rl6XN4scuhqoPUU4O06WiWBNt/FiJQJZHD2LkkclaTvKOBunehYz8nR3YHD0BxGluFVXwI3B9Ql9dJfZdDVH92Inzqjf7L2vGzQ3MMko+ydNKFuyqhFFr45rkpoNFIv9Btp5HKdAzKhwZBzrtZG5xlBtCWa6KKg0e0FxjpICe864EV9ps7ShtKpWlvXpP8/XX/XqoO61xco1RVty0qPk30AzC6hrCwLW0vbVlvB4KdwsaYZy6ZHD5vDJohCwuDwKTHylxIcvFsHdReacFPlkcf3yJQA49N1ufZaq8imUgDTpIFdWsnq5B2y0qfXajMrCag6DJafzQQekkpNLRvo0q8C6R3y9SC9+rMufY28doG+N309SCKRSCQSiUQikUi4jPwHVQ3JWmkhMXgAAAAASUVORK5CYII='/%3e%3c/defs%3e%3c/svg%3e",SO="data:image/svg+xml,%3csvg%20width='36'%20height='40'%20viewBox='0%200%2036%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='36'%20height='40'%20fill='url(%23pattern0_2142_22)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2142_22'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2142_22'%20transform='matrix(0.0111111%200%200%200.01%200%200.05)'/%3e%3c/pattern%3e%3cimage%20id='image0_2142_22'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAErUlEQVR4nO2c26tVRRzHl5rZKUrKsttDhi89lFkUYlBaFFYmhx6iIAjqIQoi6A75EFZvWifJSjGiTDIo6PISYpaEYDeLOg9xKCPoYpaBKIUnj31iYqRzlrP22fusme/8rPn8AXs+3+++rL1mZk1VFQqFQqFQKBQKhcL/DeAYYDEwAGwGfgD2AgeBn4HPgSeAixM6TAOuBZ4E3gW+B/YAI8BO4DNgBXBRdaQBnO6D/UZ3/AVsAI6P6HCafxN7cXglpkMygCnAg8DvTIyPgb4IDg/kdEgKcKL/arZleUuHTTkdkgKcDAwSh33AvcCN7nV7cJgR0cFdR+4GlgAzK0MXvI9IwwjwMnBmFxe8DxM57AdeBM7QtRoOuZr07ATO6eDwnMDhx5T/jjoCXOav1qk50PSJEjrg/8GcpS55ErBdFPANAw6H2KIu2t0EqLjegMNorlIW/aYo1AHghMwOdTapSu4DhkWhthpwCL35JymKvkIYaoUBhxA3K4peJgx0mwGHEAOKot8RBrrEgEOIjYqi3dSiirMNOITYoSjazemqmGHAIcSviqL/EAY62oBDiP2Kot0Mm4rjDDiE2KsoesjAb/QQeRlSFL1RGGieAYcQmxVFLxUGusWAQ4hHFUXPEwZabcAhxAJF0ZOEv5HbDTjU+RaYnLxoH/RpUai1BhzqrFKVfLnfBKPgJgMOddy4CxVFvy0MdYEBhxBvKYqOtazf5n+00iHEl4qiUy3thzjPgEOIbYqi1wgDLTHgEOJZRdHXCQMtNeAQ4mpF0ZOBL0SB3jPgUGer+x+fvGgfdJZo8v1PtwU3s8No3J7uWZKSa2FXCsI9YsDBsVLX7OEh3Y7L1OxxW3IzOzgWa9sdG3Kqf0wiJTuAozI7uI2WU7XtHh70ocQh7zDgcJemzc4h+/yMVgq+cnuwMzsMdvpGSQGuTDDJMwLMz+ygmUDqhQSrHssMODxcWcNPxr8aKeD6idwURHbYILsx6RX3WwY80zLgmqb9HEKHVWZ+lzvRJmH1H3JIjoWQGHBIjoWQGHBIjoWQGHBIjoWQGHBIjoWQGHBIin/Isg0LDThcWlnGH+OwJcIKxpTMDu+3cUiKvyt7ijisbXFnGMthwNydoT8r4/VIAb8D+jM7HOK1TosOMoDp/nyNbo/U6eaTfGxmhzq7/etPT9dkc7g5/giJWI84DAO3ZnYYj31+vDnpmv33AJIbIh2nUy+5P7NDr3wK3N7rt6+bE7eW+68QCSbW+zM7tGG39zq17TE+j7c4cav1IwpoHGLg/B7rZtmtHnCuX69LyQfjrG4rHGLjfOd2W/I1ggvMQeDczA6pcKeMLRqv5Pn+ZKzUrDPgkJLhxtt4f8FxG0UQfJpnZ3ZQ8FNw3yDwQs4domIHFc9XowHOFz58c+eYwfM4qBgZ89RChFXjXgae2VC0yiHP43J+eX6XaNDBhpKVDmp++WeDpJtoFw66vqFopUMOFriQ9wkHvL+haKVDDu5xIdcJB1zUULTSIQcvVX4mSsWFDUUrHXLwiQv5jXDA2Q1FKx1y8HXlr4oqTmkoWumQg12VeF5hWkPRR/rcRv5TxQqFQqFQKBQKhUKhmiB/Awm0zHQ504V8AAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",LZ="data:image/svg+xml,%3csvg%20width='40'%20height='46'%20viewBox='0%200%2040%2046'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='40'%20height='46'%20fill='url(%23pattern0_2052_174)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2052_174'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2052_174'%20transform='matrix(0.0111111%200%200%200.00966184%200%200.0652174)'/%3e%3c/pattern%3e%3cimage%20id='image0_2052_174'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEWklEQVR4nO3cTYhWVRjA8Se/Ri0sjJA+1DIX4UKwCGqhKylopEIwiCgKC8LGr4WuWhRkLUqL3Fi0qHSRG4WwhS5EsZpmk+OqECIRE2HoY8aPhMh/HOYOvj2ceee9c5/z3mfunB+8i3nvec55zpk79/24zxmRLMuyLMuyLMuy7CZgLrAVGACuMHWEXH8AtgA94hlwH3CGqW8wzEUcn8lnaI5Bl2c2o5eLptks3jB6TW6afvEGuEzzXBZvaCjxhoYSb2go8Yb0VkfGXJN6UPGGtM4DMyJj3gKcSzmweENa77cZ94OUA4s3pPVwm3EfSTmweEM6ZyPX5QXqubOpBhdvSOctNc6XwPPqubdTDS7ekM6KljFmA38AB9XYD6UaXLwhjR/VGE8Wz4eP+3PVsdMpEhBvSGOHGmNfy7FedWxnigTEG+zdAO5v6X8GcLHl+Gdq/MVFjCnxBnunVP+r1fEhYJZq8611EuIN9t5Q/e+JtFmj2vRZJyHeYOsfYJHq/03gE/VYp9osKmLNiDfYOlohj2OWiYg32Hq5Qh6vWCYi3mDnOnBHhTwWAH9bJSPeYOeQ6vc24Fqb9ocjuRy2Ska8wc4G1e9zE7QPv4RbS8Z0TLzBxggwX/V7sIO49ZFinmGLhMQbbOyPLNhI2bgi9oBFQuINNp5SfT7TYdyfwBwV22uRkHhDQ4k3NJR4Q0PVWUA+fxrV3o3UWUC+dJw+Bmie/joLyHvH6WcLzdNXZwF5tJgF6Cmq5JvitH7LWHWhy/7J/xbuRre5BA3SjEW+12yRK7yIvdSmv56wJSFc36bYC2TI9fviLo3dmdyyMJNxqcpXmdNShTPgG2Bm3flPh4UOPs2L3Z2FDo4Ad9U9D/ewMQS8Dsyrez5NX+gxx0MVft1zcgk7Q8ADkf5nAmuBbcB24AldYVS0u6eoFDUh3qSqLAqAVcBPkbY/h0p9UYBXrZIRb4zmdUFvUAeWAb9PcFdkuYqZU7xHr0y8sZgU8HGk3687iDsSidttkZB4YzEp4OlICe2/HcSFNktU7LMWCYk3FpMCFqs+XygR+2Lkl1SZeGMxKdT755Kbd96JfD9emXhjMKerkT4/LBG/NxLfrgSsI+JN1Qkxep393/cdwK4S8e+p2NkWWyTEG2zcqfrcVCL2NRV7t0VC4o3FpIDHJrltOPw1LFOxj1skJN5YTArYGelXfyJ8t/gQM/bYC3wViQtbKCoTb1LsoArC/pLIraIHW47PAm4f+9l6Z5V4g51HI31vU5t3TrW7URDZ4jZp4o3VxICTsUUEVgIfFcdPhGvwOHmEM/w7q2TEG2ztqpBH2M5mRrzB3p7Yv+WZIIeFwF+WSYg3pDEYisrLLDiw0TIB8Ya0LgFfFG/ZNhZ7AHcAnxfX44XqH1GZbcYUb6jXIZXL0g73rExIvKF+vwK/tDyuWnQq3kyx+rhODYs3uYC8S3IBeZfkAvIuygXkXZQLyLMsy7Isy7Isy6R5/gOfZtN9ZTvm3QAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",wO="data:image/svg+xml,%3csvg%20width='41'%20height='46'%20viewBox='0%200%2041%2046'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='41'%20height='46'%20fill='url(%23pattern0_2052_176)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2052_176'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2052_176'%20transform='matrix(0.0111111%200%200%200.00990338%200%200.0543478)'/%3e%3c/pattern%3e%3cimage%20id='image0_2052_176'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEbElEQVR4nO2cT4hVVRzHj38bw39QMIJhJtZCVGxXBhouIoVcuLBF2jLaWEu3OilKm4bIYhJmI4HhSo3BcSOIqKAgJhMkSiLGWLioJmcMp/nIcc7I8Jg5v3vvO8d755zfZzvD+937ufe9d37f37nPGEVRFEVRFEVRFKUZAHOBQ8A92uN34DAwv+5zahzALOBHwnK47vNqHMAXhGew7vNqFMCHwFgE0dR9bo0BeAd4FEOyinYAK4E/YklW0eap5MXADY+jO0BniddT0a0Ac4CfPJL/AdabEqjoKQCOeCSPAh+YkqjoFoDP8bPHVEBFTwJ4H3jskXzUVERFO4A1wF8eyf22BTcVUdHmqYRlbhUxHb8AS9uskbdooAO45JH8AFgdoE6+ohkPin7wSP4P2ByoVtaiuzySbbaxK2CtPEUDHwlB0f6AtTqzFA1sFIKiE/ZjJVCttcBv2YlGDoquAC8GqvWesGS8a1IEWAIMhAqKhFp7XLvu46BJdN7XLwRF6wLV+QaZ4+00QI0F/8lXCoqmqLEIOC0IHnOD2dkmw6DoswA1XgGuCXXsF/DHJkWIGBRNqvEWcF+QbDvMTSZFiBwUuRo7gWFB8k3gDZMiwMvArVhBkWvf9xaYjp9tN5BqelB0MVZQBLwAHEPme2CeyTgoerfNd8p5QbBdxew1mQdFu2O1046hEEvFRsP4F1OUoKhAO43b/PimySAoGokRFAGfCEtEy2U7qTEpgxwUXa0SFLn9HV8LgicuYpAgqrEw3vb+LLydl1d83Xzb6SnuuNMhdxS5131NSPnSbqdLBkX/A9tNSbJvp1uxQVDooKhEO/26mekAC4Ae4KG7c760nVjL/2wVQvVvKzQ5XQXa6TN2eGBSwElupW9Ctg3ngb9DBUXuwtoQXuJIMkG9u7NsZ8U0slcIO4oGytxxbjpt178+RkPk1Y3DrRSmY9jztz+BVSXqrBMuGu5YtpkUAb6iPI/ssyYlamwTLijuIrQ9Q2wsLoK0HxNFGSuzo8iNtaTp9KVQ0/BGY58oBU4VFN0VoZ1eYHLB3dlnBSmDRaS4/Ry+rQYT74z9oXYozRhc1nCjwB1oBXYEaKcr59QzFhvSACcLSPbKBt4u8JxgPu10K8ABytM/WbZ7rFhqp39Nop2uArCjjeeu+12nty/r6bQEsAH4l/YYzKqdLgvwEnCbuIwmP532Yfc+AOciSx5KfjotAXwXWfK95KfTEsCnkSUP29TP5Iz70RG7cyg2Z3xNTRJMNzEBXnXR5vOir3VSkxSeiYm0aTsG3SZFhIlJDAaEIGoo2dCoQMAeilMuiOrw5NkjyW52qTgxKcOYy0aeCfTI7jWpUmFiUoaHdi+Gp263+7iwd3IvsNCkTCTZd2w2UvB7Is3P5QDjKYkLWcz0apbdo79SG1f246yTt+ck+wGwpe7jTl32dTtgrft4c1iN9CWdUTRMdnfdx5mL7KGs1sI1yh5JNqNomOzeuo8tObLMKOoku4xCURRFURRFURQTkic5IEneBdHJiQAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",zZ="data:image/svg+xml,%3csvg%20width='36'%20height='42'%20viewBox='0%200%2036%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='36'%20height='42'%20fill='url(%23pattern0_2052_172)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2052_172'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2052_172'%20transform='matrix(0.0111111%200%200%200.00952381%200%200.0714286)'/%3e%3c/pattern%3e%3cimage%20id='image0_2052_172'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAADU0lEQVR4nO3cTYhNYRzH8TPjLSMLa+8usWGKxMLGaGi8DIWQlL0NpUQpTWFmIXnLJAtWQiFGDcluCmuiKKQxC6+Rl7zMVw/PcD3z3HvOzL33zLnn/D51Nuee5z/3+d0zz8zznHNuEIiIiIiIiIiIyKAAI4E24CVDpxtoNe8lSCv+dDApWoO0YmjPZFdPkFYkTJBWJEyQViRMkFYkTJBWJEyQViRMkFYM3mdgF1Dr1GtS0B4Mzl1gVoF6CtqHgflmZ5IjitRT0D4MzNEI9RS0DwNzOK/dWKAdmOTUU9DlChpYBDy2+3KpCDohy5h9TpnhA+j9uydFQSdpGbPXsy81QSfhTC4mNUEnXU5BxyOnoOORU9DxyCnoeOQUdDxyWQz6JrAZmAKMtttkYANwnSoIesjuG4lY6COwJsKHttwem7Wgw+8biVigaQC/IasyHHR3KUFf87RpAI4AB83Q4Xn9DhlVStBbneNXOK+/MGO1c0wbGVVK0CbYcXnbec8xc5yaLWRUKUGH6QHqnJpXyKhKBf3d/UMJTLP7M6kSQf8Atji1hgE3yLCgzEGbq9UbPbUOUX16gUvAWmACMMpOxKbayVnnUAX9BWj21DlA9XkPLCkYzr++NUediJUraPPDGpz2NeaiKtWpMSzkvH5uiivoN8ACp+1w4AzV6ZbTl1pgG9ABXCxwQj2rdNDmX7jZTjszjl2leu10+mNCzvfVjNnOMZ2VDNp8ijM87RrtipVvO0vydTjv+aHnmIVOn+9XMuhdBRsXrjmf6nc7/x5AYC7wM6yRgg73CFgPrLPvvyavP2b9/UGEGgo6gq4CfdkDfCCiUoLOiq4iGc20Q0koBR3uNXDBbqeBZZ7lhXthRRT04Kbmi52sVoY1UtD97bPPyPRtTz3H7HaymkgIBd1fvZPDDs+Epd4zVheloPtr8WSxFNgP7PU9rARsJ4SC9i+QTS8YTP+cxgOvCKGg/Z4D8yKEbGaFT4hAQRdmLrudA1bbs9Ys/I+xl+TM0ujlKFPvPgo6Jgo6Jgo6Jgo6Jgo6Jgo6Jm64dcAJe7ldyusdcPz3jZ/2YXaprPbAfruLVNYnBR1j0Bo6Ku9k380vx+zALeX11n4Vxn9PQYiIiIiIiIiIiIgE2fMLdkXRVepateAAAAAASUVORK5CYII='/%3e%3c/defs%3e%3c/svg%3e",BZ="data:image/svg+xml,%3csvg%20width='36'%20height='42'%20viewBox='0%200%2036%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='36'%20height='42'%20fill='url(%23pattern0_2052_175)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2052_175'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2052_175'%20transform='matrix(0.0111111%200%200%200.00952381%200%200.0714286)'/%3e%3c/pattern%3e%3cimage%20id='image0_2052_175'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEaklEQVR4nO2dzU9dRRiHZ2HALjQajCnoommDrgwfTTEmQrVpuvJvILihq+qCCO5su9VAcIO6Y9NV7YfEGBd2R4zGKH7UhH+h4EeCBqjC07xholLvnHvOmTNzZoZ5kpsQIDO/98cwM+/Me+5VKpPJZDKZTCYagEeBN4GvgD9ol11gFRhTKQE8C3xPeGwDF1RCIzlEk9MyW08XobMdvdl6To6B7ajNBrYIiz+TNJvwGO/yx98BXlOxQWCoA03pmU1gqH91pWU2gaEOa0vHbAJD/V9fGmYTGKqzxvjNJjCUWWfcZhMYqlhrvGYTGKq73jjNJjBUOc3xmU1gqPK64zKbwFDVtMdjNoGhquuPw2wCQ9WLIXyzCQxVP45XSxyxtncHSXgMODR7tVn3qokLjTnLeIrM3m3OuerCQmNXzHY1spt1r5qoI4XKRvshG+2JbLQnstGeyEZ7IhvtiWy0J7LRnshGeyIb7YlstCey0dXZA9aARWAaeAU4CTwJ9AC9wNPAIHAOeAP4KBtd3tw7wBTQp2KCONgBlmTEqlghbPaBZZuz6WAgXNaBCZUKhMl14AmVEoQ3VcxU0N6rr62uAjeBn4Ffgfv6Sky+vqt/dkXvTHrdOmoWGwp/AZMlNZ+WrRrwe41+fgM+BEbdu3tYdCgjebKE1lHg8wb7/QwYPkpGz3TReEwnJn87+k9akEe1Uzf6Whd9zwM/eNAhWeZgqkavA48VaHsR2PSoZ8NZ2RjtzssTXUxu4/HpLSdm0x7LXaYLnyO508hudhppKZBtU1qtFz4fc3KZObu5BbKlIJYK9Mjuoi6SpLwF9OvXrP5eXeZjNnrPdAqn98k2W7jZDm1KwaTN1m8oVqO/KNBim4z0d2jzuGWbn8Zq9FRBWm2FoxhldzQSm9H7wFMGHXJ2YYXDGJdiM/q7glO4OgdEh3AYo5wC9sRk9KJBgxx1WuM4xrMxGT1t0CDnydY4jvFyTEafNWi43UTjjmO8EZPRJwwa5GakdDJiFfDhfqskNT/ZduaTPoOGzTrJSFOUTGo2bDvxSY9BQ5kR1dhIrpnU7Nh24pNHLIx2VtsBPJOa0Y9bTB1WT9R28eDt1KaOE5aLodUTtR36HdBtJrcYvmzQcKuJxh3H+HFMRr9u0CDFLdY4jvGdmIx+P+IUfDwmo78pOFSSCiIrHMb4S2yHSnv5mNQfFwuusaxwFON+I2VjLdROfF2gRWrhbBiomYwUsWJtcosfpjBk0DKsL0TrMlczGTEhWl5oymh5WimkcoMFi3b/SWoqJiMm3m3E5P+s+FIs4pNd4LmCD+DxracT3zZeYao/wsl3cJ8U6BnUZVltcQ841ajJD43sS8CXHhfI8wV6xloscjyjjhLAGT26fCGJyUvqKMLBNLLmaU52M13EAgcL5Lzl1s+EtPme80crYgIYklo4na3ZIm2sNLZPThFgBPhAVxDVmYeXvD2NlQIcvF3EhBS3SN2F3ILoazHZp8tLvv5RDu3178j7TNc+hXsAmYuqUh+hi0UAAAAASUVORK5CYII='/%3e%3c/defs%3e%3c/svg%3e",ZZ="data:image/svg+xml,%3csvg%20width='43'%20height='48'%20viewBox='0%200%2043%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='43'%20height='48'%20fill='url(%23pattern0_2052_178)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2052_178'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2052_178'%20transform='matrix(0.0111111%200%200%200.0099537%200%200.0520833)'/%3e%3c/pattern%3e%3cimage%20id='image0_2052_178'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE5klEQVR4nO2d249fUxTHN8XUNdG4RUrwWpcioeMyHkhcmgiJyIhoqyFKUxXiT2C0YTRIqId6knjQukTHnSeh2ip91kYYBm1naMuo20dWz5pkImfv3/nlXPbZ++zP0zxM9uU7+6y99tprrzEmkUgkEolEIpFIJBLFAI4CLgTuBtYBbwA7gAlgEvgHOKQ/7wJ2Aq8Ba4DlwKXAnILddQvgNOBeYBOwn/JMAa8Dq4AzTZchW7m3AW8Bf1EffwNvA3cCA6YrAMfqSttN83wPPAwcb2IFOBJYCnyLf/YAq+WrMjEBnA98TvuQTXbQxADwqHoJ/XAAeA8YAYaBK2RTA07WL+MY/fk84HL9Uh5TW3ywz77+BUalTRMqKkA/n/OzwLVlJg0cDVwJPAn8ULh32AKcY0IE+KjABLcCt9exosSfBm4EPigotvjmQyYyob8Erm9wLIuAdwuIPQ3cYkICuCtnIr8C94mt9TQm8d2/K+B7LzMhAazUo/Je4CXgrBaM6UTg5QJih7Wy2wpwj5oKlxkJz2a3EeBqjY24NsgwvZG2AVzQwxX8TNxG3+OMSewph9hP+R5jbGZk2iK0xMEX+R5jNJDFxW3sjC4Q5ZMert8qr4OLCTI/23ao+Rk4zvcYo4Es/mLjIZ8DG9CI2T4NVa6X2xQTMMD7FqHHvVyLqchjOQNabwIGGHSs6jvaIrKw3wQO8KFlbmNtEVn4xQQOcJNlbnJzf0YbRBZGTRxpEROW+a1sg8hjseRRkN0p5rGpzk47JfKso3ke+2q5wOiiyILeuttu1y8xVdJVkWdw3Dcuq/ov+mYPkd8B5ppIIcsxyWOkqg46L7IgK7e2DbHr5qLgKXGHqSDrs5fIbWAKeK7uuApwrqX/3WUbfpGweKEyVfP1OMXS754yjUoi4e+ExW91JuWoGc3jjzKNJqGbEFoblnhySDxfasI+TIc2PDeQzXASeCbYzVAbT+6dosnw1bt3szpIBxZzWAd595jHxio76bzYwBOWeT9edUedNiNkb2ryqD6Puqtik33R4j7mcXFdnXZObGCo0cB/V8UGnq59Iywp9joTx+Xsj5b53d/UIHqJLQ8zjzABAyx2pBuc3uRAXGJP+3p9VRXAx5a5bfYxGJvYG0zAkL3AtTHsa1ADWjHmgK7kDcAJJs50sHHvG73Y5NDtsqCP/W2sPvxLiXIAJ2kRlTzEA0mJ6FUAvOJYzfXm23UFYIVD5O2pAlkFANf0eP52WRX9dBrgIsnndqzmtb7HGIvIEw6RP0lPlKsxF66VLOUvzi7bT6ch2/hcZSQk5eIqEwLAg1pMcKYwyvyW+MkuF26mMMrNJgSAJZZSPys8lvoZdhxGZkfmlpoIIl/CV8ANDQeIbLGL/5uLMFZyn+XYtukqG6gpaL+4xx98NnuDsckFqoThuH+T9NvryoiuF6lDev1kuxmxuXDhehfAI5IISH8c1KKAa7QcsXz287VM5hwVc56WzBzU5JYRTQmw3VbjOPGtjcJPBhYAn9I+tkV3rCZLBZbV+Y1vdYGftB5fvAEisizVB4CvPQg8rnWjuxNPJrO1t2pO3581iis+8ea6PJugAE7Vqoqv9og79OPBbJS8i0ZTAgJc6Qu09vSo/uuP7frZT+rR+JCKKTVPv1BRR/Qt4MLQUxwSiUQikUgkEolEwjTJf7D/myFxPz3/AAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",AO="data:image/svg+xml,%3csvg%20width='57'%20height='57'%20viewBox='0%200%2057%2057'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='57'%20height='57'%20fill='url(%23pattern0_2032_134)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2032_134'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2032_134'%20transform='scale(0.0111111)'/%3e%3c/pattern%3e%3cimage%20id='image0_2032_134'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAACcUlEQVR4nO3bu27UQBSA4ZAClEikRNmOy0sABQSKwOsk8ASIF+ASsiwNz0CBuL8FgRZEBQmgEAgVPxplioXYi73r9TDe/5NW2sIan5wdH4/HJ3NzkiRJkiRJOgQ4BtwDvgM/gAGwmDquzgH6HNZPHVenAKvAr4JEf0sdW2cAS8A7in0FjqSOsROAB5S7lTq+LAHzwzMUuFJSMoizfCltxJkBjgMPgf24qrgNnADelyQ5JH+1xviLwEYsNbn4AtwFFppMdEjy33ZGBDFoYMWSi36T5SLM5KpqlQwOxg/r7lyFK3y+qUTvVTxprZIRmOghsSZXMRhz/D752mwkyUOP14//ccKxVxnAAnAn3mBy8TlOwOZuhjEZR4FHI0rG1UZPOMtGzOyN1LF1Ndk34hr6A3CzsZuBJEmSJClj9nW0xL6OFtjX0QL7OlpiX8cU2NcxZfZ1FLKvo2X2dbTEvo6W2NfREvs6psy+juzZ19Ei+zokSZIkSQeAS7F3403cRt2L3+8DK6njyx5wBnhZYXfrOXAqdbxZAs4D2zW2Ej8B51LHnRXgJPCR+rbDVZA6/mwALxjfq9TxZwG4zORWUv8d/724uigS3o6vActAD1gf8ca8P2J8+zpiIt6WnGyt4NhrJcdudfTlbHMds8BuyUmWC44NM7vIbsnYthtUSHTPRNNoostKx3rBsddnrHRsNpLkmIjwWF1kP94Ae/ET6vPPugFhX8cf+xqTutBYQF0GPJsgyU9Sxz8rj+CnU8eflbBBFDeKqgo/zNnUcWcpbH1WLCNPw1WQOt7sARfjsmwr/Jtb/LwOqwtvfJIkSZIkSXOd9htdCrKy1Cz/egAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",UZ="data:image/svg+xml,%3csvg%20width='58'%20height='58'%20viewBox='0%200%2058%2058'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='58'%20height='58'%20fill='url(%23pattern0_2032_136)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2032_136'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2032_136'%20transform='scale(0.0111111)'/%3e%3c/pattern%3e%3cimage%20id='image0_2032_136'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD6ElEQVR4nO2cTahVVRiGT0ldlf40FbMQTU1MaaCBNAhSZ6XDcCBEYIHlvTlTceK0SY4UjAZqEIHaTUXIWVzLa2lkRQk1yIH4k1SiN/C/Jz5awUXWt/beZ++7zsbeBzaHc1jfz3nP2muv9a29T6cjhBBCCCGEEEIIIYQQQgghGgAYD2wAvgb+QhRhGn0FvAP0lRX5KeD7QtfC4zvTsExPlsjNiO337DBciGYYSAltY7JohuMpoUcaCiJgJCW0aBAJnQkJnQkJnQkJnQkJnQkJnQkJfQ8JfR44AnwE7AIOAD8Cd2gfN20VB+wH3gc+Ce9vtVVoW1VuAxYk/D8GvAX8TO85C6wFJjm5TgbeBM61SWirxT7tOo5XCe1H6RV2lj3UKQHwMPBhN0FSTrvheNmk7wZ4l/zY8HBfpwLA/cAHVQOlHFblGjC7StKjAR4IY3cZbgAbgRnh2BQ+q8Ipi9npPtdKtfqUs6rscPxMAt4DTgDDwFZgotO2v2SsTRFbE7sKzzs5TAV2hrPTXqc47Zb2SujlER99wA+RtnudmItKxpoRsbWeXZYvnPixfN0dktBxsgs9PeLjVaftHeCRSPvHMwn9uvOd1zvt33ba20wlu9Bbwuk7+rD5c4y/Y1Mpm63UGDo2V8h1pvOdbbiIMey0n90Loatw2In5Wkn7G+GH7OZieNGJPSEsWGLY5xMcu0ttFfoiMMuJeYyx53Mn9oICu2cdu6E2Cn01cbVfQx4+deIvK7Bb4dhZSaFVQl8GXnBiPZfxLqhdTg6vFNitcux2t0no34ElTpxpwK/kY4+Tx8sFdisduz1tqt4tdGI8AZwmLwedXF4qsFvm2B1qg9DWU+c4/mcCv5Cfo04+zxTYzXfsvuy10NZTn3R8zwPO1PBdp9bxR6yQFFaF1x2b67HVofkB/uyl0N8kagSLgd9q+q9b65hbcao21OVZMKZCHwUeTYyDV6hP3SX4Oic/K+7HeKPikn3Mhf4sUZlbFUqptEDoE4nyp52NoznplVOBb3sh9CDwYMKf1TGWlDiGM9Q6jBedPK2wtT3kYa+TnXbLqwRrUujVnQbg37NiLGsd//FT6Ucf4ttvlfY6U87aLHRT2P7fuIr5jQs7+pX4vwttfOxdvJ3don10QZNCD4RxuO4xRH4u2EwkMSWdYsX/UHmk10LfC9wKj5QMhh3ywfD+dl3HEjoTEjoTEjoTEjoTEjoTEjoTEjoTEroFQusR5ea4khJaD91neuje/kFFNEN/Sui+cMuqqMep1IbI6L/6kdj1RI7eCeD17IFwS6sukMWMhG2w/sKeLIQQQgghhBBCCCGEEEIIITrl+AdrNq038IHhfQAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",CO="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='100'%20height='100'%20fill='url(%23pattern0_2632_21)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2632_21'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2632_21'%20transform='scale(0.01)'/%3e%3c/pattern%3e%3cimage%20id='image0_2632_21'%20width='100'%20height='100'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF9UlEQVR4nO2dW4hWVRTHd9pNqykJI8hIIiux+2WUySyksSgri25PMeCDFF0oKjMpI4ksu0KkiVIxklZkQUNUljVRlFOWWZRokmPUZEWNNZSONL9YzvZlmO98Z59vn2+vM/v8YF6GmX37c87Za+211jampKSkpKSkpKSkZA/APsBRQBNwATADuBg4W37f/1cluQHsZxf8SWAtsJNkOoFlQGPosQ8pgDHAY8DvZOdtYGzouRQaYCSwANiFH3YAU0PPq5AAJwOb8c+/wMTQ8ysUwDSgh/wQoacDZ8p3KfR8VQOcD/xD/ZDX2LPA0aHnrg7gGOBXwvAH0Bx6DbTZFO2EZTdwRei1UAFwPTroBo41MQPsC2xBD++YmAGuRh+NJlaANvSx0sQIcFAKn1QI/gYOMLEBXIpemk1sAPPRy70mNoDX0cuLJjaAT9HLlyY2gE3oZZuJjRoPnfKm28QG0ItedpvYCOjdTcN2ExvAevSy3sQGsAq9vGFiA7gNvcw2sQGcgl4aTYwAG9DHFmCYiRHgDvRxl4k4PFSiCrXxVpQhQso/6rea2AA+RC/vm9gQjyp6WWdiA1iNXlab2AAeQS8LTGwA56KXySZGgA70sdbECnAisBU9bAVOMDEDHA7cH1oJYJ6MJfR6qAAYEfgEsVfGEHodVGFdFqF4M/T81SH5GYTjstDz15q4sy6AGJ9J36HnrxLgPKCvjmL8J/ZQ6HmrBnimjoI8EXq+RTknac9ZiG2SShd6roUBOBL4MQchJAd+TpT5H7UCjAM2ehRD2poQel6FBhjlSYzXgIYM/R8BXAjcIt8bYAnwMvAc8DRwD3CVuIBMLFA78122tcBJwMPA1447vi6gFbhEsovNUIXaeDBlH8OsYSq1uHzQZb9Vzk+lesjOoynbn5xjnLGU7bgJGG6GCmTjhWqvKevQXFwnQ/Rz4HgzFMCdbyXlukqbxwWImvxLCiWYooMbkvd+WpX2pFbWdsIgT+OdpqgAkxwnfHOV9s6wdbJCM7uoLpSPHSb5TdLH076mQj0Zgz0pLaZgYqxynOT0hPYOVBiYJ6eUk0xBimB+4ji59iptLva0gIuAmfb83Yev7XvgYKMR8TMBSzOerU+tYmfUurWVMZ0zoN3DPO3UFhpltRZvBz6qYdF+qJRgYy1wH0bfogrtN3toW8QebwLHYs2xxpIPHkjo60pPfQz6AZbXjaf2W3Nd9EHOyicCDwHf4Zc+2T0l9O3LN1XRoPNYhDPfcujAqcBTwE8ESBug32tLQQQR7stDBHlnX2MjOerBwoSxiAu9SIJs8i3GDGuc1ZPLE8azoWCCCON8CDEaeIkwjE046esroCCzahXjdHsYE4KeSi524CLPfdVLkCW1iDHFVoMOxcaEsckZuKsF3mLrCA/2Myahr0r/c10Gi749qxjjbTlVlZmywONZLXDfOFr0nVk6GKGkJEZbwhjFBZPZAveNg0X/Z5bG5WIuDbyaMMYVKduYWetip1yzQ3OpZCe3BygqzdeWMM7nU7Yxz8eCp1i3tEZqj2vDad/N9WBNwjgliC0N4kUY5WPRq6ybBF2k4WeXRocDv1GAMnzAXId2vrKXU3o9l7DrNcHhaRW+cOlAzhU0sSNhrBLeWUQ7ZIWLIOIy18boBBd/EQWZ6yLIK+hjWoLLv6uAgjS5CBIi/y/zLskGPhdJkG6nwmnAL+jjvYTxShR6kQRZmloM23GeN3BmpbfSttVeONZVIEGmuAqy0iaraPs5K2HMd3tarGsTtrY+6DAxADTYlIBcvlUej4njKVxAf35GrQxq0TtY4El8EFXhAvpfKz5CjvZa9A0ZLPCkK8XjyU8cEGitIep9IDeYWKH/FE9KaWhhuYkd4EZ0sKYsXmCRZJk6F7gZyLvAIXvHU2L2iNIS6NrX5cD+oeevEvrT2zbXSYidUdaTdwUYaQtw7spRDLEzyhorGcKaWm0Uui86orLA80BCUyUKvYZbSMWFvszZUVhiqmLLQ82yFYDktdNp/WKyQ5MgQfEkyxmRhBzJGX6Tj6Iz/wOXN1EqNpHikAAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",N1="data:image/svg+xml,%3csvg%20width='71'%20height='71'%20viewBox='0%200%2071%2071'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='71'%20height='71'%20fill='url(%23pattern0_2075_456)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2075_456'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2075_456'%20transform='scale(0.0111111)'/%3e%3c/pattern%3e%3cimage%20id='image0_2075_456'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVR4nO3cP1ICMRxH8VTiEQQ8omgnnNA/lXgUBxqq5+zMFozdovs1JO9zguRNJgu/IqVIkiRJkiSpALfAE/AOHGnXEXgDHoFFOvI98El/9sPekye5x8jnsec/2eN10btNIvRwJ/fuNRH68N+7rMAhEVqAoUMMHWLoEEOHGDrE0CGGDjF0iKFDDB1i6I5Dn4BnYFUqM6wJ2I5rvPrQ21K5MfbVh16WygF3LYRelcoB6xZCb0vlgF0LoU/jHVjdyW7tY9gkQ4cYOsTQIYYOMXTHoU/OOi5bXIt/WLYthF6WyjnrCHHWEeKsY2atfQybZOgQQ4cYOsTQIYbuOPQpNev4zc+1qebey1X8YeGC2cVUiU1UP+vggtnFVIlNTLWafVF/MLuYKrGJa7g6dswssYlqZx10/jFskqFDDB1i6BBDhxg6xNAhhg4xdIihQwwdYuiGQvscG3wlQvvAIJkHBodXZ3v3kAi9GB9C7dUHcDN76LNnjfedRl5HIv842Zvhvmr8A3kAXobrInaSJUmSJEmSSt2+AQ1Ls0cCknWYAAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",H5="data:image/svg+xml,%3csvg%20width='66'%20height='66'%20viewBox='0%200%2066%2066'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='66'%20height='66'%20fill='url(%23pattern0_2075_486)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2075_486'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2075_486'%20transform='scale(0.0111111)'/%3e%3c/pattern%3e%3cimage%20id='image0_2075_486'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEf0lEQVR4nO2cW6hVRRjHp3O8lpp29SkvXewGRmG9+GKYD8IxJUQlsCCpx3oLVMKgi5RB1lMFCj0dDXrIREUkFd/SB1FDjcQuYmRRJ7t3Or8Y9myS3b7MrLnvNb/Xvdea7/vWmm++mf+sEaJQKBQKhUKhUCgUCnkDTANWAzuAS8AFYDMwIbZt2QPcCKwDdgN/0J7Nse3MEuAW4GlgF/AXvbkY2+ZsAO4GNgBHMedSbPuTBrgH2AScwo7h2L4kBTAILAS2Al/jjlWi7gCTgMUquBdxjxwgp4k6AlwNDAHvAyP45WNRJ4DrgbWqUuhUhvngKVGzMuxvwjMq62zRx5XCRuBYgECO9fj9kOjTMuwzwiBTzyca/3tW5Az+yjAdZHvPAL9p/HeOyLwM+5Y4HFYzxHMa//1U5AJhy7BevANM1kwZkvUiZYhXhnXid+BJZdubBtfdJVIDmCUHDmB/pDKsE18BC5SNjxtcd0akAjBXBfeIRpkUg0PATcrW+cCvBte+UrcyzCYfj1c2Xwd8YXj9gjqVYVXz8RMt9u81vMc3wFWhyrAh9VbEKsOq8CXwQIsvWyrcZ6vvAI8H3gB+IT/2yRTR4o8UWauwyHegZZBzY0yp1IMtvsyv+MJ8D4zzHWgpr+fEZWBlGz+qDH5NtnkNsjLwB/Lhc+DeNj4MqjRSlaEQgc4ldewGZnTwQaYRmx4yKUSgJwDvknY+fgkY6GD/SsuJ007vQW4xeK3mEmJILgOPdbH5TgeLVquDBloZfj9wnjQ4K2ekXWydoXJ2nko3cANwgPj5eHoXGwekSu2inbDR/b8j4ywHGNv6eKCHfS/jhnUiBYA1hqtfNvwMrNCw6VFHq4ajzVW+JADu05SAbDgjpSYNW+Y5VGwOikTVE5sJQTekInOthg1THS/Tpql0q9nXJoeL/WM6+fiKwU8+EJekrXQDy4CfLJ0cAZYbtPkibjkqckDlyqrd+LSJAKoe7D+OA71B5ILKmR8aOviRTj6+oo07HPSedvQceJNCSj/A8xpvnHY+bnmQtjv223FW5AqwFPixSz5eVuEBfoAf4irdtgC3ASdanDoO3FrhXi/gj7BKtw+AKXLZUTk0DFxT4R5L1KzNB2GU7hDQ6PaLqzgE3N4lBbngbVF3aPSG1tTjGr9Kdya9YIfnIPtXulMHWI9//CvdKQM84nHwC6t0pwowO9C+kjBKd4rQ2IUf4gus8Ep3YoPfMOFYI+oIjTo7FH+aLGT1FYQp59JQuhOZoJwMEOg0lO6Y4H/KLZdvZ8b2MwlofGXgWkHpz2+6bfGgCTZ5ztq4fgI/Knf6SncMcL9v41hsn5IFN9twm2yM7U/SACscbdLJS+mOAfBabZXuCIPjHotAvxrbh2zA7nO2B2PbnxWYn07QX0p3SDA7b0NSlO6qAG8ZBPrhyg3VHRrf1BzUCHJRum0BbtY4O2S7dUMFIYP9UI+DsYw2Uxa6oM4s7aR0T+52bcEQ4L02gd5iep9CD4CJ6lQGOfh9B7zePLSqUCgUCoVCoVAoFAriP/4FrHVVi1V6lakAAAAASUVORK5CYII='/%3e%3c/defs%3e%3c/svg%3e",XZ={SUPER_ADMIN:"Super Admin",ADMIN:"Admin",USER:"User"};function IZ(n){const e=Me.c(33),{order:t,username:i,email:s,role:a,rank:o,onPromoteClick:c,onDemoteClick:f,onUsernameClick:h,className:m}=n,g=m===void 0?"":m,x=VZ,y=aA[o]||o,v=zs[o]||"#FFFFFF",S=`grid grid-cols-[60px_2fr_2fr_1fr_1fr_100px] gap-4 px-6 py-3 items-center hover:bg-sidebar/20 transition-colors cursor-pointer ${g}`;let w;e[0]!==t?(w=p.jsx("span",{className:"text-text text-center font-anta text-sm",children:t}),e[0]=t,e[1]=w):w=e[1];let C;e[2]!==v?(C={color:v},e[2]=v,e[3]=C):C=e[3];let R;e[4]!==C||e[5]!==i?(R=p.jsx("span",{className:"font-anta text-sm font-bold text-center",style:C,children:i}),e[4]=C,e[5]=i,e[6]=R):R=e[6];let E;e[7]!==v?(E={color:v},e[7]=v,e[8]=E):E=e[8];let j;e[9]!==s||e[10]!==E?(j=p.jsx("span",{className:"font-anta text-sm font-bold text-center truncate",style:E,title:s,children:s}),e[9]=s,e[10]=E,e[11]=j):j=e[11];let Q;e[12]!==v?(Q={color:v},e[12]=v,e[13]=Q):Q=e[13];let M;e[14]!==y||e[15]!==Q?(M=p.jsx("span",{className:"font-anta text-sm text-center font-bold",style:Q,children:y}),e[14]=y,e[15]=Q,e[16]=M):M=e[16];const k=`font-anta text-sm text-center ${x(a)}`,$=XZ[a]||a;let D;e[17]!==k||e[18]!==$?(D=p.jsx("span",{className:k,children:$}),e[17]=k,e[18]=$,e[19]=D):D=e[19];let L;e[20]!==f||e[21]!==c||e[22]!==a?(L=p.jsx("div",{className:"flex items-center justify-center",onClick:YZ,children:a==="SUPER_ADMIN"?p.jsx("span",{}):a==="ADMIN"?p.jsx("button",{onClick:f,className:`\r
                            flex items-center justify-center\r
                            border border-rose-500/30 bg-rose-500/5 text-rose-400\r
                            hover:bg-rose-600 hover:text-white hover:border-rose-600 hover:shadow-[0_0_10px_rgba(225,29,72,0.3)]\r
                            px-4 py-1 rounded-full \r
                            font-anta text-[10px] uppercase tracking-widest \r
                            transition-all duration-300\r
                        `,children:"Demote"}):p.jsx("button",{onClick:c,className:`\r
                            flex items-center justify-center\r
                            border border-emerald-500/30 bg-emerald-500/5 text-emerald-400\r
                            hover:bg-emerald-500 hover:text-white hover:border-emerald-500 hover:shadow-[0_0_10px_rgba(16,185,129,0.3)]\r
                            px-4 py-1 rounded-full \r
                            font-anta text-[10px] uppercase tracking-widest \r
                            transition-all duration-300\r
                        `,children:"Promote"})}),e[20]=f,e[21]=c,e[22]=a,e[23]=L):L=e[23];let V;return e[24]!==h||e[25]!==D||e[26]!==L||e[27]!==S||e[28]!==w||e[29]!==R||e[30]!==j||e[31]!==M?(V=p.jsxs("div",{onClick:h,className:S,children:[w,R,j,M,D,L]}),e[24]=h,e[25]=D,e[26]=L,e[27]=S,e[28]=w,e[29]=R,e[30]=j,e[31]=M,e[32]=V):V=e[32],V}function YZ(n){return n.stopPropagation()}function VZ(n){switch(n){case"ADMIN":return"text-yellow-500";default:return"text-text"}}function qZ(n){const e=Me.c(14),{value:t,onChange:i}=n;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["ADMIN","USER"],e[0]=s):s=e[0];const a=s;let o;e[1]!==i||e[2]!==t?(o=x=>{i(t===x?null:x)},e[1]=i,e[2]=t,e[3]=o):o=e[3];const c=o;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx("span",{className:"text-text font-anta text-sm whitespace-nowrap",children:"Filter by Role"}),e[4]=f):f=e[4];let h;e[5]!==c||e[6]!==t?(h=a.map(x=>p.jsx("button",{onClick:()=>c(x),className:`
              px-4 py-2 rounded-xl border font-anta text-sm transition-all duration-200
              ${t===x?"bg-orange border-orange text-white":"bg-container border-sidebar/30 text-text hover:border-orange/50"}
            `,children:x==="ADMIN"?"Admin":"User"},x)),e[5]=c,e[6]=t,e[7]=h):h=e[7];let m;e[8]!==i||e[9]!==t?(m=t&&p.jsx("button",{onClick:()=>i(null),className:"px-3 py-2 rounded-xl bg-container border border-sidebar/30 text-text/60 hover:text-text hover:border-orange/50 font-anta text-xs transition-all duration-200",children:"All"}),e[8]=i,e[9]=t,e[10]=m):m=e[10];let g;return e[11]!==h||e[12]!==m?(g=p.jsxs("div",{className:"flex items-center gap-4",children:[f,p.jsxs("div",{className:"flex items-center gap-2",children:[h,m]})]}),e[11]=h,e[12]=m,e[13]=g):g=e[13],g}function HZ(n,e,t,i=20){return{order:t*i+e+1,id:n.id,username:n.username,email:n.email,role:n.role,rank:n.rank}}function GZ(){const[n,e]=T.useState([]),[t,i]=T.useState(""),[s,a]=T.useState(null),[o,c]=T.useState(0),[f,h]=T.useState(1),[m,g]=T.useState(!1),x=vt();async function y(E=0){g(!0);try{let j;t.trim()!==""?j=await zM(t,E,20):s?j=await UM(s,E,20):j=await LM(E,20);const Q=j.content.map((M,k)=>HZ(M,k,E));e(Q),c(E),h(j.totalPages)}catch(j){console.error("Failed to fetch users",j)}finally{g(!1)}}T.useEffect(()=>{y()},[t,s]);const v=async E=>{try{await BM(E.id),console.log("User promoted:",E.username),y(o)}catch(j){console.error("Failed to promote user:",j)}},S=async E=>{try{await ZM(E.id),console.log("User demoted:",E.username),y(o)}catch(j){console.error("Failed to demote user:",j)}},w=E=>{x(`/profile/${E.username}/overview`)},C=()=>{o>0&&y(o-1)},R=()=>{o<f-1&&y(o+1)};return p.jsxs("div",{className:"flex flex-col h-[90vh] space-y-4 p-scroll-x",children:[p.jsxs("div",{className:"flex items-center justify-between flex-wrap space-y-4",children:[p.jsx(Zh,{value:t,onChange:i,placeholder:"Search users by username..."}),p.jsx(qZ,{value:s,onChange:a})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll",children:p.jsx(ri,{data:n,columns:["#","Username","Email","Rank","Role","Actions"],renderRow:E=>p.jsx(IZ,{...E,onPromoteClick:()=>v(E),onDemoteClick:()=>S(E),onUsernameClick:()=>w(E),className:"cursor-pointer"},E.id),gridCols:"grid-cols-[60px_2fr_2fr_1fr_1fr_100px]"})}),p.jsxs("div",{className:"flex justify-center gap-4",children:[p.jsx("button",{onClick:C,disabled:o===0||m,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Previous"}),p.jsxs("span",{className:"flex items-center text-text/80 font-anta text-sm bg-sidebar/30 px-4 rounded-full border border-white/5",children:["Page ",o+1," of ",f]}),p.jsx("button",{onClick:R,disabled:o>=f-1||m,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Next"})]})]})}const WZ="grid grid-cols-[80px_2fr_1fr_100px_100px_100px] gap-4 px-6 py-2 items-center border-b border-white/5 last:border-0 [&>*:first-child]:justify-self-center [&>*:nth-child(5)]:justify-self-center [&>*:nth-child(6)]:justify-self-center";function FZ(n){const e=Me.c(19),{index:t,name:i,author:s,onApprove:a,onReject:o,onRowClick:c,onAuthorClick:f}=n;let h;e[0]!==t?(h=p.jsx("span",{className:"text-text/60 group-hover:text-text font-anta text-xs truncate transition-colors",children:t}),e[0]=t,e[1]=h):h=e[1];let m;e[2]!==i?(m=p.jsx("span",{className:"text-text font-anta text-sm truncate",title:i,children:i}),e[2]=i,e[3]=m):m=e[3];let g;e[4]!==s||e[5]!==f?(g=p.jsx("span",{className:"text-text/80 font-anta text-xs truncate",children:s?p.jsxs("span",{onClick:w=>{w.stopPropagation(),f()},className:"px-2 py-0.5 rounded bg-white/5 text-text/80 hover:bg-orange/20 hover:text-orange cursor-pointer transition-colors",children:["@",s]}):p.jsx("span",{className:"opacity-30",children:"-"})}),e[4]=s,e[5]=f,e[6]=g):g=e[6];let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=p.jsx("span",{}),e[7]=x):x=e[7];let y;e[8]!==a?(y=p.jsx(Wr,{label:"Approve",onClick:w=>{w.stopPropagation(),a()},variant:"positive",size:"small"}),e[8]=a,e[9]=y):y=e[9];let v;e[10]!==o?(v=p.jsx(Wr,{label:"Reject",onClick:w=>{w.stopPropagation(),o()},variant:"negative",size:"small"}),e[10]=o,e[11]=v):v=e[11];let S;return e[12]!==c||e[13]!==h||e[14]!==m||e[15]!==g||e[16]!==y||e[17]!==v?(S=p.jsxs("div",{onClick:c,className:`${WZ} hover:bg-sidebar/30 transition-all duration-200 group cursor-pointer`,children:[h,m,g,x,y,v]}),e[12]=c,e[13]=h,e[14]=m,e[15]=g,e[16]=y,e[17]=v,e[18]=S):S=e[18],S}function G5(n){const e=Me.c(17),{isOpen:t,onClose:i,onSubmit:s}=n,[a,o]=T.useState("");if(!t)return null;let c;e[0]!==a||e[1]!==s?(c=()=>{a.trim()&&(s(a.trim()),o(""))},e[0]=a,e[1]=s,e[2]=c):c=e[2];const f=c;let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx("h2",{className:"text-lg font-anta text-white mb-4",children:"Enter Rejection Note"}),e[3]=h):h=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=w=>o(w.target.value),e[4]=m):m=e[4];let g;e[5]!==a?(g=p.jsx("textarea",{className:"w-full h-24 p-2 rounded-md border border-white/20 bg-sidebar/20 text-white resize-none focus:outline-none focus:ring-2 focus:ring-orange",value:a,onChange:m,placeholder:"Write your rejection note here..."}),e[5]=a,e[6]=g):g=e[6];let x;e[7]!==i?(x=p.jsx("button",{className:"px-4 py-2 bg-gray-700 text-white rounded-xl hover:bg-gray-600 transition",onClick:i,children:"Cancel"}),e[7]=i,e[8]=x):x=e[8];let y;e[9]!==f?(y=p.jsx("button",{className:"px-4 py-2 bg-orange text-white rounded-xl hover:bg-orange/90 transition",onClick:f,children:"Submit"}),e[9]=f,e[10]=y):y=e[10];let v;e[11]!==x||e[12]!==y?(v=p.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[x,y]}),e[11]=x,e[12]=y,e[13]=v):v=e[13];let S;return e[14]!==g||e[15]!==v?(S=p.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:p.jsxs("div",{className:"bg-sidebar/90 rounded-xl p-6 w-96 shadow-xl border border-white/10",children:[h,g,v]})}),e[14]=g,e[15]=v,e[16]=S):S=e[16],S}const KZ=async(n=0,e=20)=>Qe({method:"GET",url:`/admin/problems/pending?page=${n}&size=${e}`}),W5=async n=>Qe({method:"POST",url:`/admin/problems/${n}/accept`}),F5=async(n,e)=>Qe({method:"POST",url:`/admin/problems/${n}/reject`,data:e,headers:{"Content-Type":"text/plain"}}),JZ=async n=>Qe({method:"POST",url:`/ai-review/${n}`});function eU(n){const e=Me.c(9),{count:t}=n;let i;e[0]!==t?(i=p.jsx("span",{className:"text-2xl font-anta text-orange leading-none",children:t}),e[0]=t,e[1]=i):i=e[1];let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=p.jsx("span",{className:"text-[10px] font-anta text-text/60 uppercase tracking-widest",children:"Pending"}),e[2]=s):s=e[2];let a;e[3]!==i?(a=p.jsxs("div",{className:"flex flex-col items-end",children:[i,s]}),e[3]=i,e[4]=a):a=e[4];let o,c;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=p.jsx("div",{className:"h-8 w-[1px] bg-white/10"}),c=p.jsx("div",{className:"h-2 w-2 rounded-full bg-orange animate-pulse shadow-[0_0_10px_rgba(249,115,22,0.5)]"}),e[5]=o,e[6]=c):(o=e[5],c=e[6]);let f;return e[7]!==a?(f=p.jsxs("div",{className:"flex items-center gap-4 bg-sidebar/20 border border-white/5 rounded-xl px-6 py-3 backdrop-blur-sm",children:[a,o,c]}),e[7]=a,e[8]=f):f=e[8],f}function K5(n){const e=Me.c(16),{title:t,totalProblems:i,onApprove:s,onReject:a,onAIReview:o}=n,c=!!(s||a||o);let f;e[0]!==t?(f=p.jsx("h1",{className:"text-3xl font-anta text-white tracking-wide",children:t}),e[0]=t,e[1]=f):f=e[1];let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=p.jsx("p",{className:"text-text/60 text-sm mt-1 font-anta",children:"Curate and manage community submissions"}),e[2]=h):h=e[2];let m;e[3]!==f?(m=p.jsxs("div",{children:[f,h]}),e[3]=f,e[4]=m):m=e[4];let g;e[5]!==c||e[6]!==o||e[7]!==s||e[8]!==a||e[9]!==i?(g=c?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:v=>{v.preventDefault(),o?.()},title:"Show AI Review",className:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-tr from-[#4285F4] via-[#9B72CB] to-[#D96570] text-white hover:scale-110 transition-transform duration-200 shadow-lg",children:p.jsx(H3,{size:24,fill:"white"})}),p.jsx(Wr,{variant:"positive",onClick:s,label:"APPROVE",size:"large"}),p.jsx(Wr,{variant:"negative",onClick:a,label:"REJECT",size:"large"})]}):i!==void 0&&p.jsx(eU,{count:i}),e[5]=c,e[6]=o,e[7]=s,e[8]=a,e[9]=i,e[10]=g):g=e[10];let x;e[11]!==g?(x=p.jsx("div",{className:"flex items-center gap-4",children:g}),e[11]=g,e[12]=x):x=e[12];let y;return e[13]!==m||e[14]!==x?(y=p.jsxs("div",{className:"flex items-center justify-between",children:[m,x]}),e[13]=m,e[14]=x,e[15]=y):y=e[15],y}function tU(){const n=vt(),[e,t]=T.useState([]),[i,s]=T.useState(0),[a,o]=T.useState(1),[c,f]=T.useState(0),[h,m]=T.useState(!1),[g,x]=T.useState(null);async function y(E=0){try{const j=await KZ(E,20),Q=j.content.map(M=>({id:M.id,name:M.title??M.name,index:M.index,author:M.author}));t(Q),s(E),o(j.totalPages),f(j.totalElements||0)}catch(j){console.error("Failed to fetch pending problems",j)}}T.useEffect(()=>{y()},[]);const v=async E=>{await W5(E),y(i)},S=E=>{x(E),m(!0)},w=async E=>{g!==null&&(await F5(g,E),m(!1),x(null),y(i))},C=()=>{i>0&&y(i-1)},R=()=>{i<a-1&&y(i+1)};return p.jsxs("div",{className:"flex flex-col h-[90vh] p-8 space-y-6",children:[p.jsx(K5,{title:"Review Problems",totalProblems:c}),p.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-white/5 bg-sidebar/10 shadow-xl",children:p.jsx("div",{className:"h-full overflow-y-auto custom-scroll",children:p.jsx(ri,{data:e.filter(E=>E.author!==En()).map((E,j)=>({...E,index:j+1+i*20,onApprove:()=>v(E.id),onReject:()=>S(E.id)})),columns:["#","Name","Author","","Approve","Reject"],renderRow:E=>p.jsx(FZ,{id:E.id,index:E.index,name:E.name,author:E.author,onApprove:E.onApprove,onReject:E.onReject,onRowClick:()=>n(`/review-problems/${E.id}`),onAuthorClick:()=>n(`/profile/${E.author}/overview`)},E.id)})})}),p.jsxs("div",{className:"flex justify-center gap-4",children:[p.jsx("button",{onClick:C,disabled:i===0,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Previous"}),p.jsxs("span",{className:"flex items-center text-text/80 font-anta text-sm bg-sidebar/30 px-4 rounded-full border border-white/5",children:["Page ",i+1," of ",a]}),p.jsx("button",{onClick:R,disabled:i>=a-1,className:"px-5 py-2 bg-sidebar/50 border border-white/10 text-white rounded-full hover:bg-orange hover:border-orange disabled:opacity-30 disabled:hover:bg-sidebar/50 disabled:hover:border-white/10 disabled:cursor-not-allowed transition-all duration-300 font-anta text-sm",children:"Next"})]}),p.jsx(G5,{isOpen:h,onClose:()=>m(!1),onSubmit:w})]})}const nU="data:image/svg+xml,%3csvg%20width='65'%20height='68'%20viewBox='0%200%2065%2068'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='65'%20height='68'%20fill='url(%23pattern0_2075_122)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2075_122'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2075_122'%20transform='matrix(0.0111111%200%200%200.0106209%200%200.0220588)'/%3e%3c/pattern%3e%3cimage%20id='image0_2075_122'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQElEQVR4nO2cPWsUURSGxzSKYhlwVTSxtNHSziqYFFbW/oSoEbIKgqCrRVob0VIUez9+gDZRUNHCWPkFQn5AEtxUjxwyYRfZmbk7mT33Y85Th9z3PjmcmXuY3CwzDMMwDMMwDMMwDMMwMuAAcBV4D2ySLpvAO+AKsF9b8nHgC+3js+xds5LbKHlY9uQrO28XbWdRQ7T05LazqiF6w/cuA2BDQ7QBmGglTLQSJloJE62EiVbCRCthopUw0S0W3QeWgU4WGJIJ6ALbKYhezgIHuJGC6CNZ4EjGFER3ssABjqUgupsFDnAzlYdhFziaBYZkyvtzEg/DJDHRSphoJUy0EiZaCROthIlWwkQrYaJbLLrvY0y6lxGoCxobiGpMSo0RqAsawaMak1JjBOqCRvCoxqTUGIG6oBE8qjEpNUagLmgEj2JMyh5GoC5obMDARKthopUw0YPnwgPgHHAIOAicBi4Bt4BnwEdgi5qYaPgDnHXcyz5gBpgHrgOv8j9SJW0Xve0quWR/08CLqoWaM1ocJGQeNrRHqfT7ZQs1sU5ViJA53/Be7xUt1OQ6RYuHzPQE9nt31EJNrzNq4ei+JgW+AW+AR8A14AJwUlpE3crWCB3d16TA24Js8s+pH4AnIn4c2Rqho/uaFHjskPM3MFvxe+6ELLoz8VDVmZccszrL1ggd3dek7BxIXPnh0kY0Qkf3NSk7pz+alK0ROmS2gKkRmadqXEckbeSUH8vhi6aoEoFPjI8/2YTPfEHupzV/308vbYTwWSrIPQv8ikY24fOyJPuJ/EFH8G2E8OmXzTyiqWzi4HXZHCOKyiYeehX72Gtlz5joASsVe5HK/k6IlR3hdWwrUcqO9ILBnsMRPaw2kt86GyO9qGTLBaj5Ragx0puQbHmlnGtU9NC1xiZ7IHmhccn/VfaiXIga4QOy5yBb2oFfyW2A6rcR+Vjnou+cSUBxZVdWsvTsiR9qEpfdd5C8kP/c5E+QicrujyF5lzXgsF7aNGTPjSl5l9t6SROnRLLw1Xe+NkgW/vrO2AbJwrrvnFGTv8K5/IfAc99Zo8bxBCkHmzO+s6Yie61E8mXfGbNUkPdkeYWTt4u8laxLuxiu5H8BrlFovQrrMgAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",iU="data:image/svg+xml,%3csvg%20width='65'%20height='65'%20viewBox='0%200%2065%2065'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='65'%20height='65'%20fill='url(%23pattern0_2075_123)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2075_123'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2075_123'%20transform='scale(0.0111111)'/%3e%3c/pattern%3e%3cimage%20id='image0_2075_123'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD6klEQVR4nO2dSWsVQRDHC9xxu7qBivoFXE4qCaJCoqAeVHAB43ZRcEPP3lzQGAJ+jbgdFP0AMUGJ28GL4sE9JsaTCag/KdJChPfik8x09czUDx6Ex7w3VX9euruqq2tEHMdxHMdxHMdxnMYAJgFrgEPAZeAm8Ax4BQwCI+E1GN57Fq65FD6zWr+jwdtVC2ARcBK4A3xj4gwBt4ETwEKpMsAMYD/wAPhJfvwA7gP7gOlSFYBZ4Zf2jvh8Bs4Dc6WsAFOAs8AA9qgNZ9QmKRPAeuA56fES2ChFR8dE4Drwi3RR2zqBaVJEgCXAQ4rDY2C5FAn9d8xomRYbXRZukCIA7AC+U1xGgN2SMsDRnNfEsVAfjkiKANtDcFAWfgK7JCV0XAOGKR8jwGZJAWBFQSe+/5kgl1mLPC0si8rOI9N1dghGqkKnlchNBhFfN9AeXvp3TNTXdRYJohcRnfwKtNSwozWMobHQTYbJMYXWLFxMWsaxZUtkW07FEnl25FRndwM29US0p19z6jGEPkdcrjRg09XINp2Jsf30MUGh2yPb9D7XbbGwxxeb7sSGjj/szVNo3Ui1oHUcm7Ya2XQvz5IAq8zckK4u6ogcc3k3Fk2gzc9DaK27sKYnjMfXgF5rY4DjeQitxS3O33TlUaal0ZnzN18zLT8LtXBObVZlKfThOjdxoC1LobWq06nNhSyFvlXnJg4ZTojAU2tvEqYvS6HfWHsj9W2z5nWWQptXgEq6QvdnKbRuu5si6Qo97EIXUGgfOiINHT4ZRpoMzZd3kq7QfaUKWCRdobtKFYJLukJnGoLriVRTJF2hD5QqTSrpCr2yVIl/SVPobBP/wSE9W22GpCl0tltZwSE9VmyGpCn0sTyEXmB5RkXSE1q1mJe50MEp7RJggqQn9N1cRDYsCUtV6D15n+22aP9AYkJ/0ILP3IQ2KkJPUejTuYocHJsZirGrKvSXKIXowTltKlJVoU9EETk4Nxl4QvV4Hr1rjR4FS7zhSdaor01RRR4jtnZuqQodJiKPOaKsx3fLTi8w1UzoIPYyw6r7WBm6pZICQHPBu87UQ8ssNklKANtK2Bhlp6SItscpSaufH1oTLikTWv4UeRgZTq7Fzz9a/wwVdOJrliIBLDboqTERHpm39JngOrsz8QhSbeswXydnGK4/JT3UprVSJhhNRJ2ySLHWoD9sNsfrJhMbRvPZ6uRbA4E/hUbdc6QqMLottle7BOQc6Oh339U9vkq1nq+FdgnQA+zAjfA0iokyGL7rWG4lAUWH0fKzlcBB4KJWA2kNcngUyMCYx4MMhPf6wjV6bVv4rD8exHEcx3Ecx3EcRxrkNzD/9F/nN1JZAAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",sU="data:image/svg+xml,%3csvg%20width='49'%20height='49'%20viewBox='0%200%2049%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='49'%20height='49'%20fill='url(%23pattern0_2075_124)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2075_124'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2075_124'%20transform='scale(0.0111111)'/%3e%3c/pattern%3e%3cimage%20id='image0_2075_124'%20width='90'%20height='90'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVR4nO2dS24TQRRFWx5EMiuIMwKyCWAAgR0lsIeEKR/FsJLwyy4ILAAzCIg/hNmJSipGtN2u/tWt53ckS5HV7T73xenyK0svVVUAwF3gOfAO+BUf4ednwF5uv+IBdoE3NPMKuJbbt0iAW8Bn1ucTcDO3d1EAV4Fz0gm/mN3c/sUAvKY9p7n9iwC4R3d8gWwifrqo4wLYB7aBGXAQn6tj3nihTQd4v6R4+zXH3l9y7Fke+4IAfi4p3nbNseHdXcePyjo1zUVfzGquFW4hfVFGE5TQXLTloOaaDxgOvSaoRXPRhou4AM7iI9yf/zIsOk1Qh+aiFDSaoI7NRSmcWmguSmFPurlo8Zq90OK6uk1QSnOxLrkKLd0EpTQXBRVarwnqO2QAWPRQ5w+VWC7FQh/1UOhDtVyKhd6KxW7zzl7Ec7fUclWmhKzmkhOymktOyGouOSGrueSErOaSE7KaS07Iai45Iau55ISs5pITsppLTshqLjkhq7m6CAFXgKfAN9L5CjwBpg2bUw+Bj6mbTdYKPac788Tt1qOhcw1CWyFgAvzpodC/w2stuUbdNutiyFyD4YUeCYFbx3HireNwEws9BR7HhS2VL8CjNRbDf9/UbO5iqIxcLjkhq7nkhKzmkhOymktOyGouOSGruboI4XsdoxV6Tnd8r6PhvIm34Al4oUeiixC+1zFaoae+17EmckJWc8kJWc0lJ2Q1l5yQ1VxyQlZzyQlZzdVFCN/rGK3Qc7rjex0N5028BU/ACz0SXYTwvY7RCj31vY41kROymktOyGouOSGrueSErOaSE7KaS07Iai45Iau55ISs5pITsporjCjrexxbboCdJZm+Kw4Y/G8EcSmsGJWcdcBgGGq9cgRxVQg0j0o+zj39fFO4na3Qsdgvsc9J1iJv0KDu65UCYTx7HNNujXPgRqVE+McDxm4jL8Jfa6UKcCd+TXW2YuyxIsH1bfh0kX3hcxzHcRzHcRzHqUbkEjVK/ozFnfCfAAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",rU="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='100'%20height='100'%20fill='url(%23pattern0_2629_20)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_2629_20'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_2629_20'%20transform='scale(0.01)'/%3e%3c/pattern%3e%3cimage%20id='image0_2629_20'%20width='100'%20height='100'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFUlEQVR4nO3dMU4bQRiG4V+cJFCmzQVCzgFRilyACIlytzFwFg5CGpc+R6Q0Lv1FI41EA7uWs579ZuZ9pOn3nxfbu4A8EQAAAAAAAEBnJF1J+i7pXtJDJ+te0q2ky3Ah6Zuk38KrpOs1Q1xIelp7F8wcJG3S3qwRhBgf26zxNpV+GvC+Q9G3Lz4zjvJaKsan464HKnH3lW9tcZybEkHS/feUvaRtJ2s/sxcPJYKMMxexi05I2s3sxVjiIgiSEcQMQcwQxAxBzBDEDEHMNBNE0ovBQ912Zr30FGRuEAdLzEGQBRHEDEHMEMQMQcwQxExXQe4kPZuvu26CtEIE8UIQMwQxQxAzBDFDEDPNBJH0WdKXJVesoKUgiz+pxwoIMuHsg582B0FKIsiEsw9+2hwEKYkgE84++GlzEKQkgkw4++CNB+HBcCn86uQNQcwQxAxB/oOkX/mfvJdcfwlyoryBpRHkIwQxI4J40TpBfpQYjCDHGUoNRhCXGHkwgrjEyIMRxCVGHowgLjHyYARxiZEHI4hLjDwYQVxi5MEI4hIjIYhRjIQg8omRdB5kCDcdBxnCUadBhnDVYZAhnHUWZAh3FX/V+B+7v/YtoZMv4x+jFh0cVzFEbfIBWC0ao0bpOJ8Gjzwao2aSHtWOIWqXj83bNPBKGaMlkr5W/JkyRqvSAVjpzKX8nPJcwfq59p4BAAAAAAAAUbF/xGPIQGphFwIAAAAASUVORK5CYII='/%3e%3c/defs%3e%3c/svg%3e",Lw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABTVJREFUeJztm12IVVUUx//7mpWZYsNkImUN2WhpZh8YylQSkRkUOGFSPhVI0YtSmj1M9FAERUL0JgQaRGGCfQyEReAkBmnYTE4fSvRBGaMj4yTTWAzO/Ho4o9w5d+17Pu49595r/R7XWXvttdbZ55y999pHyhHgTqAHOAXsBJrz7L+mAE3AIBN5r9Z+xQKYBbwPDAHdwLIUNlZSylBKfzYBfcAxoANwaezE7ewyoDfk+AlgRkI7q40EkMKfhwwzW5LaOUshorMpkj6StDB0qVnSLWk7rZB7DdnTwKY0xsomQNI2SW2GfEzSL3E6AKYAbZLu9lxfC9yQYBj/5JG/ArTHtBEN8KQ1ZMd5NaKtA+4HOoHTZewU8wfwBnBdhO1LgO88NgaBlmoEvwj429PJDsAcOUABWAccjhm0xShB4m4v498c4HdP+/3A5EqCLwAHPMb3ABd62rUC+yoIPMwZ4DWC95DV3wKC+YTFs5Uk4AmP0T7gCk+bx4k/1JPyAzDf0+/DnjZDwJVpgm8CBgyDo8A9njYbgLEsIi/iOLDI0/9WT5t30yTgBY+xNz36mzMI1scAUPLpBaYRvEDDjALXJwl+KsEEJ8xJ4HJD/z6yv/NhfgOaDF/WevS3J0nAeo+RjYbubKA/gwDjsNPwxwFfGbojwFVxE9BtGBgAphm6ndnFF4tHDZ/aPbrPxQl+gafxi4bukkxCSsYRYFLIrwL2/KO3XOxnJzQlGZWEpO2GvCMyo9nTKmlNscA5NybpLUN3IXBjWWvYE58vDL355P/i89Ft+HcNtn/P+GIvANMl3Wxc22XI1kjKbu2djMXAvGKBc+5XSQcN3eU+IwUFq70LjGtdhsxaitaSFYasy5C14Vm/FCRZz8cpST3FAoI1wK0JHcyapYbsc0M2Q9LVloGCghdKmG+dc6MhWYukixK5lz3zDNk3Hl1zme1LwI+GLN6EIl/mGLKjkk4bcitOFSTNNuTWrsvU+H7lRskkzTmHpJ8NXStOFSRdasgHDZm5D1BjfD79acisOL0J+CutR3WCtd1eMlqkIAHW1vSJqrqTP/2GzNyCL0j6JCQblPRltT3KmXBMPpkEzCSo+gwDh4C7PHpmYaPW+DIAPE+wZD8OeNcvsae1wGpJdVfLc85VNDWPKoyc9yRJQF0mC88cPy5JGk+vpKMMMb/vcUmSgJLNyDqhokMWSRJgFifqAGtBFJskCbA2TeqBivyKlQBgliSzMlMHVLRJE3cErFL9bIWFWTZ+g1IRNwHr0naQA5MlPZa2ceRdBVZK+jhtBznRL2mucy7xoauoM0KTJL2c1qscmSlpfZqGUY/AZkmL0xiuAR1A+DBXJN5HAFgqaY/qbyO0HD2S2pxzw3Eb+M76XCvpAzVW8FIwWt8BrDqHSUkCCKotXQqeq0bkQUm7gIvjKE94BIBWSXslmWeBGoxOSe3OuTPllMIjYJvOj+Al6QFJT0UpnRsBBOdpvs/SoxpwyDl3UzmF4hFQ9oRmg2JWg4opTsDJDB2pFZExFSfggKRj2flSEz6MUjiXAOfciKQN8hQQGpA+SSVnnMJM+Ao453ZIekSNPxL2SbrDOdcXpWhOhQlOWy+Rp6Jax4xIOuKcO1xrR/7nPwmwqoplv6G48/lKqHa15zPZx1PSsNs590+VbHmpagLGt6S2Vsnc61Wyky9AM/b5/SS8Xes4KgJYjv+nqyh6CU6vNjbACvw/Nfk4CDTqRkwpQAuwO0bgw8BLeP5Ia3iA24AtwNcEv+WMAEeBT4GNGL/k5MW/UeemSEUTgGwAAAAASUVORK5CYII=";function aU(){const{id:n}=fs(),e=vt(),t=Number(n),[i,s]=T.useState(null),[a,o]=T.useState(null),[c,f]=T.useState(!0),[h,m]=T.useState(!1),[g,x]=T.useState(null),[y,v]=T.useState(!1),[S,w]=T.useState(!1);T.useEffect(()=>{if(!t||isNaN(t)){e("/not-found",{replace:!0});return}f(!0);const Q=Date.now();X3(t).then(async M=>{M?(await Us(Q),o(M)):e("/not-found",{replace:!0})}).catch(()=>e("/not-found",{replace:!0})).finally(()=>f(!1))},[t,e]);const C=async()=>{if(!h){m(!0),s(null);try{const Q=await JZ(t);if(Q){const M=typeof Q=="string"?JSON.parse(Q):Q;x(M),window.location.reload(),x(M),v(!0)}}catch(Q){console.error("AI Review failed",Q),s(Q.message||"An unexpected error occurred during AI analysis.")}finally{m(!1)}}},R=Q=>Q>=4?"text-green-400 border-green-400/20 bg-green-400/5":Q>=2?"text-yellow-400 border-yellow-400/20 bg-yellow-400/5":"text-red-400 border-red-400/20 bg-red-400/5";if(c)return p.jsx("div",{className:"flex flex-col h-screen font-anta",children:p.jsx(ps,{loadingMessage:"Loading Problems"})});const E=({category:Q})=>{const[M,k]=T.useState(!1),$=g?.[Q];return $?p.jsxs("div",{className:"relative inline-flex items-center ml-4 align-middle",children:[p.jsx("button",{onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onClick:()=>k(!M),className:`p-1.5 rounded-lg border transition-all duration-300 ${M?"bg-orange border-orange text-black":"bg-orange/10 border-orange/30 text-orange"}`,children:p.jsx(H3,{size:16,className:M?"animate-spin-slow":""})}),M&&p.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-4 w-96 p-6 rounded-2xl bg-slate-900/95 border border-white/20 shadow-[0_20px_50px_rgba(0,0,0,0.5)] backdrop-blur-xl z-[100] animate-in fade-in zoom-in-95 slide-in-from-bottom-2 duration-200",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-[10px] font-black text-orange uppercase tracking-[0.2em] mb-1",children:"AI Technical Audit"}),p.jsx("p",{className:"text-sm font-bold text-white",children:Q})]}),p.jsxs("div",{className:`px-3 py-1 rounded-full border text-sm font-black ${R($.score)}`,children:[$.score," / 5"]})]}),p.jsx("p",{className:"text-[13px] text-text/90 leading-relaxed font-medium",children:$.comment}),p.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-900 border-r border-b border-white/20 rotate-45"})]})]}):null},j=()=>{if(!g)return 0;const Q=Object.values(g).map(M=>M.score);return Q.reduce((M,k)=>M+k,0)/Q.length};return p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"flex flex-col p-8 space-y-6",children:p.jsx(K5,{title:"Review Problem",onApprove:async()=>{await W5(t),e("/review-problems")},onReject:()=>w(!0),onAIReview:C})}),p.jsx("div",{className:"w-full py-0 text-white font-anta p-scroll-x",children:p.jsxs("div",{className:"max-w-6xl mx-auto w-full px-8 pb-10",children:[(h||g||i)&&p.jsxs("div",{className:"mb-12 p-6 rounded-xl border border-white/10 bg-sidebar/20 shadow-inner relative overflow-hidden",children:[i&&!h&&p.jsx("div",{className:"flex flex-col items-center justify-center py-4 text-center",children:p.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg",children:[p.jsx("p",{className:"text-red-400 text-sm font-bold mb-1",children:"AI Analysis Failed"}),p.jsx("p",{className:"text-red-400/70 text-xs font-anta",children:i}),p.jsx("button",{onClick:C,className:"mt-3 text-[10px] uppercase tracking-widest text-white underline underline-offset-4 hover:text-orange",children:"Try Again"})]})}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"relative",children:[p.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[p.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-white/5"}),p.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:175.9,strokeDashoffset:175.9-175.9*(g?j()/5:0),className:"text-orange transition-all duration-1000"})]}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-lg font-bold",children:g?j().toFixed(1):"..."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-anta text-xl tracking-wide",children:"AI Quality Score"}),p.jsx("p",{className:"text-xs text-text/50 uppercase tracking-widest",children:"Global evaluation metrics"})]})]}),p.jsx("button",{onClick:()=>v(!y),className:"flex items-center gap-2 px-4 py-2 rounded-full border border-white/10 hover:bg-white/5 transition-all text-xs uppercase tracking-widest",children:y?p.jsxs(p.Fragment,{children:[p.jsx(Xj,{size:14})," Hide Summary"]}):p.jsxs(p.Fragment,{children:[p.jsx(zO,{size:14})," View Summary"]})})]}),y&&g&&p.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-5 gap-4 border-t border-white/5 pt-8 animate-in fade-in slide-in-from-top-2",children:Object.entries(g).map(([Q,M])=>p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:`text-xl font-bold mb-1 ${R(M.score)}`,children:[M.score,"/5"]}),p.jsx("div",{className:"text-[10px] text-text/40 uppercase font-anta",children:Q})]},Q))})]}),a&&p.jsxs("div",{className:"space-y-16",children:[p.jsx("div",{className:"w-full flex justify-center",children:p.jsx(hA,{title:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("span",{className:"text-center",children:a.title}),p.jsx(E,{category:"Constraints Correctness"})]}),timeLimit:a.timeLimit,memoryLimit:a.memoryLimit})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Problem Statement"}),p.jsx(E,{category:"Statement Clarity"})]}),p.jsx("div",{className:"p-8 rounded-2xl bg-white/[0.03] border border-white/10 text-lg leading-relaxed text-text/90",children:a.statement})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Input/Output Format"}),p.jsx(E,{category:"Input/Output Format Clarity"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"p-6 rounded-2xl bg-white/[0.02] border border-white/5",children:[p.jsx("h4",{className:"text-xs font-black text-orange uppercase tracking-[0.2em] mb-4",children:"Expected Input"}),p.jsx("p",{className:"text-text/70",children:a.inputFormat})]}),p.jsxs("div",{className:"p-6 rounded-2xl bg-white/[0.02] border border-white/5",children:[p.jsx("h4",{className:"text-xs font-black text-orange uppercase tracking-[0.2em] mb-4",children:"Expected Output"}),p.jsx("p",{className:"text-text/70",children:a.outputFormat})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Validation Test Cases"}),p.jsx(E,{category:"Solution Correctness"})]}),p.jsx(fA,{testcases:a.visibleTestCases||[]})]})]})]})}),p.jsx(G5,{isOpen:S,onClose:()=>w(!1),onSubmit:async Q=>{await F5(t,Q),e("/review-problems")}})]})}const lU=[{path:"/sign-up",component:n_},{path:"/not-found",component:s_},{path:"/log-in",component:i_},{path:"/auth/callback",component:a_},{path:"/complete-registration",component:r_},{path:"/profile/:username/*",component:O3},{path:"/password-recovery",component:E6}],J5=[{path:"profile/:username",name:"Profile",icon:q5,component:O3,children:[{index:!0,component:()=>p.jsx(Kr,{to:"overview",replace:!0})},{path:"overview",component:wA},{path:"submissions",component:_5},{path:"matches",component:$5}]},{path:"friends",name:"Friends",icon:SO,component:BQ,children:[{index:!0,component:()=>p.jsx(Kr,{to:"my-friends",replace:!0})},{path:"my-friends",component:L5},{path:"requested",component:z5},{path:"pending",component:B5},{path:"users",component:Z5}]},{path:"practice",name:"Practice",icon:LZ,component:hM},{path:"/practice/problem/:id",name:"Problem",icon:N1,component:dM,hideFromNav:!0,children:[{index:!0,component:qh},{path:"submit",component:Wh}]},{path:"play-game",name:"Play Game",icon:wO,component:gP,hideFromNav:!1},{path:"play-game/:id",name:"Game Match",icon:wO,component:ZP,hideFromNav:!0,children:[{index:!0,component:qh},{path:"submit",component:Wh},{path:"match-state",component:V5}]},{path:"leader-board",name:"LeaderBoard",icon:zZ,component:XP},{path:"add-problem",name:"Add Problem",icon:BZ,component:IP,children:[{index:!0,component:()=>p.jsx(Kr,{to:"info",replace:!0})},{path:"info",component:U5},{path:"statement",component:X5},{path:"test-cases",component:I5},{path:"my-suggestions",component:Y5}]},{path:"review-problems",name:"Review Problems",icon:AO,component:tU,requiredRoles:[Pl.ADMIN,Pl.SUPER_ADMIN]},{path:"review-problems/:id",name:"Review Problem Detail",icon:AO,component:aU,hideFromNav:!0,requiredRoles:[Pl.ADMIN,Pl.SUPER_ADMIN]},{path:"user-management",name:"User Management",icon:CO,component:GZ,requiredRoles:[Pl.SUPER_ADMIN]},{path:"notifications",name:"Notifications",icon:Lw,component:M2},{path:"notifications/:notificationId",name:"Notification Detail",icon:Lw,component:M2,hideFromNav:!0},{path:"log-out",name:"Log Out",icon:ZZ,component:b6}],oU=[{path:"overview",name:"Overview",icon:q5,component:wA},{path:"submissions",name:"Submissions",icon:AO,component:_5},{path:"matches",name:"Matches",icon:UZ,component:$5}],cU=[{path:"my-friends",name:"My Friends",icon:SO,component:L5},{path:"requested",name:"Requested",icon:CO,component:z5},{path:"pending",name:"Pending",icon:CO,component:B5},{path:"users",name:"Users",icon:SO,component:Z5}],uU=[{path:"",name:"Problem Statment",icon:N1,component:qh},{path:"submit",name:"Submit Solution",icon:H5,component:Wh}],fU=[{path:"info",name:"Problem Info",icon:iU,component:U5},{path:"statement",name:"Problem Statment",icon:nU,component:X5},{path:"test-cases",name:"Test Cases",icon:sU,component:I5},{path:"my-suggestions",name:"My Suggestions",icon:rU,component:Y5}],hU=[{path:"",name:"Problem Statment",icon:N1,component:qh},{path:"submit",name:"Submit Solution",icon:H5,component:Wh},{path:"match-state",name:"Match State",icon:wO,component:V5}];function eT(n){const e=LQ();return e?n.includes(e):!1}const dU=n=>{const e=Me.c(2);let t;return e[0]!==n?(t=n.filter(mU),e[0]=n,e[1]=t):t=e[1],t};function mU(n){return n.hideFromNav?!1:!n.requiredRoles||n.requiredRoles.length===0?!0:eT(n.requiredRoles)}function pU(){const n=Me.c(7);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=J5.filter(OU),n[0]=e):e=n[0];const t=e,i=En(),s=dU(t),a="bg-sidebar w-sidebar min-w-sidebar min-h-screen p-sideBar-pad font-anta";let o;n[1]===Symbol.for("react.memo_cache_sentinel")?(o=p.jsx("div",{className:"mb-6 mt-4",children:p.jsx("img",{src:"/src/assets/logo.svg",alt:"App Logo",className:"w-full"})}),n[1]=o):o=n[1];const c="flex flex-col gap-2",f="Main navigation",h=s.map(x=>{const{name:y,path:v,icon:S}=x,w=v.includes(":username")&&i?v.replace(":username",i):v;return p.jsxs(Nd,{to:w,className:gU,children:[p.jsx("img",{src:S,className:"w-icon h-icon flex-shrink-0",alt:y}),p.jsx("span",{className:"text-xl font-medium",children:y})]},v)});let m;n[2]!==h?(m=p.jsx("nav",{className:c,"aria-label":f,children:h}),n[2]=h,n[3]=m):m=n[3];let g;return n[4]!==o||n[5]!==m?(g=p.jsxs("aside",{className:a,children:[o,m]}),n[4]=o,n[5]=m,n[6]=g):g=n[6],g}function gU(n){const{isActive:e}=n;return e?"sidebar-list-active":"sidebar-list"}function OU(n){return!n.path.includes("practice/prob")}function xU(){const n=Me.c(2);YM();let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=p.jsx(pU,{}),n[0]=e):e=n[0];let t;return n[1]===Symbol.for("react.memo_cache_sentinel")?(t=p.jsxs("div",{className:"flex min-h-screen",children:[e,p.jsx("div",{className:"flex-1",children:p.jsx("main",{className:"bg-background h-full w-full min-w-[900px]",children:p.jsx(Ia,{})})})]}),n[1]=t):t=n[1],t}const bU=n=>{const e=Me.c(4),{children:t,allowedRoles:i,redirectTo:s}=n,a=s===void 0?"/not-found":s;if(!eT(i)){let c;return e[0]!==a?(c=p.jsx(Kr,{to:a,replace:!0}),e[0]=a,e[1]=c):c=e[1],c}let o;return e[2]!==t?(o=p.jsx(p.Fragment,{children:t}),e[2]=t,e[3]=o):o=e[3],o},yU=n=>{const e=Me.c(3),{children:t}=n,i=wi(),s=localStorage.getItem("token");if(!s||s==="undefined"){const o=PM();o?sessionStorage.setItem("redirectAfterLogin",`/play-game/${o}`):sessionStorage.setItem("redirectAfterLogin",i.pathname);let c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(c=p.jsx(Kr,{to:"/sign-up",replace:!0}),e[0]=c):c=e[0],c}let a;return e[1]!==t?(a=p.jsx(p.Fragment,{children:t}),e[1]=t,e[2]=a):a=e[2],a},zw={success:{accent:"bg-winGreen shadow-[0_0_10px_#81B64C]",title:"text-winGreen",glow:"bg-winGreen"},error:{accent:"bg-loseRed shadow-[0_0_10px_#FF2424]",title:"text-loseRed",glow:"bg-loseRed"},info:{accent:"bg-orange shadow-[0_0_10px_#EC7438]",title:"text-orange",glow:"bg-orange"}};function vU(n){const e=Me.c(36),{notification:t,onClose:i,onClick:s}=n,a=zw[t.type]||zw.info;let o,c;e[0]!==t.id||e[1]!==i?(o=()=>{const D=setTimeout(()=>{i(t.id)},5e3);return()=>clearTimeout(D)},c=[t.id,i],e[0]=t.id,e[1]=i,e[2]=o,e[3]=c):(o=e[2],c=e[3]),T.useEffect(o,c);let f;e[4]!==t.id||e[5]!==s?(f=()=>{s&&s(t.id)},e[4]=t.id,e[5]=s,e[6]=f):f=e[6];const h=f,m=`
                pointer-events-auto 
                relative overflow-hidden
                w-[350px] p-4
                bg-container 
                rounded-button 
                shadow-[0_8px_30px_rgb(0,0,0,0.5)] 
                border border-white/5
                animate-fade-in-out
                font-anta
                ${s?"cursor-pointer hover:bg-container/80 transition-colors":""}
            `,g=`absolute top-0 left-0 w-1.5 h-full ${a.accent}`;let x;e[7]!==g?(x=p.jsx("div",{className:g}),e[7]=g,e[8]=x):x=e[8];const y=`text-sm font-bold tracking-wider uppercase ${a.title}`;let v;e[9]!==t.title||e[10]!==y?(v=p.jsx("h4",{className:y,children:t.title}),e[9]=t.title,e[10]=y,e[11]=v):v=e[11];let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=p.jsx("span",{className:"text-xs text-text/40 font-mono",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e[12]=S):S=e[12];let w;e[13]!==v?(w=p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v,S]}),e[13]=v,e[14]=w):w=e[14];let C;e[15]!==t.message?(C=p.jsx("p",{className:"text-sm text-text leading-relaxed whitespace-pre-line",children:t.message}),e[15]=t.message,e[16]=C):C=e[16];let R;e[17]!==w||e[18]!==C?(R=p.jsxs("div",{className:"pl-3 pr-8 flex flex-col gap-1",children:[w,C]}),e[17]=w,e[18]=C,e[19]=R):R=e[19];let E;e[20]!==t.id||e[21]!==i?(E=D=>{D.preventDefault(),D.stopPropagation(),i(t.id)},e[20]=t.id,e[21]=i,e[22]=E):E=e[22];let j;e[23]===Symbol.for("react.memo_cache_sentinel")?(j=p.jsx(Lc,{className:"w-4 h-4"}),e[23]=j):j=e[23];let Q;e[24]!==E?(Q=p.jsx("button",{onClick:E,className:"absolute top-2 right-2 p-1.5 text-text/60 hover:text-text transition-colors rounded hover:bg-white/10 pointer-events-auto cursor-pointer z-10","aria-label":"Close notification",type:"button",children:j}),e[24]=E,e[25]=Q):Q=e[25];const M=`absolute -top-10 -right-10 w-20 h-20 blur-2xl opacity-10 rounded-full ${a.glow}`;let k;e[26]!==M?(k=p.jsx("div",{className:M}),e[26]=M,e[27]=k):k=e[27];let $;return e[28]!==h||e[29]!==t.id||e[30]!==R||e[31]!==Q||e[32]!==k||e[33]!==m||e[34]!==x?($=p.jsxs("div",{onClick:h,className:m,children:[x,R,Q,k]},t.id),e[28]=h,e[29]=t.id,e[30]=R,e[31]=Q,e[32]=k,e[33]=m,e[34]=x,e[35]=$):$=e[35],$}function SU(n){const e=Me.c(15),{notifications:t,onClose:i,onClick:s}=n;if(t.length===0)return null;let a;e[0]!==i?(a=g=>{i&&i(g)},e[0]=i,e[1]=a):a=e[1];const o=a;let c;e[2]!==s?(c=g=>{s&&s(g)},e[2]=s,e[3]=c):c=e[3];const f=c;let h;if(e[4]!==f||e[5]!==o||e[6]!==t||e[7]!==s){let g;e[9]!==f||e[10]!==o||e[11]!==s?(g=x=>p.jsx(vU,{notification:x,onClose:o,onClick:s?f:void 0},x.id),e[9]=f,e[10]=o,e[11]=s,e[12]=g):g=e[12],h=t.map(g),e[4]=f,e[5]=o,e[6]=t,e[7]=s,e[8]=h}else h=e[8];let m;return e[13]!==h?(m=p.jsx("div",{className:"fixed bottom-6 right-6 flex flex-col gap-4 z-[9999] pointer-events-none",children:h}),e[13]=h,e[14]=m):m=e[14],m}const wU=()=>{const n=Me.c(11),{connectionStatus:e}=Ld();let t;n[0]===Symbol.for("react.memo_cache_sentinel")?(t={connected:{icon:Ag,color:"text-green-500",bg:"bg-green-500/10",text:"Connected"},connecting:{icon:Ag,color:"text-yellow-500",bg:"bg-yellow-500/10",text:"Connecting..."},reconnecting:{icon:Ag,color:"text-orange-500",bg:"bg-orange-500/10",text:"Reconnecting..."},error:{icon:O2,color:"text-red-500",bg:"bg-red-500/10",text:"Connection Error"},disconnected:{icon:O2,color:"text-gray-500",bg:"bg-gray-500/10",text:"Disconnected"}},n[0]=t):t=n[0];const s=t[e],a=s.icon;if(e==="connected")return null;const o=`fixed top-4 right-4 z-50 flex items-center gap-2 px-4 py-2 rounded-lg ${s.bg} border border-white/10`,c=`w-4 h-4 ${s.color} ${e==="connecting"||e==="reconnecting"?"animate-pulse":""}`;let f;n[1]!==a||n[2]!==c?(f=p.jsx(a,{className:c}),n[1]=a,n[2]=c,n[3]=f):f=n[3];const h=`text-sm font-anta ${s.color}`;let m;n[4]!==s.text||n[5]!==h?(m=p.jsx("span",{className:h,children:s.text}),n[4]=s.text,n[5]=h,n[6]=m):m=n[6];let g;return n[7]!==o||n[8]!==f||n[9]!==m?(g=p.jsxs("div",{className:o,children:[f,m]}),n[7]=o,n[8]=f,n[9]=m,n[10]=g):g=n[10],g};function Bw(n){const e=n.type==="warning"?"info":n.type,t=n.metadata?.senderUsername||n.metadata?.accepterUsername||"System";return{id:n.id.split("-").reduce((s,a)=>{const o=parseInt(a)||0;return s+o},0),title:n.title,message:n.message,sender:t,type:e}}const AU=()=>{const n=Me.c(13),{notifications:e,removeNotification:t,markAsRead:i}=Ld();let s;n[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],n[0]=s):s=n[0];const[a,o]=T.useState(s);let c;n[1]===Symbol.for("react.memo_cache_sentinel")?(c=new Set,n[1]=c):c=n[1];const[f,h]=T.useState(c);let m,g;n[2]!==i||n[3]!==e||n[4]!==f?(m=()=>{e.slice(0,3).forEach(S=>{if(!f.has(S.id)){S.read||i(S.id),h(C=>new Set([...C,S.id]));const w=Bw(S);o(C=>C.some(R=>R.id===w.id)?C:[...C,w])}})},g=[e,i,f],n[2]=i,n[3]=e,n[4]=f,n[5]=m,n[6]=g):(m=n[5],g=n[6]),T.useEffect(m,g);let x;n[7]!==e||n[8]!==t?(x=S=>{o(C=>C.filter(R=>R.id!==S));const w=e.find(C=>Bw(C).id===S);w&&(t(w.id),h(C=>{const R=new Set(C);return R.delete(w.id),R}))},n[7]=e,n[8]=t,n[9]=x):x=n[9];const y=x;let v;return n[10]!==a||n[11]!==y?(v=p.jsx(SU,{notifications:a,onClose:y}),n[10]=a,n[11]=y,n[12]=v):v=n[12],v};function CU(){return J5.map(({path:n,component:e,children:t,requiredRoles:i})=>{const s={path:n,element:i?p.jsx(bU,{allowedRoles:i,children:p.jsx(e,{})}):p.jsx(e,{})};return t&&t.length>0&&(s.children=t.map(a=>a.index?{index:!0,element:p.jsx(a.component,{})}:{path:a.path,element:p.jsx(a.component,{})})),s})}const kU=vQ([{index:!0,element:p.jsx(Kr,{to:"/sign-up",replace:!0})},...lU.map(({path:n,component:e})=>({path:n,element:p.jsx(e,{})})),{path:"/",element:p.jsx(yU,{children:p.jsx(xU,{})}),children:CU()},{path:"*",element:p.jsx(Kr,{to:"/not-found",replace:!0})}]);OE.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsxs(uP,{children:[p.jsx(MQ,{router:kU}),p.jsx(wU,{}),p.jsx(AU,{})]})}));
